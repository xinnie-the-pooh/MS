<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>test: lh_core/calcndim.c File Reference</title>
<link href="../../doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.7 -->
<div class="qindex"><a class="qindex" href="../../main.html">Main&nbsp;Page</a> | <a class="qindex" href="../../hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="../../annotated.html">Class&nbsp;List</a> | <a class="qindex" href="../../files.html">File&nbsp;List</a> | <a class="qindex" href="../../functions.html">Class&nbsp;Members</a> | <a class="qindex" href="../../globals.html">File&nbsp;Members</a></div>
<h1>calcndim.c File Reference</h1><code>#include "General.h"</code><br>
<code>#include "CalcEng.h"</code><br>
<code>#include "CalcNDim.h"</code><br>

<p>
<a href="../../d9/d2/lh__core_2calcndim_8c-source.html">Go to the source code of this file.</a><table border=0 cellpadding=0 cellspacing=0>
<tr><td></td></tr>
<tr><td colspan=2><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d8/d3/lh__core_2calcndim_8c.html#a0">UNROLL_NDIM</a>&nbsp;&nbsp;&nbsp;1</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d8/d3/lh__core_2calcndim_8c.html#a1">SHRINK_FACTOR</a>&nbsp;&nbsp;&nbsp;13</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d8/d3/lh__core_2calcndim_8c.html#a2">DebugPrint</a>(x)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d8/d3/lh__core_2calcndim_8c.html#a3">CLIPPWord</a>(x, a, b)&nbsp;&nbsp;&nbsp;((x)&lt;(a)?(<a class="el" href="../../d5/d3/w98_2lh__core_2calceng1_8h.html#a6">LH_UINT16</a>)(a):((x)&gt;(b)?(<a class="el" href="../../d5/d3/w98_2lh__core_2calceng1_8h.html#a6">LH_UINT16</a>)(b):(<a class="el" href="../../d5/d3/w98_2lh__core_2calceng1_8h.html#a6">LH_UINT16</a>)(x+.5)))</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d8/d3/lh__core_2calcndim_8c.html#a4">CLIPP</a>(x, a, b)&nbsp;&nbsp;&nbsp;((x)&lt;(a)?(a):((x)&gt;(b)?(b):(x)))</td></tr>

<tr><td colspan=2><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a11">CMError</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d8/d3/lh__core_2calcndim_8c.html#a5">Calc323Dim_Data8To8_Lut16</a> (<a class="el" href="../../d7/d3/structCMCalcParam.html">CMCalcParamPtr</a> calcParam, <a class="el" href="../../d0/d4/structCMLutParam.html">CMLutParamPtr</a> lutParam)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a11">CMError</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d8/d3/lh__core_2calcndim_8c.html#a6">Calc324Dim_Data8To8_Lut16</a> (<a class="el" href="../../d7/d3/structCMCalcParam.html">CMCalcParamPtr</a> calcParam, <a class="el" href="../../d0/d4/structCMLutParam.html">CMLutParamPtr</a> lutParam)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a11">CMError</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d8/d3/lh__core_2calcndim_8c.html#a7">Calc423Dim_Data8To8_Lut16</a> (<a class="el" href="../../d7/d3/structCMCalcParam.html">CMCalcParamPtr</a> calcParam, <a class="el" href="../../d0/d4/structCMLutParam.html">CMLutParamPtr</a> lutParam)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a11">CMError</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d8/d3/lh__core_2calcndim_8c.html#a8">Calc424Dim_Data8To8_Lut16</a> (<a class="el" href="../../d7/d3/structCMCalcParam.html">CMCalcParamPtr</a> calcParam, <a class="el" href="../../d0/d4/structCMLutParam.html">CMLutParamPtr</a> lutParam)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a11">CMError</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d8/d3/lh__core_2calcndim_8c.html#a9">CalcNDim_Data8To8_Lut16</a> (<a class="el" href="../../d7/d3/structCMCalcParam.html">CMCalcParamPtr</a> calcParam, <a class="el" href="../../d0/d4/structCMLutParam.html">CMLutParamPtr</a> lutParam)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a11">CMError</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d8/d3/lh__core_2calcndim_8c.html#a10">CalcNDim_Data8To16_Lut16</a> (<a class="el" href="../../d7/d3/structCMCalcParam.html">CMCalcParamPtr</a> calcParam, <a class="el" href="../../d0/d4/structCMLutParam.html">CMLutParamPtr</a> lutParam)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a11">CMError</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d8/d3/lh__core_2calcndim_8c.html#a11">CalcNDim_Data16To8_Lut16</a> (<a class="el" href="../../d7/d3/structCMCalcParam.html">CMCalcParamPtr</a> calcParam, <a class="el" href="../../d0/d4/structCMLutParam.html">CMLutParamPtr</a> lutParam)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a11">CMError</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d8/d3/lh__core_2calcndim_8c.html#a12">CalcNDim_Data16To16_Lut16</a> (<a class="el" href="../../d7/d3/structCMCalcParam.html">CMCalcParamPtr</a> calcParam, <a class="el" href="../../d0/d4/structCMLutParam.html">CMLutParamPtr</a> lutParam)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a11">CMError</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d8/d3/lh__core_2calcndim_8c.html#a13">CalcNDim_Data8To8_Lut8</a> (<a class="el" href="../../d7/d3/structCMCalcParam.html">CMCalcParamPtr</a> calcParam, <a class="el" href="../../d0/d4/structCMLutParam.html">CMLutParamPtr</a> lutParam)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a11">CMError</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d8/d3/lh__core_2calcndim_8c.html#a14">CalcNDim_Data16To8_Lut8</a> (<a class="el" href="../../d7/d3/structCMCalcParam.html">CMCalcParamPtr</a> calcParam, <a class="el" href="../../d0/d4/structCMLutParam.html">CMLutParamPtr</a> lutParam)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a11">CMError</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d8/d3/lh__core_2calcndim_8c.html#a15">CalcNDim_Data8To16_Lut8</a> (<a class="el" href="../../d7/d3/structCMCalcParam.html">CMCalcParamPtr</a> calcParam, <a class="el" href="../../d0/d4/structCMLutParam.html">CMLutParamPtr</a> lutParam)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a11">CMError</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d8/d3/lh__core_2calcndim_8c.html#a16">CalcNDim_Data16To16_Lut8</a> (<a class="el" href="../../d7/d3/structCMCalcParam.html">CMCalcParamPtr</a> calcParam, <a class="el" href="../../d0/d4/structCMLutParam.html">CMLutParamPtr</a> lutParam)</td></tr>

</table>
<hr><h2>Define Documentation</h2>
<a class="anchor" name="a4" doxytag="lh_core/calcndim.c::CLIPP" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define CLIPP          </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">x,         <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>a,         <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>b&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap>&nbsp;&nbsp;&nbsp;((x)&lt;(a)?(a):((x)&gt;(b)?(b):(x)))</td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d9/d2/lh__core_2calcndim_8c-source.html#l00058">58</a> of file <a class="el" href="../../d9/d2/lh__core_2calcndim_8c-source.html">lh_core/calcndim.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a3" doxytag="lh_core/calcndim.c::CLIPPWord" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define CLIPPWord          </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">x,         <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>a,         <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>b&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap>&nbsp;&nbsp;&nbsp;((x)&lt;(a)?(<a class="el" href="../../d5/d3/w98_2lh__core_2calceng1_8h.html#a6">LH_UINT16</a>)(a):((x)&gt;(b)?(<a class="el" href="../../d5/d3/w98_2lh__core_2calceng1_8h.html#a6">LH_UINT16</a>)(b):(<a class="el" href="../../d5/d3/w98_2lh__core_2calceng1_8h.html#a6">LH_UINT16</a>)(x+.5)))</td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d9/d2/lh__core_2calcndim_8c-source.html#l00057">57</a> of file <a class="el" href="../../d9/d2/lh__core_2calcndim_8c-source.html">lh_core/calcndim.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a2" doxytag="lh_core/calcndim.c::DebugPrint" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define DebugPrint          </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">x&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d9/d2/lh__core_2calcndim_8c-source.html#l00054">54</a> of file <a class="el" href="../../d9/d2/lh__core_2calcndim_8c-source.html">lh_core/calcndim.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a1" doxytag="lh_core/calcndim.c::SHRINK_FACTOR" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define SHRINK_FACTOR&nbsp;&nbsp;&nbsp;13          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d9/d2/lh__core_2calcndim_8c-source.html#l00037">37</a> of file <a class="el" href="../../d9/d2/lh__core_2calcndim_8c-source.html">lh_core/calcndim.c</a>.
<p>
Referenced by <a class="el" href="../../d9/d2/lh__core_2calcndim_8c-source.html#l00062">CalcNDim_Data8To8_Lut16()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a0" doxytag="lh_core/calcndim.c::UNROLL_NDIM" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define UNROLL_NDIM&nbsp;&nbsp;&nbsp;1          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d9/d2/lh__core_2calcndim_8c-source.html#l00025">25</a> of file <a class="el" href="../../d9/d2/lh__core_2calcndim_8c-source.html">lh_core/calcndim.c</a>.    </td>
  </tr>
</table>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="a5" doxytag="lh_core/calcndim.c::Calc323Dim_Data8To8_Lut16" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a11">CMError</a> Calc323Dim_Data8To8_Lut16           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d7/d3/structCMCalcParam.html">CMCalcParamPtr</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>calcParam</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d0/d4/structCMLutParam.html">CMLutParamPtr</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>lutParam</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d8/d2/w98_2lh__core_2calcnd3_8c-source.html#l00041">41</a> of file <a class="el" href="../../d8/d2/w98_2lh__core_2calcnd3_8c-source.html">w98/lh_core/calcnd3.c</a>.
<p>
<pre class="fragment"><div>00044 {
00045         <a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> * inputData[8], *outputData[8];
00046         <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a8">UINT32</a> OutputIncrement, inputDataRowOffset, outputDataRowOffset, Pixelcount, LineCount;
00047         <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> adr0;
00048     <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> ko0;
00049     <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> accu[8];
00050     <span class="keyword">register</span> <span class="keywordtype">long</span> i;
00051     <span class="comment">/*long Offsets[8];*/</span>
00052     
00053     <span class="keyword">register</span> <span class="keywordtype">long</span> aAlutShift,aElutOffset,aAlutOffset;
00054     <span class="keyword">register</span> <span class="keywordtype">long</span> aElutWordSize;
00055     <span class="keyword">register</span> <span class="keywordtype">long</span> aAlutWordSize;
00056     <span class="keyword">register</span> <span class="keywordtype">long</span> aXlutAdrSize;
00057     <span class="keyword">register</span> <span class="keywordtype">long</span> aXlutAdrShift;
00058     <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> aXlutWordSize;
00059         <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> ii,jj;
00060     <span class="keyword">register</span> <span class="keywordtype">long</span> aOutputPackMode8Bit;
00061         <span class="keywordtype">long</span> ein_Cache[8];
00062         
00063         <a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> * aus_lut     = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>*)lutParam-&gt;<a class="code" href="../../d0/d4/structCMLutParam.html#o5">outputLut</a>;
00064         <a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> * ein_lut     = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>*)lutParam-&gt;<a class="code" href="../../d0/d4/structCMLutParam.html#o2">inputLut</a>;
00065         <a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> * Xlut        = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>*)lutParam-&gt;<a class="code" href="../../d0/d4/structCMLutParam.html#o10">colorLut</a>;
00066         
00067 <span class="preprocessor">        #ifdef DEBUG_OUTPUT</span>
00068 <span class="preprocessor"></span>        <span class="keywordtype">long</span> err = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a58a55">noErr</a>;
00069 <span class="preprocessor">        #endif</span>
00070 <span class="preprocessor"></span>        <a class="code" href="../../d6/d9/lh__open_2general_8h.html#a1">LH_START_PROC</a>(<span class="stringliteral">"Calc323Dim_Data8To8_Lut16"</span>)
00071         
00072         inputData[0] = (LH_UINT8 *)calcParam-&gt;inputData[0];
00073         inputData[1] = (LH_UINT8 *)calcParam-&gt;inputData[1];
00074         inputData[2] = (LH_UINT8 *)calcParam-&gt;inputData[2];
00075 #if NDIM_IN_DIM == 4
00076         inputData[3] = (LH_UINT8 *)calcParam-&gt;inputData[3];
00077 #endif
00078         outputData[0] = (LH_UINT8 *)calcParam-&gt;outputData[0];
00079         outputData[1] = (LH_UINT8 *)calcParam-&gt;outputData[1];
00080         outputData[2] = (LH_UINT8 *)calcParam-&gt;outputData[2];
00081 #if NDIM_OUT_DIM == 4
00082         outputData[3] = (LH_UINT8 *)calcParam-&gt;outputData[3];
00083 #endif
00084 
00085         OutputIncrement = calcParam-&gt;cmOutputPixelOffset;
00086         inputDataRowOffset = calcParam-&gt;cmInputBytesPerLine - calcParam-&gt;cmPixelPerLine * calcParam-&gt;cmInputPixelOffset + (NDIM_IN_DIM * 2);
00087         outputDataRowOffset = calcParam-&gt;cmOutputBytesPerLine - calcParam-&gt;cmPixelPerLine * calcParam-&gt;cmOutputPixelOffset + OutputIncrement;
00088 
00089         Pixelcount = calcParam-&gt;cmPixelPerLine;
00090         LineCount = calcParam-&gt;cmLineCount;
00091 
00092         aElutWordSize = lutParam-&gt;inputLutWordSize;
00093         aAlutWordSize = lutParam-&gt;outputLutWordSize;
00094         aXlutAdrSize = lutParam-&gt;colorLutGridPoints;
00095         for ( i = 1; (i &lt; 32) &amp;&amp; (aXlutAdrSize &gt;&gt; i); i++)
00096                 aXlutAdrShift = i;
00097         aXlutWordSize = lutParam-&gt;colorLutWordSize;
00098 
00099         aOutputPackMode8Bit = calcParam-&gt;cmOutputColorSpace &amp; cm8PerChannelPacking || calcParam-&gt;cmOutputColorSpace &amp; cmLong8ColorPacking;
00100    <span class="comment">/*DebugPrint("DoNDim with %d input elements\n",aByteCount);*/</span>
00101         #if FARBR_FILES
00102         WriteLuts(      "DoNDim",1,adr_bereich_elut,aElutWordSize,ein_lut,
00103                                 NDIM_IN_DIM,NDIM_OUT_DIM,aXlutAdrSize,aXlutWordSize,(LH_UINT16 *)Xlut,adr_bereich_alut,aAlutWordSize,(LH_UINT16 *)aus_lut);
00104     #endif
00105 
00106         i=0;
00107                                         
00108         {
00109                 <span class="keywordflow">if</span>( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a> &lt; 0 )
00110                 {
00111 <span class="preprocessor">                        #ifdef DEBUG_OUTPUT</span>
00112 <span class="preprocessor"></span>                        <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"¥ DoNDim-Error: aElutShift &lt; 0 (aElutShift = %d)\n"</span>,aElutShift);
00113 <span class="preprocessor">                        #endif</span>
00114 <span class="preprocessor"></span>                        <span class="keywordflow">return</span> <a class="code" href="../../d2/d6/lh__open_2pi__app_8h.html#a149a30">cmparamErr</a>;
00115                 }
00116         }
00117         
00118         <span class="keywordflow">if</span>( aOutputPackMode8Bit ){
00119                 aAlutShift = (aAlutWordSize-8);         
00120         }
00121         <span class="keywordflow">else</span>{
00122                 aAlutShift = (16 - aAlutWordSize);              
00123         }
00124         
00125 <span class="preprocessor">        #ifdef DEBUG_OUTPUT</span>
00126 <span class="preprocessor"></span>                <span class="keywordflow">if</span> ( DebugCheck(kThisFile, kDebugReserved1) ){
00127                     <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"aElutAdrSize=%lx,aElutAdrShift=%lx,aElutWordSize=%lx,ein_lut=%lx,\n"</span>,
00128                                                 adr_bereich_elut,adr_breite_elut,aElutWordSize,ein_lut);
00129                         <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"aAlutAdrSize=%lx,aAlutAdrShift=%lx,aAlutWordSize=%lx,aus_lut=%lx,\n"</span>,
00130                                                 adr_bereich_alut,adr_breite_alut,aAlutWordSize,aus_lut);
00131                         <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"aXlutInDim=%lx,aXlutOutDim=%lx,aXlutAdrSize=%lx,aXlutAdrShift=%lx,aXlutWordSize=%lx,Xlut=%lx,\n"</span>,
00132                                                 NDIM_IN_DIM,NDIM_OUT_DIM,aXlutAdrSize,aXlutAdrShift,aXlutWordSize,Xlut);
00133                 }
00134 <span class="preprocessor">    #endif</span>
00135 <span class="preprocessor"></span>    
00136     <span class="comment">/*if( 1 )*/</span>
00137     <span class="keywordflow">if</span>( aXlutAdrSize != (1&lt;&lt;aXlutAdrShift )){
00138     <span class="keyword">register</span> <span class="keywordtype">long</span> aXlutOffset;
00139     <span class="keywordtype">long</span> theXlutOffsets[8]; 
00140     <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> aAlutInShift;
00141     <span class="keyword">register</span> <span class="keywordtype">long</span> aAlutInShiftRemainder;
00142     <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> aAlutInShiftNum;
00143     <span class="keyword">register</span> <span class="keywordtype">long</span> aElutWordSizeMask = (1&lt;&lt;aElutWordSize) - 1;
00144     <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> aAlutRound;
00145    aAlutInShift = aXlutWordSize + aElutWordSize - <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a22">adr_breite_alut</a>;
00146     aAlutInShiftRemainder = 0;
00147     <span class="keywordflow">if</span>( aAlutInShift &gt; 16 ){
00148         aAlutInShiftRemainder = aAlutInShift - 16;
00149         aAlutInShift = 16;
00150     }
00151     aAlutInShiftNum = (1&lt;&lt;aAlutInShift);
00152 
00153 <span class="preprocessor">#ifdef DEBUG_OUTPUT</span>
00154 <span class="preprocessor"></span>        <span class="keywordflow">if</span> ( DebugCheck(kThisFile, kDebugMiscInfo) )
00155             <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"  DoNDim gripoints = %ld\n"</span>,aXlutAdrSize);
00156 <span class="preprocessor">#endif</span>
00157 <span class="preprocessor"></span>    <span class="keywordflow">if</span>( aElutWordSize &lt;= 0 ){
00158 <span class="preprocessor">#ifdef DEBUG_OUTPUT</span>
00159 <span class="preprocessor"></span>        <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"¥ DoNDim-Error: (1&lt;&lt;aElutWordSize)/aXlutAdrSize &lt;= 0 %d\n"</span>,(1&lt;&lt;aElutWordSize)/aXlutAdrSize);
00160 <span class="preprocessor">#endif</span>
00161 <span class="preprocessor"></span>        <span class="keywordflow">return</span> <a class="code" href="../../d2/d6/lh__open_2pi__app_8h.html#a149a30">cmparamErr</a>;
00162     }
00163     <span class="keywordflow">if</span>( aAlutInShift &lt;= 0 ){
00164 <span class="preprocessor">#ifdef DEBUG_OUTPUT</span>
00165 <span class="preprocessor"></span>        <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"¥ DoNDim-Error: aAlutInShift &lt;= 0 %d\n"</span>,aAlutInShift);
00166 <span class="preprocessor">#endif</span>
00167 <span class="preprocessor"></span>        <span class="keywordflow">return</span> <a class="code" href="../../d2/d6/lh__open_2pi__app_8h.html#a149a30">cmparamErr</a>;
00168     }
00169     aXlutOffset =<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>;
00170     <span class="keywordflow">for</span>( i=0; i&lt;(<span class="keywordtype">long</span>)<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>; i++){
00171         theXlutOffsets[ <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>-1-i] = aXlutOffset;
00172         aXlutOffset *=aXlutAdrSize;
00173     }
00174         aAlutRound = 1&lt;&lt;( aAlutInShift + aAlutShift - 1 );
00175 
00176 <span class="preprocessor">#ifdef DEBUG_OUTPUT</span>
00177 <span class="preprocessor"></span>        <span class="keywordflow">if</span> ( DebugCheck(kThisFile, kDebugReserved1) )
00178             <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">" aElutWordSize((1&lt;&lt;aElutWordSize)-0) = %ld\n aAlutInShift:((1&lt;&lt;aXlutWordSize)*aElutWordSize+(adr_bereich_alut/2))/adr_bereich_alut = %ld\n"</span>,aElutWordSize,aAlutInShift);
00179 <span class="preprocessor">#endif</span>
00180 <span class="preprocessor"></span>    
00181         <span class="keywordflow">while</span> (LineCount){
00182                 i = Pixelcount;
00183                 
00184                 <span class="keywordflow">while</span> (i){
00185         
00186                 <span class="keywordtype">long</span> adr[8],<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[8];
00187                 <a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> ein_reg[8];
00188                 <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>  adrAdr,ko,adrOffset;
00189         
00190                 adr0=0;
00191                         aElutOffset = 0;
00192                         jj=0;
00193                         
00194                                 ein_Cache[0]=jj=(*(<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)inputData[0]);
00195                                         ko0 = jj - ( jj &gt;&gt; ( <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a19">adr_breite_elut</a> ));
00196                                         ko = ko0 &amp; ( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a7">aElutShiftNum</a> - 1 );
00197                                         ko0 = ko0 &gt;&gt; <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>;
00198                                         ko0 += aElutOffset;
00199                                 jj = ( ein_lut[ ko0 ] * ( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a7">aElutShiftNum</a> - ko ) + ein_lut[ ko0 +1 ] * ko ) &gt;&gt; <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>;
00200         
00201                                 jj *= aXlutAdrSize;
00202                                 aElutOffset += <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a18">adr_bereich_elut</a>;
00203                                 adr[0] = jj &amp; aElutWordSizeMask;
00204                                 jj = jj &gt;&gt; aElutWordSize;
00205                                 adr0 += (jj)*theXlutOffsets[0];
00206                                 ein_reg[0] = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)jj;
00207 
00208                                 ein_Cache[1]=jj=(*(<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)inputData[1]);
00209                                         ko0 = jj - ( jj &gt;&gt; ( <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a19">adr_breite_elut</a> ));
00210                                         ko = ko0 &amp; ( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a7">aElutShiftNum</a> - 1 );
00211                                         ko0 = ko0 &gt;&gt; <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>;
00212                                         ko0 += aElutOffset;
00213                                 jj = ( ein_lut[ ko0 ] * ( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a7">aElutShiftNum</a> - ko ) + ein_lut[ ko0 +1 ] * ko ) &gt;&gt; <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>;
00214         
00215                                 jj *= aXlutAdrSize;
00216                                 aElutOffset += <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a18">adr_bereich_elut</a>;
00217                                 adr[1] = jj &amp; aElutWordSizeMask;
00218                                 jj = jj &gt;&gt; aElutWordSize;
00219                                 adr0 += (jj)*theXlutOffsets[1];
00220                                 ein_reg[1] = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)jj;
00221 
00222                                         ein_Cache[2]=jj=(*(<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)inputData[2]);
00223                                         ko0 = jj - ( jj &gt;&gt; ( <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a19">adr_breite_elut</a> ));
00224                                         ko = ko0 &amp; ( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a7">aElutShiftNum</a> - 1 );
00225                                         ko0 = ko0 &gt;&gt; <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>;
00226                                         ko0 += aElutOffset;
00227                                 jj = ( ein_lut[ ko0 ] * ( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a7">aElutShiftNum</a> - ko ) + ein_lut[ ko0 +1 ] * ko ) &gt;&gt; <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>;
00228         
00229                                 jj *= aXlutAdrSize;
00230                                 aElutOffset += <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a18">adr_bereich_elut</a>;
00231                                 adr[2] = jj &amp; aElutWordSizeMask;
00232                                 jj = jj &gt;&gt; aElutWordSize;
00233                                 adr0 += (jj)*theXlutOffsets[2];
00234                                 ein_reg[2] = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)jj;
00235 
00236 <span class="preprocessor">#if NDIM_IN_DIM == 4</span>
00237 <span class="preprocessor"></span>                                        ein_Cache[3]=jj=(*(<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)inputData[3]);
00238                                         ko0 = jj - ( jj &gt;&gt; ( <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a19">adr_breite_elut</a> ));
00239                                         ko = ko0 &amp; ( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a7">aElutShiftNum</a> - 1 );
00240                                         ko0 = ko0 &gt;&gt; <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>;
00241                                         ko0 += aElutOffset;
00242                                 jj = ( ein_lut[ ko0 ] * ( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a7">aElutShiftNum</a> - ko ) + ein_lut[ ko0 +1 ] * ko ) &gt;&gt; <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>;
00243         
00244                                 jj *= aXlutAdrSize;
00245                                 aElutOffset += <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a18">adr_bereich_elut</a>;
00246                                 adr[3] = jj &amp; aElutWordSizeMask;
00247                                 jj = jj &gt;&gt; aElutWordSize;
00248                                 adr0 += (jj)*theXlutOffsets[3];
00249                                 ein_reg[3] = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)jj;
00250 <span class="preprocessor">#endif</span>
00251 <span class="preprocessor"></span>                
00252         
00253 
00254                 {                                                               <span class="comment">/* a kind of */</span>
00255                     <span class="keyword">register</span> <span class="keywordtype">long</span> <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a>;
00256                     
00257                         
00258                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0] = 0;
00259                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1] = 1;
00260                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2] = 2;
00261 <span class="preprocessor">#if NDIM_IN_DIM == 4</span>
00262 <span class="preprocessor"></span>                                <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[3] = 3;
00263 <span class="preprocessor">#endif</span>
00264 <span class="preprocessor"></span>                                        <span class="keywordflow">if</span>( adr[0] &lt; adr[1] ){
00265                                                 <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a> = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0];
00266                                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0] = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1];
00267                                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1] = <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a>;
00268                                         }
00269 
00270                                         <span class="keywordflow">if</span>( adr[<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1]] &lt; adr[2] ){
00271                                                 <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a> = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1];
00272                                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1] = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2];
00273                                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2] = <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a>;
00274                                                 <span class="keywordflow">if</span>( adr[<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0]] &lt; adr[<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1]] ){
00275                                                         <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a> = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0];
00276                                                         <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0] = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1];
00277                                                         <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1] = <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a>;
00278                                                 }
00279                                         }
00280 
00281 <span class="preprocessor">#if NDIM_IN_DIM == 4</span>
00282 <span class="preprocessor"></span>                                        <span class="keywordflow">if</span>( adr[<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2]] &lt; adr[3] ){
00283                                                 <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a> = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2];
00284                                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2] = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[3];
00285                                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[3] = <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a>;
00286                                                 <span class="keywordflow">if</span>( adr[<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1]] &lt; adr[<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2]] ){
00287                                                         <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a> = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1];
00288                                                         <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1] = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2];
00289                                                         <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2] = <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a>;
00290                                                         <span class="keywordflow">if</span>( adr[<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0]] &lt; adr[<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1]] ){
00291                                                                 <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a> = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0];
00292                                                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0] = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1];
00293                                                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1] = <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a>;
00294                                                         }
00295                                                 }
00296                                         }
00297 <span class="preprocessor">#endif</span>
00298 <span class="preprocessor"></span>                }
00299 
00300         accu[0]=0;
00301         accu[1]=0;
00302         accu[2]=0;
00303 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
00304 <span class="preprocessor"></span>        accu[3]=0;
00305 <span class="preprocessor">#endif</span>
00306 <span class="preprocessor"></span>        ko0 = (1&lt;&lt;aElutWordSize);
00307         adrAdr=adr0;
00308         adrOffset=0;
00309         <span class="keywordflow">if</span>( aXlutWordSize  == 16 ){
00310                 jj = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0];
00311                 ko = ko0 - adr[jj];
00312                 ko0 = adr[jj];
00313 
00314                 <span class="keywordflow">if</span>( ein_reg[jj] &lt; (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)(aXlutAdrSize-1) )
00315                     adrOffset += theXlutOffsets[jj];
00316 
00317                     accu[0]+=Xlut[adrAdr+(0)]*ko;
00318                     accu[1]+=Xlut[adrAdr+(1)]*ko;
00319                     accu[2]+=Xlut[adrAdr+(2)]*ko;
00320 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
00321 <span class="preprocessor"></span>                    accu[3]+=Xlut[adrAdr+(3)]*ko;
00322 <span class="preprocessor">#endif</span>
00323 <span class="preprocessor"></span>
00324                 adrAdr = (adr0 + adrOffset);
00325 
00326                 jj = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1];
00327                 ko = ko0 - adr[jj];
00328                 ko0 = adr[jj];
00329 
00330                 <span class="keywordflow">if</span>( ein_reg[jj] &lt; (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)(aXlutAdrSize-1) )
00331                     adrOffset += theXlutOffsets[jj];
00332 
00333                     accu[0]+=Xlut[adrAdr+(0)]*ko;
00334                     accu[1]+=Xlut[adrAdr+(1)]*ko;
00335                     accu[2]+=Xlut[adrAdr+(2)]*ko;
00336 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
00337 <span class="preprocessor"></span>                    accu[3]+=Xlut[adrAdr+(3)]*ko;
00338 <span class="preprocessor">#endif</span>
00339 <span class="preprocessor"></span>
00340                 adrAdr = (adr0 + adrOffset);
00341 
00342                 jj = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2];
00343                 ko = ko0 - adr[jj];
00344                 ko0 = adr[jj];
00345 
00346                 <span class="keywordflow">if</span>( ein_reg[jj] &lt; (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)(aXlutAdrSize-1) )
00347                     adrOffset += theXlutOffsets[jj];
00348 
00349                     accu[0]+=Xlut[adrAdr+(0)]*ko;
00350                     accu[1]+=Xlut[adrAdr+(1)]*ko;
00351                     accu[2]+=Xlut[adrAdr+(2)]*ko;
00352 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
00353 <span class="preprocessor"></span>                    accu[3]+=Xlut[adrAdr+(3)]*ko;
00354 <span class="preprocessor">#endif</span>
00355 <span class="preprocessor"></span>
00356                 adrAdr = (adr0 + adrOffset);
00357 
00358 <span class="preprocessor">#if NDIM_IN_DIM == 4</span>
00359 <span class="preprocessor"></span>                jj = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[3];
00360                 ko = ko0 - adr[jj];
00361                 ko0 = adr[jj];
00362 
00363                 <span class="keywordflow">if</span>( ein_reg[jj] &lt; (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)(aXlutAdrSize-1) )
00364                     adrOffset += theXlutOffsets[jj];
00365 
00366                     accu[0]+=Xlut[adrAdr+(0)]*ko;
00367                     accu[1]+=Xlut[adrAdr+(1)]*ko;
00368                     accu[2]+=Xlut[adrAdr+(2)]*ko;
00369 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
00370 <span class="preprocessor"></span>                    accu[3]+=Xlut[adrAdr+(3)]*ko;
00371 <span class="preprocessor">#endif</span>
00372 <span class="preprocessor"></span>
00373                 adrAdr = (adr0 + adrOffset);
00374 <span class="preprocessor">#endif</span>
00375 <span class="preprocessor"></span>
00376                 accu[0]+=Xlut[adrAdr+0]*ko0;
00377                 accu[1]+=Xlut[adrAdr+1]*ko0;
00378                 accu[2]+=Xlut[adrAdr+2]*ko0;
00379 <span class="preprocessor"> #if NDIM_OUT_DIM == 4</span>
00380 <span class="preprocessor"></span>               accu[3]+=Xlut[adrAdr+3]*ko0;
00381 <span class="preprocessor"> #endif</span>
00382 <span class="preprocessor"></span>       }
00383        <span class="keywordflow">else</span>{
00384 
00385                 jj = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0];
00386                 ko = ko0 - adr[jj];
00387                 ko0 = adr[jj];
00388 
00389                 <span class="keywordflow">if</span>( ein_reg[jj] &lt; (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)(aXlutAdrSize-1) )
00390                     adrOffset += theXlutOffsets[jj];
00391 
00392                     accu[0]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(0)]*ko;
00393                     accu[1]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(1)]*ko;
00394                     accu[2]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(2)]*ko;
00395 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
00396 <span class="preprocessor"></span>                    accu[3]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(3)]*ko;
00397 <span class="preprocessor">#endif</span>
00398 <span class="preprocessor"></span>                adrAdr = (adr0 + adrOffset);
00399 
00400                 jj = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1];
00401                 ko = ko0 - adr[jj];
00402                 ko0 = adr[jj];
00403 
00404                 <span class="keywordflow">if</span>( ein_reg[jj] &lt; (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)(aXlutAdrSize-1) )
00405                     adrOffset += theXlutOffsets[jj];
00406 
00407                     accu[0]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(0)]*ko;
00408                     accu[1]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(1)]*ko;
00409                     accu[2]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(2)]*ko;
00410 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
00411 <span class="preprocessor"></span>                    accu[3]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(3)]*ko;
00412 <span class="preprocessor">#endif</span>
00413 <span class="preprocessor"></span>                adrAdr = (adr0 + adrOffset);
00414 
00415                 jj = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2];
00416                 ko = ko0 - adr[jj];
00417                 ko0 = adr[jj];
00418 
00419                 <span class="keywordflow">if</span>( ein_reg[jj] &lt; (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)(aXlutAdrSize-1) )
00420                     adrOffset += theXlutOffsets[jj];
00421 
00422                     accu[0]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(0)]*ko;
00423                     accu[1]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(1)]*ko;
00424                     accu[2]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(2)]*ko;
00425 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
00426 <span class="preprocessor"></span>                    accu[3]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(3)]*ko;
00427 <span class="preprocessor">#endif</span>
00428 <span class="preprocessor"></span>                adrAdr = (adr0 + adrOffset);
00429 
00430 <span class="preprocessor">#if NDIM_IN_DIM == 4</span>
00431 <span class="preprocessor"></span>                jj = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[3];
00432                 ko = ko0 - adr[jj];
00433                 ko0 = adr[jj];
00434 
00435                 <span class="keywordflow">if</span>( ein_reg[jj] &lt; (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)(aXlutAdrSize-1) )
00436                     adrOffset += theXlutOffsets[jj];
00437 
00438                     accu[0]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(0)]*ko;
00439                     accu[1]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(1)]*ko;
00440                     accu[2]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(2)]*ko;
00441 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
00442 <span class="preprocessor"></span>                    accu[3]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(3)]*ko;
00443 <span class="preprocessor">#endif</span>
00444 <span class="preprocessor"></span>                adrAdr = (adr0 + adrOffset);
00445 <span class="preprocessor">#endif</span>
00446 <span class="preprocessor"></span>                accu[0]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+0]*ko0;
00447                 accu[1]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+1]*ko0;
00448                 accu[2]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+2]*ko0;
00449 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
00450 <span class="preprocessor"></span>               accu[3]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+3]*ko0;
00451 <span class="preprocessor">#endif</span>
00452 <span class="preprocessor"></span>        }
00453 
00454                 aAlutOffset = 0;
00455 
00456                 <span class="keywordflow">if</span>( aOutputPackMode8Bit ){
00457                         <span class="keywordflow">for</span>( ii=0; ii&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>; ++ii){
00458                                         jj = accu[ii];
00459                                         jj = jj + ( jj &gt;&gt; aXlutWordSize );
00460 
00461                                         ko0 = (jj - ( jj &gt;&gt; ( <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a22">adr_breite_alut</a> ))) &gt;&gt; aAlutInShiftRemainder;     <span class="comment">/*      aAlutInShift = aXlutWordSize + aElutWordSize - adr_breite_alut;*/</span>
00462 
00463                                         ko = ko0 &amp; (aAlutInShiftNum - 1 );
00464                                         ko0 = ko0 &gt;&gt; aAlutInShift;
00465                                         ko0 += aAlutOffset;
00466                                         <span class="keywordflow">if</span>( aAlutWordSize &lt;= 8)
00467                                         jj = ( ((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a>*)aus_lut)[ ko0 ] * ( aAlutInShiftNum - ko ) + ((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a>*)aus_lut)[ ko0 +1 ] * ko ) &gt;&gt; ( aAlutInShift );
00468                                         <span class="keywordflow">else</span>{
00469                                         jj = ( aus_lut[ ko0 ] * ( aAlutInShiftNum - ko ) + aus_lut[ ko0 +1 ] * ko );
00470                                                 jj = jj - ( jj &gt;&gt; aAlutShift );
00471                                                 jj = ( jj + aAlutRound ) &gt;&gt; (aAlutInShift + aAlutShift);
00472                                         }
00473                                         *outputData[ii] = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a>)jj;
00474                         aAlutOffset += <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a21">adr_bereich_alut</a>;
00475                     }
00476                         }
00477                         <span class="keywordflow">else</span>{
00478                                 <span class="keywordflow">if</span>( aXlutWordSize &gt;= 16 ){
00479                                         <span class="keywordflow">for</span>( ii=0; ii&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>; ++ii){
00480                                                 jj = accu[ii];
00481                                                 jj = jj + ( jj &gt;&gt; aXlutWordSize );
00482                                 ko0 = (jj - ( jj &gt;&gt; ( <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a22">adr_breite_alut</a> ))) &gt;&gt; aAlutInShiftRemainder; <span class="comment">/*  aAlutInShift = aXlutWordSize + aElutWordSize - adr_breite_alut;*/</span>
00483                 
00484                                                 ko = ko0 &amp; (aAlutInShiftNum - 1 );
00485                                                 ko0 = ko0 &gt;&gt; aAlutInShift;
00486                                                 ko0 += aAlutOffset;
00487                                                 <span class="keywordflow">if</span>( aAlutWordSize &lt;= 8)
00488                                                 jj = ( ((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a>*)aus_lut)[ ko0 ] * ( aAlutInShiftNum - ko ) + ((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a>*)aus_lut)[ ko0 +1 ] * ko ) &lt;&lt; ( aAlutShift - aAlutInShift );
00489                                                 <span class="keywordflow">else</span>
00490                                                 jj = ( aus_lut[ ko0 ] * ( aAlutInShiftNum - ko ) + aus_lut[ ko0 +1 ] * ko ) &gt;&gt; (aAlutInShift- aAlutShift);
00491                                                 *((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)outputData[ii]) =  (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)jj;
00492                                                 aAlutOffset += <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a21">adr_bereich_alut</a>;
00493                                         }
00494                                 }
00495                                 <span class="keywordflow">else</span>{
00496                                         <span class="keywordflow">for</span>( ii=0; ii&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>; ++ii){
00497                                                 jj = accu[ii];
00498                                                 jj = jj + ( jj &gt;&gt; aXlutWordSize ) + ( jj &gt;&gt; 2*aXlutWordSize );
00499                                 ko0 = (jj - ( jj &gt;&gt; ( <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a22">adr_breite_alut</a> ))) ; <span class="comment">/*  aAlutInShift = aXlutWordSize + aElutWordSize - adr_breite_alut;*/</span>
00500                 
00501                                                 ko = ko0 &amp; (aAlutInShiftNum - 1 );
00502                                                 ko0 = ko0 &gt;&gt; aAlutInShift;
00503                                                 ko0 += aAlutOffset;
00504                                                 <span class="keywordflow">if</span>( aAlutWordSize &lt;= 8)
00505                                                 jj = ( ((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a>*)aus_lut)[ ko0 ] * ( aAlutInShiftNum - ko ) + ((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a>*)aus_lut)[ ko0 +1 ] * ko ) &lt;&lt; ( aAlutShift - aAlutInShift );
00506                                                 <span class="keywordflow">else</span>
00507                                                 jj = ( aus_lut[ ko0 ] * ( aAlutInShiftNum - ko ) + aus_lut[ ko0 +1 ] * ko ) &gt;&gt; (aAlutInShift- aAlutShift);
00508                                                 *((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)outputData[ii]) =  (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)jj;
00509                                                 aAlutOffset += <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a21">adr_bereich_alut</a>;
00510                                         }
00511                                 }
00512                         }
00513                         <span class="keywordflow">while</span> (--i){
00514                                 <span class="keywordflow">for</span>( jj=0; jj&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>; ++jj){
00515                                         inputData[jj] += (<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a> * 2);
00516                                 }
00517                                 <span class="keywordflow">for</span>( jj=0; jj&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>; ++jj){
00518                                         outputData[jj] += OutputIncrement;
00519                                 }
00520         
00521                                 {
00522                                         <span class="keywordflow">for</span>( jj=0; jj&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>; ++jj){
00523                                                 <span class="keywordflow">if</span>( *((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)inputData[jj]) ^ *(<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)(&amp;ein_Cache[jj]) )<span class="keywordflow">break</span>;
00524                                         }
00525                                 }
00526                                 <span class="keywordflow">if</span>( jj&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a> ) <span class="keywordflow">break</span>;
00527                                 <span class="keywordflow">if</span>( aOutputPackMode8Bit ){
00528                                         <span class="keywordflow">for</span>( jj=0; jj&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>; ++jj){
00529                                                 *outputData[jj] = outputData[jj][-(<span class="keywordtype">long</span>)(<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a> )];
00530                                         }
00531                                 }
00532                                 <span class="keywordflow">else</span>{
00533                                         <span class="keywordflow">for</span>( jj=0; jj&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>; ++jj){
00534                                                 *((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)outputData[jj]) = *(<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)(&amp;outputData[jj][-(<span class="keywordtype">long</span>)(<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a> * 2)]);
00535                                         }
00536                                 }
00537                         }
00538                 }
00539                 
00540                 <span class="keywordflow">if</span>( --LineCount ){
00541                         <span class="keywordflow">for</span>( jj=0; jj&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>; ++jj){
00542                                 inputData[jj] += inputDataRowOffset;
00543                         }
00544                         <span class="keywordflow">for</span>( jj=0; jj&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>; ++jj){
00545                                 outputData[jj] += outputDataRowOffset;
00546                         }
00547                 }
00548     }
00549     }
00550     <span class="keywordflow">else</span>{
00551 
00552     <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>  bit_breit_selektor;
00553     <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>  bit_maske_selektor;
00554     <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>  bit_breit_adr;
00555     <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>  bit_maske_adr;
00556     <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>  aAlutInShiftNum;
00557     <span class="keyword">register</span> <span class="keywordtype">long</span> aAlutInShift;
00558     <span class="keyword">register</span> <span class="keywordtype">long</span> aAlutInShiftRemainder;
00559     <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> aAlutRound;
00560     <span class="comment">/*register long aXlutPlaneShift = aXlutAdrShift*aXlutInDim;*/</span>
00561     bit_breit_selektor=aElutWordSize-aXlutAdrShift;
00562     <span class="keywordflow">if</span>( aElutWordSize-aXlutAdrShift &lt; 0 )
00563     {
00564 <span class="preprocessor">#ifdef DEBUG_OUTPUT</span>
00565 <span class="preprocessor"></span>        <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"¥ DoNDim-Error: bit_breit_selektor &lt; 0 (bit_breit_selektor = %d)\n"</span>,bit_breit_selektor);
00566 <span class="preprocessor">#endif</span>
00567 <span class="preprocessor"></span>        <span class="keywordflow">return</span> <a class="code" href="../../d2/d6/lh__open_2pi__app_8h.html#a149a30">cmparamErr</a>;
00568     }
00569     bit_maske_selektor=(1&lt;&lt;bit_breit_selektor)-1;
00570     bit_breit_adr=aXlutAdrShift;
00571     bit_maske_adr=((1&lt;&lt;bit_breit_adr)-1)&lt;&lt;bit_breit_selektor;
00572     aAlutInShift = (aXlutWordSize+bit_breit_selektor-<a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a22">adr_breite_alut</a>);
00573     <span class="comment">/*aAlutInShift = aXlutWordSize + aElutWordSize - adr_breite_alut;*/</span>
00574     aAlutInShiftRemainder = 0;
00575     <span class="keywordflow">if</span>( aAlutInShift &gt; 16 ){
00576         aAlutInShiftRemainder = aAlutInShift - 16;
00577         aAlutInShift = 16;
00578     }
00579         
00580     aAlutInShiftNum = (1&lt;&lt;aAlutInShift);
00581     
00582         aAlutRound = 1&lt;&lt;( aAlutInShift + aAlutShift - 1 );
00583         <span class="keywordflow">while</span> (LineCount){
00584                 i = Pixelcount;
00585                 
00586                 <span class="keywordflow">while</span> (i){
00587         
00588                 <span class="keywordtype">long</span> adr[8],<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[8];
00589                 <span class="comment">/*LH_UINT16 *ein_lut = (LH_UINT16 *)ein_lut;*/</span>
00590                 <a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> ein_reg[8];
00591                    <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>  adrAdr,ko,adrOffset;
00592                 <span class="comment">/*register unsigned long aIndex;*/</span>
00593         
00594                 adr0=0;
00595                 aElutOffset = 0;
00596                 jj=0;
00597                         ein_Cache[0]=jj=(*(<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)inputData[0]);
00598                         ko0 = jj - ( jj &gt;&gt; ( <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a19">adr_breite_elut</a> ));
00599                         ko = ko0 &amp; ( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a7">aElutShiftNum</a> - 1 );
00600                         ko0 = ko0 &gt;&gt; <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>;
00601                         ko0 += aElutOffset;
00602                            jj = ( ein_lut[ ko0 ] * ( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a7">aElutShiftNum</a> - ko ) + ein_lut[ ko0 +1 ] * ko ) &gt;&gt; <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>;
00603         
00604                         aElutOffset += <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a18">adr_bereich_elut</a>;
00605                         adr[0] = (jj &amp; bit_maske_selektor);
00606                         adr0 |= ((jj &amp; bit_maske_adr)&gt;&gt;bit_breit_selektor)&lt;&lt;((<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>-0-1)*bit_breit_adr);
00607                         ein_reg[0] = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)jj;
00608 
00609                         ein_Cache[1]=jj=(*(<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)inputData[1]);
00610                         ko0 = jj - ( jj &gt;&gt; ( <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a19">adr_breite_elut</a> ));
00611                         ko = ko0 &amp; ( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a7">aElutShiftNum</a> - 1 );
00612                         ko0 = ko0 &gt;&gt; <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>;
00613                         ko0 += aElutOffset;
00614                            jj = ( ein_lut[ ko0 ] * ( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a7">aElutShiftNum</a> - ko ) + ein_lut[ ko0 +1 ] * ko ) &gt;&gt; <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>;
00615         
00616                         aElutOffset += <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a18">adr_bereich_elut</a>;
00617                         adr[1] = (jj &amp; bit_maske_selektor);
00618                         adr0 |= ((jj &amp; bit_maske_adr)&gt;&gt;bit_breit_selektor)&lt;&lt;((<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>-1-1)*bit_breit_adr);
00619                         ein_reg[1] = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)jj;
00620 
00621                         ein_Cache[2]=jj=(*(<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)inputData[2]);
00622                         ko0 = jj - ( jj &gt;&gt; ( <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a19">adr_breite_elut</a> ));
00623                         ko = ko0 &amp; ( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a7">aElutShiftNum</a> - 1 );
00624                         ko0 = ko0 &gt;&gt; <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>;
00625                         ko0 += aElutOffset;
00626                            jj = ( ein_lut[ ko0 ] * ( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a7">aElutShiftNum</a> - ko ) + ein_lut[ ko0 +1 ] * ko ) &gt;&gt; <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>;
00627         
00628                         aElutOffset += <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a18">adr_bereich_elut</a>;
00629                         adr[2] = (jj &amp; bit_maske_selektor);
00630                         adr0 |= ((jj &amp; bit_maske_adr)&gt;&gt;bit_breit_selektor)&lt;&lt;((<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>-2-1)*bit_breit_adr);
00631                         ein_reg[2] = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)jj;
00632 
00633 <span class="preprocessor">#if NDIM_IN_DIM == 4</span>
00634 <span class="preprocessor"></span>                        ein_Cache[3]=jj=(*(<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)inputData[3]);
00635                         ko0 = jj - ( jj &gt;&gt; ( <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a19">adr_breite_elut</a> ));
00636                         ko = ko0 &amp; ( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a7">aElutShiftNum</a> - 1 );
00637                         ko0 = ko0 &gt;&gt; <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>;
00638                         ko0 += aElutOffset;
00639                            jj = ( ein_lut[ ko0 ] * ( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a7">aElutShiftNum</a> - ko ) + ein_lut[ ko0 +1 ] * ko ) &gt;&gt; <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>;
00640         
00641                         aElutOffset += <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a18">adr_bereich_elut</a>;
00642                         adr[3] = (jj &amp; bit_maske_selektor);
00643                         adr0 |= ((jj &amp; bit_maske_adr)&gt;&gt;bit_breit_selektor)&lt;&lt;((<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>-3-1)*bit_breit_adr);
00644                         ein_reg[3] = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)jj;
00645 <span class="preprocessor">#endif  </span>
00646 <span class="preprocessor"></span>                adr0 *= <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>;
00647         
00648                 {                                                               <span class="comment">/* a kind of */</span>
00649                     <span class="keyword">register</span> <span class="keywordtype">long</span> <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a>;
00650                     
00651                         
00652                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0] = 0;
00653                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1] = 1;
00654                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2] = 2;
00655 <span class="preprocessor">#if NDIM_IN_DIM == 4</span>
00656 <span class="preprocessor"></span>                                <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[3] = 3;
00657 <span class="preprocessor">#endif</span>
00658 <span class="preprocessor"></span>                                        <span class="keywordflow">if</span>( adr[0] &lt; adr[1] ){
00659                                                 <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a> = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0];
00660                                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0] = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1];
00661                                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1] = <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a>;
00662                                         }
00663 
00664                                         <span class="keywordflow">if</span>( adr[<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1]] &lt; adr[2] ){
00665                                                 <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a> = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1];
00666                                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1] = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2];
00667                                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2] = <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a>;
00668                                                 <span class="keywordflow">if</span>( adr[<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0]] &lt; adr[<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1]] ){
00669                                                         <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a> = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0];
00670                                                         <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0] = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1];
00671                                                         <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1] = <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a>;
00672                                                 }
00673                                         }
00674 
00675 <span class="preprocessor">#if NDIM_IN_DIM == 4</span>
00676 <span class="preprocessor"></span>                                        <span class="keywordflow">if</span>( adr[<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2]] &lt; adr[3] ){
00677                                                 <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a> = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2];
00678                                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2] = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[3];
00679                                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[3] = <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a>;
00680                                                 <span class="keywordflow">if</span>( adr[<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1]] &lt; adr[<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2]] ){
00681                                                         <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a> = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1];
00682                                                         <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1] = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2];
00683                                                         <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2] = <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a>;
00684                                                         <span class="keywordflow">if</span>( adr[<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0]] &lt; adr[<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1]] ){
00685                                                                 <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a> = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0];
00686                                                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0] = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1];
00687                                                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1] = <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a>;
00688                                                         }
00689                                                 }
00690                                         }
00691 <span class="preprocessor">#endif</span>
00692 <span class="preprocessor"></span>                }
00693         
00694                         accu[0]=0;
00695                         accu[1]=0;
00696                         accu[2]=0;
00697 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
00698 <span class="preprocessor"></span>                        accu[3]=0;
00699 <span class="preprocessor">#endif</span>
00700 <span class="preprocessor"></span>        
00701                 ko0 = bit_maske_selektor+1;
00702                 adrAdr=adr0;
00703                 adrOffset=0;
00704         
00705                 <span class="keywordflow">if</span>( aXlutWordSize  == 16 ){
00706                         jj = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0];
00707                         ko = ko0 - adr[jj];
00708                         ko0 = adr[jj];
00709         
00710                         <span class="keywordflow">if</span>( ein_reg[jj] &lt; bit_maske_adr )
00711                             adrOffset |= (1&lt;&lt;(<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>-1-jj)*bit_breit_adr);
00712         
00713                                                 accu[0]+=Xlut[adrAdr+(0)]*ko;
00714                                                 accu[1]+=Xlut[adrAdr+(1)]*ko;
00715                                                 accu[2]+=Xlut[adrAdr+(2)]*ko;
00716 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
00717 <span class="preprocessor"></span>                                                accu[3]+=Xlut[adrAdr+(3)]*ko;
00718 <span class="preprocessor">#endif</span>
00719 <span class="preprocessor"></span>                        adrAdr = (adr0 + <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>*adrOffset);
00720 
00721                         jj = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1];
00722                         ko = ko0 - adr[jj];
00723                         ko0 = adr[jj];
00724         
00725                         <span class="keywordflow">if</span>( ein_reg[jj] &lt; bit_maske_adr )
00726                             adrOffset |= (1&lt;&lt;(<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>-1-jj)*bit_breit_adr);
00727         
00728                                                 accu[0]+=Xlut[adrAdr+(0)]*ko;
00729                                                 accu[1]+=Xlut[adrAdr+(1)]*ko;
00730                                                 accu[2]+=Xlut[adrAdr+(2)]*ko;
00731 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
00732 <span class="preprocessor"></span>                                                accu[3]+=Xlut[adrAdr+(3)]*ko;
00733 <span class="preprocessor">#endif</span>
00734 <span class="preprocessor"></span>                        adrAdr = (adr0 + <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>*adrOffset);
00735 
00736                         jj = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2];
00737                         ko = ko0 - adr[jj];
00738                         ko0 = adr[jj];
00739         
00740                         <span class="keywordflow">if</span>( ein_reg[jj] &lt; bit_maske_adr )
00741                             adrOffset |= (1&lt;&lt;(<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>-1-jj)*bit_breit_adr);
00742         
00743                                                 accu[0]+=Xlut[adrAdr+(0)]*ko;
00744                                                 accu[1]+=Xlut[adrAdr+(1)]*ko;
00745                                                 accu[2]+=Xlut[adrAdr+(2)]*ko;
00746 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
00747 <span class="preprocessor"></span>                                                accu[3]+=Xlut[adrAdr+(3)]*ko;
00748 <span class="preprocessor">#endif</span>
00749 <span class="preprocessor"></span>                        adrAdr = (adr0 + <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>*adrOffset);
00750 
00751 <span class="preprocessor">#if NDIM_IN_DIM == 4</span>
00752 <span class="preprocessor"></span>                        jj = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[3];
00753                         ko = ko0 - adr[jj];
00754                         ko0 = adr[jj];
00755         
00756                         <span class="keywordflow">if</span>( ein_reg[jj] &lt; bit_maske_adr )
00757                             adrOffset |= (1&lt;&lt;(<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>-1-jj)*bit_breit_adr);
00758         
00759                                                 accu[0]+=Xlut[adrAdr+(0)]*ko;
00760                                                 accu[1]+=Xlut[adrAdr+(1)]*ko;
00761                                                 accu[2]+=Xlut[adrAdr+(2)]*ko;
00762 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
00763 <span class="preprocessor"></span>                                                accu[3]+=Xlut[adrAdr+(3)]*ko;
00764 <span class="preprocessor">#endif</span>
00765 <span class="preprocessor"></span>                        adrAdr = (adr0 + <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>*adrOffset);
00766 <span class="preprocessor">#endif</span>
00767 <span class="preprocessor"></span>                accu[0]+=Xlut[adrAdr+0]*ko0;
00768                 accu[1]+=Xlut[adrAdr+1]*ko0;
00769                 accu[2]+=Xlut[adrAdr+2]*ko0;
00770 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
00771 <span class="preprocessor"></span>                                accu[3]+=Xlut[adrAdr+3]*ko0;
00772 <span class="preprocessor">#endif</span>
00773 <span class="preprocessor"></span>                }
00774                 <span class="keywordflow">else</span>{
00775                         jj = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0];
00776                         ko = ko0 - adr[jj];
00777                         ko0 = adr[jj];
00778         
00779                         <span class="keywordflow">if</span>( ein_reg[jj] &lt; bit_maske_adr )
00780                             adrOffset |= (1&lt;&lt;(<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>-1-jj)*bit_breit_adr);
00781         
00782                             accu[0]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(0)]*ko;
00783                             accu[1]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(1)]*ko;
00784                             accu[2]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(2)]*ko;
00785 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
00786 <span class="preprocessor"></span>                            accu[3]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(3)]*ko;
00787 <span class="preprocessor">#endif</span>
00788 <span class="preprocessor"></span>        
00789                         adrAdr = (adr0 + <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>*adrOffset);
00790 
00791                         jj = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1];
00792                         ko = ko0 - adr[jj];
00793                         ko0 = adr[jj];
00794         
00795                         <span class="keywordflow">if</span>( ein_reg[jj] &lt; bit_maske_adr )
00796                             adrOffset |= (1&lt;&lt;(<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>-1-jj)*bit_breit_adr);
00797         
00798                             accu[0]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(0)]*ko;
00799                             accu[1]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(1)]*ko;
00800                             accu[2]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(2)]*ko;
00801 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
00802 <span class="preprocessor"></span>                            accu[3]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(3)]*ko;
00803 <span class="preprocessor">#endif</span>
00804 <span class="preprocessor"></span>        
00805                         adrAdr = (adr0 + <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>*adrOffset);
00806 
00807                         jj = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2];
00808                         ko = ko0 - adr[jj];
00809                         ko0 = adr[jj];
00810         
00811                         <span class="keywordflow">if</span>( ein_reg[jj] &lt; bit_maske_adr )
00812                             adrOffset |= (1&lt;&lt;(<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>-1-jj)*bit_breit_adr);
00813         
00814                             accu[0]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(0)]*ko;
00815                             accu[1]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(1)]*ko;
00816                             accu[2]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(2)]*ko;
00817 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
00818 <span class="preprocessor"></span>                            accu[3]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(3)]*ko;
00819 <span class="preprocessor">#endif</span>
00820 <span class="preprocessor"></span>        
00821                         adrAdr = (adr0 + <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>*adrOffset);
00822 
00823 <span class="preprocessor">#if NDIM_IN_DIM == 4</span>
00824 <span class="preprocessor"></span>                        jj = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[3];
00825                         ko = ko0 - adr[jj];
00826                         ko0 = adr[jj];
00827         
00828                         <span class="keywordflow">if</span>( ein_reg[jj] &lt; bit_maske_adr )
00829                             adrOffset |= (1&lt;&lt;(<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>-1-jj)*bit_breit_adr);
00830         
00831                             accu[0]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(0)]*ko;
00832                             accu[1]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(1)]*ko;
00833                             accu[2]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(2)]*ko;
00834 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
00835 <span class="preprocessor"></span>                            accu[3]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(3)]*ko;
00836 <span class="preprocessor">#endif</span>
00837 <span class="preprocessor"></span>        
00838                         adrAdr = (adr0 + <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>*adrOffset);
00839 <span class="preprocessor">#endif</span>
00840 <span class="preprocessor"></span>                                accu[0]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+0]*ko0;
00841                 accu[1]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+1]*ko0;
00842                 accu[2]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+2]*ko0;
00843 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
00844 <span class="preprocessor"></span>                                accu[3]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+3]*ko0;
00845 <span class="preprocessor">#endif</span>
00846 <span class="preprocessor"></span>                }
00847         
00848                 aAlutOffset = 0;
00849         
00850                 <span class="keywordflow">if</span>( aOutputPackMode8Bit ){
00851                         <span class="keywordflow">for</span>( ii=0; ii&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>; ++ii){
00852                                         jj = accu[ii];
00853                                         jj = jj + ( jj &gt;&gt; aXlutWordSize );
00854 
00855                                         ko0 = (jj - ( jj &gt;&gt; ( <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a22">adr_breite_alut</a> ))) &gt;&gt; aAlutInShiftRemainder;     <span class="comment">/*      aAlutInShift = aXlutWordSize + aElutWordSize - adr_breite_alut;*/</span>
00856 
00857                                         ko = ko0 &amp; (aAlutInShiftNum - 1 );
00858                                         ko0 = ko0 &gt;&gt; aAlutInShift;
00859                                         ko0 += aAlutOffset;
00860                                         <span class="keywordflow">if</span>( aAlutWordSize &lt;= 8)
00861                                         jj = ( ((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a>*)aus_lut)[ ko0 ] * ( aAlutInShiftNum - ko ) + ((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a>*)aus_lut)[ ko0 +1 ] * ko ) &gt;&gt; ( aAlutInShift );
00862                                         <span class="keywordflow">else</span>{
00863                                                 jj = ( aus_lut[ ko0 ] * ( aAlutInShiftNum - ko ) + aus_lut[ ko0 +1 ] * ko );
00864                                                 jj = jj - ( jj &gt;&gt; aAlutShift );
00865                                                 jj = ( jj + aAlutRound ) &gt;&gt; (aAlutInShift + aAlutShift);
00866                                         }
00867 
00868                                         *outputData[ii] = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a>)jj;
00869                         aAlutOffset += <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a21">adr_bereich_alut</a>;
00870                     }
00871                 }
00872                 <span class="keywordflow">else</span>{
00873                                 <span class="keywordflow">if</span>( aXlutWordSize &gt;= 16 ){
00874                                         <span class="keywordflow">for</span>( ii=0; ii&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>; ++ii){
00875                                                 jj = accu[ii];
00876                                                 jj = jj + ( jj &gt;&gt; aXlutWordSize );
00877                                 ko0 = (jj - ( jj &gt;&gt; ( <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a22">adr_breite_alut</a> ))) &gt;&gt; aAlutInShiftRemainder; <span class="comment">/*  aAlutInShift = aXlutWordSize + aElutWordSize - adr_breite_alut;*/</span>
00878                 
00879                                                 ko = ko0 &amp; (aAlutInShiftNum - 1 );
00880                                                 ko0 = ko0 &gt;&gt; aAlutInShift;
00881                                                 ko0 += aAlutOffset;
00882                                                 <span class="keywordflow">if</span>( aAlutWordSize &lt;= 8)
00883                                                 jj = ( ((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a>*)aus_lut)[ ko0 ] * ( aAlutInShiftNum - ko ) + ((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a>*)aus_lut)[ ko0 +1 ] * ko ) &lt;&lt; ( aAlutShift - aAlutInShift );
00884                                                 <span class="keywordflow">else</span>
00885                                                 jj = ( aus_lut[ ko0 ] * ( aAlutInShiftNum - ko ) + aus_lut[ ko0 +1 ] * ko ) &gt;&gt; (aAlutInShift- aAlutShift);
00886                                                 *((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)outputData[ii]) =  (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)jj;
00887                                                 aAlutOffset += <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a21">adr_bereich_alut</a>;
00888                                         }
00889                                 }
00890                                 <span class="keywordflow">else</span>{
00891                                         <span class="keywordflow">for</span>( ii=0; ii&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>; ++ii){
00892                                                 jj = accu[ii];
00893                                                 jj = jj + ( jj &gt;&gt; aXlutWordSize ) + ( jj &gt;&gt; 2*aXlutWordSize );
00894                                 ko0 = (jj - ( jj &gt;&gt; ( <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a22">adr_breite_alut</a> ))); <span class="comment">/*   aAlutInShift = aXlutWordSize + aElutWordSize - adr_breite_alut;*/</span>
00895                 
00896                                                 ko = ko0 &amp; (aAlutInShiftNum - 1 );
00897                                                 ko0 = ko0 &gt;&gt; aAlutInShift;
00898                                                 ko0 += aAlutOffset;
00899                                                 <span class="keywordflow">if</span>( aAlutWordSize &lt;= 8)
00900                                                 jj = ( ((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a>*)aus_lut)[ ko0 ] * ( aAlutInShiftNum - ko ) + ((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a>*)aus_lut)[ ko0 +1 ] * ko ) &lt;&lt; ( aAlutShift - aAlutInShift );
00901                                                 <span class="keywordflow">else</span>
00902                                                 jj = ( aus_lut[ ko0 ] * ( aAlutInShiftNum - ko ) + aus_lut[ ko0 +1 ] * ko ) &gt;&gt; (aAlutInShift- aAlutShift);
00903                                                 *((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)outputData[ii]) =  (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)jj;
00904                                                 aAlutOffset += <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a21">adr_bereich_alut</a>;
00905                                         }
00906                                 }
00907                 }
00908         
00909                         <span class="keywordflow">while</span> (--i){
00910                                 <span class="keywordflow">for</span>( jj=0; jj&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>; ++jj){
00911                                         inputData[jj] += (<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a> * 2);
00912                                 }
00913                                 <span class="keywordflow">for</span>( jj=0; jj&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>; ++jj){
00914                                         outputData[jj] += OutputIncrement;
00915                                 }
00916         
00917                                 {
00918                                         <span class="keywordflow">for</span>( jj=0; jj&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>; ++jj){
00919                                                 <span class="keywordflow">if</span>( *((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)inputData[jj]) ^ *(<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)(&amp;ein_Cache[jj]) )<span class="keywordflow">break</span>;
00920                                         }
00921                                 }
00922                                 <span class="keywordflow">if</span>( jj&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a> ) <span class="keywordflow">break</span>;
00923                                 <span class="keywordflow">if</span>( aOutputPackMode8Bit ){
00924                                         <span class="keywordflow">for</span>( jj=0; jj&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>; ++jj){
00925                                                 *outputData[jj] = outputData[jj][-(<span class="keywordtype">long</span>)(<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a> )];
00926                                         }
00927                                 }
00928                                 <span class="keywordflow">else</span>{
00929                                         <span class="keywordflow">for</span>( jj=0; jj&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>; ++jj){
00930                                                 *((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)outputData[jj]) = *(<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)(&amp;outputData[jj][-(<span class="keywordtype">long</span>)(<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a> * 2)]);
00931                                         }
00932                                 }
00933                         }
00934                 }
00935                 
00936                 <span class="keywordflow">if</span>( --LineCount ){
00937                         <span class="keywordflow">for</span>( jj=0; jj&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>; ++jj){
00938                                 inputData[jj] += inputDataRowOffset;
00939                         }
00940                         <span class="keywordflow">for</span>( jj=0; jj&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>; ++jj){
00941                                 outputData[jj] += outputDataRowOffset;
00942                         }
00943                 }
00944     }
00945     }
00946 
00947         <span class="comment">/* UNLOCK_DATA( aElutHdle ); */</span>
00948         <span class="comment">/* UNLOCK_DATA( aAlutHdle ); */</span>
00949         <span class="comment">/* UNLOCK_DATA( aXlutHdle ); */</span>
00950 
00951         <a class="code" href="../../d6/d9/lh__open_2general_8h.html#a2">LH_END_PROC</a>(<span class="stringliteral">"Calc323Dim_Data8To8_Lut16"</span>)
00952         return noErr;
00953 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a6" doxytag="lh_core/calcndim.c::Calc324Dim_Data8To8_Lut16" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a11">CMError</a> Calc324Dim_Data8To8_Lut16           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d7/d3/structCMCalcParam.html">CMCalcParamPtr</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>calcParam</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d0/d4/structCMLutParam.html">CMLutParamPtr</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>lutParam</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d8/d2/w98_2lh__core_2calcnd3_8c-source.html#l00964">964</a> of file <a class="el" href="../../d8/d2/w98_2lh__core_2calcnd3_8c-source.html">w98/lh_core/calcnd3.c</a>.
<p>
<pre class="fragment"><div>00967 {
00968         <a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> * inputData[8], *outputData[8];
00969         <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a8">UINT32</a> OutputIncrement, inputDataRowOffset, outputDataRowOffset, Pixelcount, LineCount;
00970         <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> adr0;
00971     <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> ko0;
00972     <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> accu[8];
00973     <span class="keyword">register</span> <span class="keywordtype">long</span> i;
00974     <span class="comment">/*long Offsets[8];*/</span>
00975     
00976     <span class="keyword">register</span> <span class="keywordtype">long</span> aAlutShift,aElutOffset,aAlutOffset;
00977     <span class="keyword">register</span> <span class="keywordtype">long</span> aElutWordSize;
00978     <span class="keyword">register</span> <span class="keywordtype">long</span> aAlutWordSize;
00979     <span class="keyword">register</span> <span class="keywordtype">long</span> aXlutAdrSize;
00980     <span class="keyword">register</span> <span class="keywordtype">long</span> aXlutAdrShift;
00981     <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> aXlutWordSize;
00982         <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> ii,jj;
00983     <span class="keyword">register</span> <span class="keywordtype">long</span> aOutputPackMode8Bit;
00984         <span class="keywordtype">long</span> ein_Cache[8];
00985         
00986         <a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> * aus_lut     = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>*)lutParam-&gt;<a class="code" href="../../d0/d4/structCMLutParam.html#o5">outputLut</a>;
00987         <a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> * ein_lut     = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>*)lutParam-&gt;<a class="code" href="../../d0/d4/structCMLutParam.html#o2">inputLut</a>;
00988         <a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> * Xlut        = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>*)lutParam-&gt;<a class="code" href="../../d0/d4/structCMLutParam.html#o10">colorLut</a>;
00989         
00990 <span class="preprocessor">        #ifdef DEBUG_OUTPUT</span>
00991 <span class="preprocessor"></span>        <span class="keywordtype">long</span> err = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a58a55">noErr</a>;
00992 <span class="preprocessor">        #endif</span>
00993 <span class="preprocessor"></span>        <a class="code" href="../../d6/d9/lh__open_2general_8h.html#a1">LH_START_PROC</a>(<span class="stringliteral">"Calc324Dim_Data8To8_Lut16"</span>)
00994         
00995         inputData[0] = (LH_UINT8 *)calcParam-&gt;inputData[0];
00996         inputData[1] = (LH_UINT8 *)calcParam-&gt;inputData[1];
00997         inputData[2] = (LH_UINT8 *)calcParam-&gt;inputData[2];
00998 #if NDIM_IN_DIM == 4
00999         inputData[3] = (LH_UINT8 *)calcParam-&gt;inputData[3];
01000 #endif
01001         outputData[0] = (LH_UINT8 *)calcParam-&gt;outputData[0];
01002         outputData[1] = (LH_UINT8 *)calcParam-&gt;outputData[1];
01003         outputData[2] = (LH_UINT8 *)calcParam-&gt;outputData[2];
01004 #if NDIM_OUT_DIM == 4
01005         outputData[3] = (LH_UINT8 *)calcParam-&gt;outputData[3];
01006 #endif
01007 
01008         OutputIncrement = calcParam-&gt;cmOutputPixelOffset;
01009         inputDataRowOffset = calcParam-&gt;cmInputBytesPerLine - calcParam-&gt;cmPixelPerLine * calcParam-&gt;cmInputPixelOffset + (NDIM_IN_DIM * 2);
01010         outputDataRowOffset = calcParam-&gt;cmOutputBytesPerLine - calcParam-&gt;cmPixelPerLine * calcParam-&gt;cmOutputPixelOffset + OutputIncrement;
01011 
01012         Pixelcount = calcParam-&gt;cmPixelPerLine;
01013         LineCount = calcParam-&gt;cmLineCount;
01014 
01015         aElutWordSize = lutParam-&gt;inputLutWordSize;
01016         aAlutWordSize = lutParam-&gt;outputLutWordSize;
01017         aXlutAdrSize = lutParam-&gt;colorLutGridPoints;
01018         for ( i = 1; (i &lt; 32) &amp;&amp; (aXlutAdrSize &gt;&gt; i); i++)
01019                 aXlutAdrShift = i;
01020         aXlutWordSize = lutParam-&gt;colorLutWordSize;
01021 
01022         aOutputPackMode8Bit = calcParam-&gt;cmOutputColorSpace &amp; cm8PerChannelPacking || calcParam-&gt;cmOutputColorSpace &amp; cmLong8ColorPacking;
01023    <span class="comment">/*DebugPrint("DoNDim with %d input elements\n",aByteCount);*/</span>
01024         #if FARBR_FILES
01025         WriteLuts(      "DoNDim",1,adr_bereich_elut,aElutWordSize,ein_lut,
01026                                 NDIM_IN_DIM,NDIM_OUT_DIM,aXlutAdrSize,aXlutWordSize,(LH_UINT16 *)Xlut,adr_bereich_alut,aAlutWordSize,(LH_UINT16 *)aus_lut);
01027     #endif
01028 
01029         i=0;
01030                                         
01031         {
01032                 <span class="keywordflow">if</span>( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a> &lt; 0 )
01033                 {
01034 <span class="preprocessor">                        #ifdef DEBUG_OUTPUT</span>
01035 <span class="preprocessor"></span>                        <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"¥ DoNDim-Error: aElutShift &lt; 0 (aElutShift = %d)\n"</span>,aElutShift);
01036 <span class="preprocessor">                        #endif</span>
01037 <span class="preprocessor"></span>                        <span class="keywordflow">return</span> <a class="code" href="../../d2/d6/lh__open_2pi__app_8h.html#a149a30">cmparamErr</a>;
01038                 }
01039         }
01040         
01041         <span class="keywordflow">if</span>( aOutputPackMode8Bit ){
01042                 aAlutShift = (aAlutWordSize-8);         
01043         }
01044         <span class="keywordflow">else</span>{
01045                 aAlutShift = (16 - aAlutWordSize);              
01046         }
01047         
01048 <span class="preprocessor">        #ifdef DEBUG_OUTPUT</span>
01049 <span class="preprocessor"></span>                <span class="keywordflow">if</span> ( DebugCheck(kThisFile, kDebugReserved1) ){
01050                     <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"aElutAdrSize=%lx,aElutAdrShift=%lx,aElutWordSize=%lx,ein_lut=%lx,\n"</span>,
01051                                                 adr_bereich_elut,adr_breite_elut,aElutWordSize,ein_lut);
01052                         <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"aAlutAdrSize=%lx,aAlutAdrShift=%lx,aAlutWordSize=%lx,aus_lut=%lx,\n"</span>,
01053                                                 adr_bereich_alut,adr_breite_alut,aAlutWordSize,aus_lut);
01054                         <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"aXlutInDim=%lx,aXlutOutDim=%lx,aXlutAdrSize=%lx,aXlutAdrShift=%lx,aXlutWordSize=%lx,Xlut=%lx,\n"</span>,
01055                                                 NDIM_IN_DIM,NDIM_OUT_DIM,aXlutAdrSize,aXlutAdrShift,aXlutWordSize,Xlut);
01056                 }
01057 <span class="preprocessor">    #endif</span>
01058 <span class="preprocessor"></span>    
01059     <span class="comment">/*if( 1 )*/</span>
01060     <span class="keywordflow">if</span>( aXlutAdrSize != (1&lt;&lt;aXlutAdrShift )){
01061     <span class="keyword">register</span> <span class="keywordtype">long</span> aXlutOffset;
01062     <span class="keywordtype">long</span> theXlutOffsets[8]; 
01063     <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> aAlutInShift;
01064     <span class="keyword">register</span> <span class="keywordtype">long</span> aAlutInShiftRemainder;
01065     <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> aAlutInShiftNum;
01066     <span class="keyword">register</span> <span class="keywordtype">long</span> aElutWordSizeMask = (1&lt;&lt;aElutWordSize) - 1;
01067     <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> aAlutRound;
01068    aAlutInShift = aXlutWordSize + aElutWordSize - <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a22">adr_breite_alut</a>;
01069     aAlutInShiftRemainder = 0;
01070     <span class="keywordflow">if</span>( aAlutInShift &gt; 16 ){
01071         aAlutInShiftRemainder = aAlutInShift - 16;
01072         aAlutInShift = 16;
01073     }
01074     aAlutInShiftNum = (1&lt;&lt;aAlutInShift);
01075 
01076 <span class="preprocessor">#ifdef DEBUG_OUTPUT</span>
01077 <span class="preprocessor"></span>        <span class="keywordflow">if</span> ( DebugCheck(kThisFile, kDebugMiscInfo) )
01078             <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"  DoNDim gripoints = %ld\n"</span>,aXlutAdrSize);
01079 <span class="preprocessor">#endif</span>
01080 <span class="preprocessor"></span>    <span class="keywordflow">if</span>( aElutWordSize &lt;= 0 ){
01081 <span class="preprocessor">#ifdef DEBUG_OUTPUT</span>
01082 <span class="preprocessor"></span>        <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"¥ DoNDim-Error: (1&lt;&lt;aElutWordSize)/aXlutAdrSize &lt;= 0 %d\n"</span>,(1&lt;&lt;aElutWordSize)/aXlutAdrSize);
01083 <span class="preprocessor">#endif</span>
01084 <span class="preprocessor"></span>        <span class="keywordflow">return</span> <a class="code" href="../../d2/d6/lh__open_2pi__app_8h.html#a149a30">cmparamErr</a>;
01085     }
01086     <span class="keywordflow">if</span>( aAlutInShift &lt;= 0 ){
01087 <span class="preprocessor">#ifdef DEBUG_OUTPUT</span>
01088 <span class="preprocessor"></span>        <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"¥ DoNDim-Error: aAlutInShift &lt;= 0 %d\n"</span>,aAlutInShift);
01089 <span class="preprocessor">#endif</span>
01090 <span class="preprocessor"></span>        <span class="keywordflow">return</span> <a class="code" href="../../d2/d6/lh__open_2pi__app_8h.html#a149a30">cmparamErr</a>;
01091     }
01092     aXlutOffset =<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>;
01093     <span class="keywordflow">for</span>( i=0; i&lt;(<span class="keywordtype">long</span>)<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>; i++){
01094         theXlutOffsets[ <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>-1-i] = aXlutOffset;
01095         aXlutOffset *=aXlutAdrSize;
01096     }
01097         aAlutRound = 1&lt;&lt;( aAlutInShift + aAlutShift - 1 );
01098 
01099 <span class="preprocessor">#ifdef DEBUG_OUTPUT</span>
01100 <span class="preprocessor"></span>        <span class="keywordflow">if</span> ( DebugCheck(kThisFile, kDebugReserved1) )
01101             <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">" aElutWordSize((1&lt;&lt;aElutWordSize)-0) = %ld\n aAlutInShift:((1&lt;&lt;aXlutWordSize)*aElutWordSize+(adr_bereich_alut/2))/adr_bereich_alut = %ld\n"</span>,aElutWordSize,aAlutInShift);
01102 <span class="preprocessor">#endif</span>
01103 <span class="preprocessor"></span>    
01104         <span class="keywordflow">while</span> (LineCount){
01105                 i = Pixelcount;
01106                 
01107                 <span class="keywordflow">while</span> (i){
01108         
01109                 <span class="keywordtype">long</span> adr[8],<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[8];
01110                 <a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> ein_reg[8];
01111                 <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>  adrAdr,ko,adrOffset;
01112         
01113                 adr0=0;
01114                         aElutOffset = 0;
01115                         jj=0;
01116                         
01117                                 ein_Cache[0]=jj=(*(<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)inputData[0]);
01118                                         ko0 = jj - ( jj &gt;&gt; ( <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a19">adr_breite_elut</a> ));
01119                                         ko = ko0 &amp; ( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a7">aElutShiftNum</a> - 1 );
01120                                         ko0 = ko0 &gt;&gt; <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>;
01121                                         ko0 += aElutOffset;
01122                                 jj = ( ein_lut[ ko0 ] * ( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a7">aElutShiftNum</a> - ko ) + ein_lut[ ko0 +1 ] * ko ) &gt;&gt; <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>;
01123         
01124                                 jj *= aXlutAdrSize;
01125                                 aElutOffset += <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a18">adr_bereich_elut</a>;
01126                                 adr[0] = jj &amp; aElutWordSizeMask;
01127                                 jj = jj &gt;&gt; aElutWordSize;
01128                                 adr0 += (jj)*theXlutOffsets[0];
01129                                 ein_reg[0] = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)jj;
01130 
01131                                 ein_Cache[1]=jj=(*(<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)inputData[1]);
01132                                         ko0 = jj - ( jj &gt;&gt; ( <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a19">adr_breite_elut</a> ));
01133                                         ko = ko0 &amp; ( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a7">aElutShiftNum</a> - 1 );
01134                                         ko0 = ko0 &gt;&gt; <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>;
01135                                         ko0 += aElutOffset;
01136                                 jj = ( ein_lut[ ko0 ] * ( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a7">aElutShiftNum</a> - ko ) + ein_lut[ ko0 +1 ] * ko ) &gt;&gt; <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>;
01137         
01138                                 jj *= aXlutAdrSize;
01139                                 aElutOffset += <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a18">adr_bereich_elut</a>;
01140                                 adr[1] = jj &amp; aElutWordSizeMask;
01141                                 jj = jj &gt;&gt; aElutWordSize;
01142                                 adr0 += (jj)*theXlutOffsets[1];
01143                                 ein_reg[1] = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)jj;
01144 
01145                                         ein_Cache[2]=jj=(*(<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)inputData[2]);
01146                                         ko0 = jj - ( jj &gt;&gt; ( <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a19">adr_breite_elut</a> ));
01147                                         ko = ko0 &amp; ( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a7">aElutShiftNum</a> - 1 );
01148                                         ko0 = ko0 &gt;&gt; <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>;
01149                                         ko0 += aElutOffset;
01150                                 jj = ( ein_lut[ ko0 ] * ( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a7">aElutShiftNum</a> - ko ) + ein_lut[ ko0 +1 ] * ko ) &gt;&gt; <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>;
01151         
01152                                 jj *= aXlutAdrSize;
01153                                 aElutOffset += <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a18">adr_bereich_elut</a>;
01154                                 adr[2] = jj &amp; aElutWordSizeMask;
01155                                 jj = jj &gt;&gt; aElutWordSize;
01156                                 adr0 += (jj)*theXlutOffsets[2];
01157                                 ein_reg[2] = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)jj;
01158 
01159 <span class="preprocessor">#if NDIM_IN_DIM == 4</span>
01160 <span class="preprocessor"></span>                                        ein_Cache[3]=jj=(*(<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)inputData[3]);
01161                                         ko0 = jj - ( jj &gt;&gt; ( <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a19">adr_breite_elut</a> ));
01162                                         ko = ko0 &amp; ( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a7">aElutShiftNum</a> - 1 );
01163                                         ko0 = ko0 &gt;&gt; <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>;
01164                                         ko0 += aElutOffset;
01165                                 jj = ( ein_lut[ ko0 ] * ( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a7">aElutShiftNum</a> - ko ) + ein_lut[ ko0 +1 ] * ko ) &gt;&gt; <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>;
01166         
01167                                 jj *= aXlutAdrSize;
01168                                 aElutOffset += <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a18">adr_bereich_elut</a>;
01169                                 adr[3] = jj &amp; aElutWordSizeMask;
01170                                 jj = jj &gt;&gt; aElutWordSize;
01171                                 adr0 += (jj)*theXlutOffsets[3];
01172                                 ein_reg[3] = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)jj;
01173 <span class="preprocessor">#endif</span>
01174 <span class="preprocessor"></span>                
01175         
01176 
01177                 {                                                               <span class="comment">/* a kind of */</span>
01178                     <span class="keyword">register</span> <span class="keywordtype">long</span> <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a>;
01179                     
01180                         
01181                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0] = 0;
01182                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1] = 1;
01183                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2] = 2;
01184 <span class="preprocessor">#if NDIM_IN_DIM == 4</span>
01185 <span class="preprocessor"></span>                                <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[3] = 3;
01186 <span class="preprocessor">#endif</span>
01187 <span class="preprocessor"></span>                                        <span class="keywordflow">if</span>( adr[0] &lt; adr[1] ){
01188                                                 <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a> = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0];
01189                                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0] = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1];
01190                                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1] = <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a>;
01191                                         }
01192 
01193                                         <span class="keywordflow">if</span>( adr[<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1]] &lt; adr[2] ){
01194                                                 <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a> = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1];
01195                                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1] = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2];
01196                                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2] = <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a>;
01197                                                 <span class="keywordflow">if</span>( adr[<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0]] &lt; adr[<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1]] ){
01198                                                         <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a> = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0];
01199                                                         <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0] = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1];
01200                                                         <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1] = <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a>;
01201                                                 }
01202                                         }
01203 
01204 <span class="preprocessor">#if NDIM_IN_DIM == 4</span>
01205 <span class="preprocessor"></span>                                        <span class="keywordflow">if</span>( adr[<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2]] &lt; adr[3] ){
01206                                                 <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a> = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2];
01207                                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2] = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[3];
01208                                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[3] = <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a>;
01209                                                 <span class="keywordflow">if</span>( adr[<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1]] &lt; adr[<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2]] ){
01210                                                         <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a> = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1];
01211                                                         <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1] = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2];
01212                                                         <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2] = <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a>;
01213                                                         <span class="keywordflow">if</span>( adr[<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0]] &lt; adr[<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1]] ){
01214                                                                 <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a> = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0];
01215                                                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0] = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1];
01216                                                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1] = <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a>;
01217                                                         }
01218                                                 }
01219                                         }
01220 <span class="preprocessor">#endif</span>
01221 <span class="preprocessor"></span>                }
01222 
01223         accu[0]=0;
01224         accu[1]=0;
01225         accu[2]=0;
01226 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
01227 <span class="preprocessor"></span>        accu[3]=0;
01228 <span class="preprocessor">#endif</span>
01229 <span class="preprocessor"></span>        ko0 = (1&lt;&lt;aElutWordSize);
01230         adrAdr=adr0;
01231         adrOffset=0;
01232         <span class="keywordflow">if</span>( aXlutWordSize  == 16 ){
01233                 jj = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0];
01234                 ko = ko0 - adr[jj];
01235                 ko0 = adr[jj];
01236 
01237                 <span class="keywordflow">if</span>( ein_reg[jj] &lt; (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)(aXlutAdrSize-1) )
01238                     adrOffset += theXlutOffsets[jj];
01239 
01240                     accu[0]+=Xlut[adrAdr+(0)]*ko;
01241                     accu[1]+=Xlut[adrAdr+(1)]*ko;
01242                     accu[2]+=Xlut[adrAdr+(2)]*ko;
01243 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
01244 <span class="preprocessor"></span>                    accu[3]+=Xlut[adrAdr+(3)]*ko;
01245 <span class="preprocessor">#endif</span>
01246 <span class="preprocessor"></span>
01247                 adrAdr = (adr0 + adrOffset);
01248 
01249                 jj = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1];
01250                 ko = ko0 - adr[jj];
01251                 ko0 = adr[jj];
01252 
01253                 <span class="keywordflow">if</span>( ein_reg[jj] &lt; (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)(aXlutAdrSize-1) )
01254                     adrOffset += theXlutOffsets[jj];
01255 
01256                     accu[0]+=Xlut[adrAdr+(0)]*ko;
01257                     accu[1]+=Xlut[adrAdr+(1)]*ko;
01258                     accu[2]+=Xlut[adrAdr+(2)]*ko;
01259 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
01260 <span class="preprocessor"></span>                    accu[3]+=Xlut[adrAdr+(3)]*ko;
01261 <span class="preprocessor">#endif</span>
01262 <span class="preprocessor"></span>
01263                 adrAdr = (adr0 + adrOffset);
01264 
01265                 jj = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2];
01266                 ko = ko0 - adr[jj];
01267                 ko0 = adr[jj];
01268 
01269                 <span class="keywordflow">if</span>( ein_reg[jj] &lt; (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)(aXlutAdrSize-1) )
01270                     adrOffset += theXlutOffsets[jj];
01271 
01272                     accu[0]+=Xlut[adrAdr+(0)]*ko;
01273                     accu[1]+=Xlut[adrAdr+(1)]*ko;
01274                     accu[2]+=Xlut[adrAdr+(2)]*ko;
01275 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
01276 <span class="preprocessor"></span>                    accu[3]+=Xlut[adrAdr+(3)]*ko;
01277 <span class="preprocessor">#endif</span>
01278 <span class="preprocessor"></span>
01279                 adrAdr = (adr0 + adrOffset);
01280 
01281 <span class="preprocessor">#if NDIM_IN_DIM == 4</span>
01282 <span class="preprocessor"></span>                jj = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[3];
01283                 ko = ko0 - adr[jj];
01284                 ko0 = adr[jj];
01285 
01286                 <span class="keywordflow">if</span>( ein_reg[jj] &lt; (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)(aXlutAdrSize-1) )
01287                     adrOffset += theXlutOffsets[jj];
01288 
01289                     accu[0]+=Xlut[adrAdr+(0)]*ko;
01290                     accu[1]+=Xlut[adrAdr+(1)]*ko;
01291                     accu[2]+=Xlut[adrAdr+(2)]*ko;
01292 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
01293 <span class="preprocessor"></span>                    accu[3]+=Xlut[adrAdr+(3)]*ko;
01294 <span class="preprocessor">#endif</span>
01295 <span class="preprocessor"></span>
01296                 adrAdr = (adr0 + adrOffset);
01297 <span class="preprocessor">#endif</span>
01298 <span class="preprocessor"></span>
01299                 accu[0]+=Xlut[adrAdr+0]*ko0;
01300                 accu[1]+=Xlut[adrAdr+1]*ko0;
01301                 accu[2]+=Xlut[adrAdr+2]*ko0;
01302 <span class="preprocessor"> #if NDIM_OUT_DIM == 4</span>
01303 <span class="preprocessor"></span>               accu[3]+=Xlut[adrAdr+3]*ko0;
01304 <span class="preprocessor"> #endif</span>
01305 <span class="preprocessor"></span>       }
01306        <span class="keywordflow">else</span>{
01307 
01308                 jj = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0];
01309                 ko = ko0 - adr[jj];
01310                 ko0 = adr[jj];
01311 
01312                 <span class="keywordflow">if</span>( ein_reg[jj] &lt; (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)(aXlutAdrSize-1) )
01313                     adrOffset += theXlutOffsets[jj];
01314 
01315                     accu[0]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(0)]*ko;
01316                     accu[1]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(1)]*ko;
01317                     accu[2]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(2)]*ko;
01318 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
01319 <span class="preprocessor"></span>                    accu[3]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(3)]*ko;
01320 <span class="preprocessor">#endif</span>
01321 <span class="preprocessor"></span>                adrAdr = (adr0 + adrOffset);
01322 
01323                 jj = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1];
01324                 ko = ko0 - adr[jj];
01325                 ko0 = adr[jj];
01326 
01327                 <span class="keywordflow">if</span>( ein_reg[jj] &lt; (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)(aXlutAdrSize-1) )
01328                     adrOffset += theXlutOffsets[jj];
01329 
01330                     accu[0]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(0)]*ko;
01331                     accu[1]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(1)]*ko;
01332                     accu[2]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(2)]*ko;
01333 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
01334 <span class="preprocessor"></span>                    accu[3]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(3)]*ko;
01335 <span class="preprocessor">#endif</span>
01336 <span class="preprocessor"></span>                adrAdr = (adr0 + adrOffset);
01337 
01338                 jj = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2];
01339                 ko = ko0 - adr[jj];
01340                 ko0 = adr[jj];
01341 
01342                 <span class="keywordflow">if</span>( ein_reg[jj] &lt; (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)(aXlutAdrSize-1) )
01343                     adrOffset += theXlutOffsets[jj];
01344 
01345                     accu[0]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(0)]*ko;
01346                     accu[1]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(1)]*ko;
01347                     accu[2]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(2)]*ko;
01348 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
01349 <span class="preprocessor"></span>                    accu[3]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(3)]*ko;
01350 <span class="preprocessor">#endif</span>
01351 <span class="preprocessor"></span>                adrAdr = (adr0 + adrOffset);
01352 
01353 <span class="preprocessor">#if NDIM_IN_DIM == 4</span>
01354 <span class="preprocessor"></span>                jj = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[3];
01355                 ko = ko0 - adr[jj];
01356                 ko0 = adr[jj];
01357 
01358                 <span class="keywordflow">if</span>( ein_reg[jj] &lt; (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)(aXlutAdrSize-1) )
01359                     adrOffset += theXlutOffsets[jj];
01360 
01361                     accu[0]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(0)]*ko;
01362                     accu[1]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(1)]*ko;
01363                     accu[2]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(2)]*ko;
01364 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
01365 <span class="preprocessor"></span>                    accu[3]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(3)]*ko;
01366 <span class="preprocessor">#endif</span>
01367 <span class="preprocessor"></span>                adrAdr = (adr0 + adrOffset);
01368 <span class="preprocessor">#endif</span>
01369 <span class="preprocessor"></span>                accu[0]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+0]*ko0;
01370                 accu[1]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+1]*ko0;
01371                 accu[2]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+2]*ko0;
01372 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
01373 <span class="preprocessor"></span>               accu[3]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+3]*ko0;
01374 <span class="preprocessor">#endif</span>
01375 <span class="preprocessor"></span>        }
01376 
01377                 aAlutOffset = 0;
01378 
01379                 <span class="keywordflow">if</span>( aOutputPackMode8Bit ){
01380                         <span class="keywordflow">for</span>( ii=0; ii&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>; ++ii){
01381                                         jj = accu[ii];
01382                                         jj = jj + ( jj &gt;&gt; aXlutWordSize );
01383 
01384                                         ko0 = (jj - ( jj &gt;&gt; ( <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a22">adr_breite_alut</a> ))) &gt;&gt; aAlutInShiftRemainder;     <span class="comment">/*      aAlutInShift = aXlutWordSize + aElutWordSize - adr_breite_alut;*/</span>
01385 
01386                                         ko = ko0 &amp; (aAlutInShiftNum - 1 );
01387                                         ko0 = ko0 &gt;&gt; aAlutInShift;
01388                                         ko0 += aAlutOffset;
01389                                         <span class="keywordflow">if</span>( aAlutWordSize &lt;= 8)
01390                                         jj = ( ((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a>*)aus_lut)[ ko0 ] * ( aAlutInShiftNum - ko ) + ((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a>*)aus_lut)[ ko0 +1 ] * ko ) &gt;&gt; ( aAlutInShift );
01391                                         <span class="keywordflow">else</span>{
01392                                         jj = ( aus_lut[ ko0 ] * ( aAlutInShiftNum - ko ) + aus_lut[ ko0 +1 ] * ko );
01393                                                 jj = jj - ( jj &gt;&gt; aAlutShift );
01394                                                 jj = ( jj + aAlutRound ) &gt;&gt; (aAlutInShift + aAlutShift);
01395                                         }
01396                                         *outputData[ii] = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a>)jj;
01397                         aAlutOffset += <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a21">adr_bereich_alut</a>;
01398                     }
01399                         }
01400                         <span class="keywordflow">else</span>{
01401                                 <span class="keywordflow">if</span>( aXlutWordSize &gt;= 16 ){
01402                                         <span class="keywordflow">for</span>( ii=0; ii&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>; ++ii){
01403                                                 jj = accu[ii];
01404                                                 jj = jj + ( jj &gt;&gt; aXlutWordSize );
01405                                 ko0 = (jj - ( jj &gt;&gt; ( <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a22">adr_breite_alut</a> ))) &gt;&gt; aAlutInShiftRemainder; <span class="comment">/*  aAlutInShift = aXlutWordSize + aElutWordSize - adr_breite_alut;*/</span>
01406                 
01407                                                 ko = ko0 &amp; (aAlutInShiftNum - 1 );
01408                                                 ko0 = ko0 &gt;&gt; aAlutInShift;
01409                                                 ko0 += aAlutOffset;
01410                                                 <span class="keywordflow">if</span>( aAlutWordSize &lt;= 8)
01411                                                 jj = ( ((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a>*)aus_lut)[ ko0 ] * ( aAlutInShiftNum - ko ) + ((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a>*)aus_lut)[ ko0 +1 ] * ko ) &lt;&lt; ( aAlutShift - aAlutInShift );
01412                                                 <span class="keywordflow">else</span>
01413                                                 jj = ( aus_lut[ ko0 ] * ( aAlutInShiftNum - ko ) + aus_lut[ ko0 +1 ] * ko ) &gt;&gt; (aAlutInShift- aAlutShift);
01414                                                 *((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)outputData[ii]) =  (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)jj;
01415                                                 aAlutOffset += <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a21">adr_bereich_alut</a>;
01416                                         }
01417                                 }
01418                                 <span class="keywordflow">else</span>{
01419                                         <span class="keywordflow">for</span>( ii=0; ii&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>; ++ii){
01420                                                 jj = accu[ii];
01421                                                 jj = jj + ( jj &gt;&gt; aXlutWordSize ) + ( jj &gt;&gt; 2*aXlutWordSize );
01422                                 ko0 = (jj - ( jj &gt;&gt; ( <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a22">adr_breite_alut</a> ))) ; <span class="comment">/*  aAlutInShift = aXlutWordSize + aElutWordSize - adr_breite_alut;*/</span>
01423                 
01424                                                 ko = ko0 &amp; (aAlutInShiftNum - 1 );
01425                                                 ko0 = ko0 &gt;&gt; aAlutInShift;
01426                                                 ko0 += aAlutOffset;
01427                                                 <span class="keywordflow">if</span>( aAlutWordSize &lt;= 8)
01428                                                 jj = ( ((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a>*)aus_lut)[ ko0 ] * ( aAlutInShiftNum - ko ) + ((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a>*)aus_lut)[ ko0 +1 ] * ko ) &lt;&lt; ( aAlutShift - aAlutInShift );
01429                                                 <span class="keywordflow">else</span>
01430                                                 jj = ( aus_lut[ ko0 ] * ( aAlutInShiftNum - ko ) + aus_lut[ ko0 +1 ] * ko ) &gt;&gt; (aAlutInShift- aAlutShift);
01431                                                 *((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)outputData[ii]) =  (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)jj;
01432                                                 aAlutOffset += <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a21">adr_bereich_alut</a>;
01433                                         }
01434                                 }
01435                         }
01436                         <span class="keywordflow">while</span> (--i){
01437                                 <span class="keywordflow">for</span>( jj=0; jj&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>; ++jj){
01438                                         inputData[jj] += (<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a> * 2);
01439                                 }
01440                                 <span class="keywordflow">for</span>( jj=0; jj&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>; ++jj){
01441                                         outputData[jj] += OutputIncrement;
01442                                 }
01443         
01444                                 {
01445                                         <span class="keywordflow">for</span>( jj=0; jj&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>; ++jj){
01446                                                 <span class="keywordflow">if</span>( *((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)inputData[jj]) ^ *(<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)(&amp;ein_Cache[jj]) )<span class="keywordflow">break</span>;
01447                                         }
01448                                 }
01449                                 <span class="keywordflow">if</span>( jj&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a> ) <span class="keywordflow">break</span>;
01450                                 <span class="keywordflow">if</span>( aOutputPackMode8Bit ){
01451                                         <span class="keywordflow">for</span>( jj=0; jj&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>; ++jj){
01452                                                 *outputData[jj] = outputData[jj][-(<span class="keywordtype">long</span>)(<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a> )];
01453                                         }
01454                                 }
01455                                 <span class="keywordflow">else</span>{
01456                                         <span class="keywordflow">for</span>( jj=0; jj&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>; ++jj){
01457                                                 *((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)outputData[jj]) = *(<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)(&amp;outputData[jj][-(<span class="keywordtype">long</span>)(<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a> * 2)]);
01458                                         }
01459                                 }
01460                         }
01461                 }
01462                 
01463                 <span class="keywordflow">if</span>( --LineCount ){
01464                         <span class="keywordflow">for</span>( jj=0; jj&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>; ++jj){
01465                                 inputData[jj] += inputDataRowOffset;
01466                         }
01467                         <span class="keywordflow">for</span>( jj=0; jj&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>; ++jj){
01468                                 outputData[jj] += outputDataRowOffset;
01469                         }
01470                 }
01471     }
01472     }
01473     <span class="keywordflow">else</span>{
01474 
01475     <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>  bit_breit_selektor;
01476     <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>  bit_maske_selektor;
01477     <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>  bit_breit_adr;
01478     <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>  bit_maske_adr;
01479     <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>  aAlutInShiftNum;
01480     <span class="keyword">register</span> <span class="keywordtype">long</span> aAlutInShift;
01481     <span class="keyword">register</span> <span class="keywordtype">long</span> aAlutInShiftRemainder;
01482     <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> aAlutRound;
01483     <span class="comment">/*register long aXlutPlaneShift = aXlutAdrShift*aXlutInDim;*/</span>
01484     bit_breit_selektor=aElutWordSize-aXlutAdrShift;
01485     <span class="keywordflow">if</span>( aElutWordSize-aXlutAdrShift &lt; 0 )
01486     {
01487 <span class="preprocessor">#ifdef DEBUG_OUTPUT</span>
01488 <span class="preprocessor"></span>        <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"¥ DoNDim-Error: bit_breit_selektor &lt; 0 (bit_breit_selektor = %d)\n"</span>,bit_breit_selektor);
01489 <span class="preprocessor">#endif</span>
01490 <span class="preprocessor"></span>        <span class="keywordflow">return</span> <a class="code" href="../../d2/d6/lh__open_2pi__app_8h.html#a149a30">cmparamErr</a>;
01491     }
01492     bit_maske_selektor=(1&lt;&lt;bit_breit_selektor)-1;
01493     bit_breit_adr=aXlutAdrShift;
01494     bit_maske_adr=((1&lt;&lt;bit_breit_adr)-1)&lt;&lt;bit_breit_selektor;
01495     aAlutInShift = (aXlutWordSize+bit_breit_selektor-<a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a22">adr_breite_alut</a>);
01496     <span class="comment">/*aAlutInShift = aXlutWordSize + aElutWordSize - adr_breite_alut;*/</span>
01497     aAlutInShiftRemainder = 0;
01498     <span class="keywordflow">if</span>( aAlutInShift &gt; 16 ){
01499         aAlutInShiftRemainder = aAlutInShift - 16;
01500         aAlutInShift = 16;
01501     }
01502         
01503     aAlutInShiftNum = (1&lt;&lt;aAlutInShift);
01504     
01505         aAlutRound = 1&lt;&lt;( aAlutInShift + aAlutShift - 1 );
01506         <span class="keywordflow">while</span> (LineCount){
01507                 i = Pixelcount;
01508                 
01509                 <span class="keywordflow">while</span> (i){
01510         
01511                 <span class="keywordtype">long</span> adr[8],<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[8];
01512                 <span class="comment">/*LH_UINT16 *ein_lut = (LH_UINT16 *)ein_lut;*/</span>
01513                 <a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> ein_reg[8];
01514                    <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>  adrAdr,ko,adrOffset;
01515                 <span class="comment">/*register unsigned long aIndex;*/</span>
01516         
01517                 adr0=0;
01518                 aElutOffset = 0;
01519                 jj=0;
01520                         ein_Cache[0]=jj=(*(<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)inputData[0]);
01521                         ko0 = jj - ( jj &gt;&gt; ( <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a19">adr_breite_elut</a> ));
01522                         ko = ko0 &amp; ( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a7">aElutShiftNum</a> - 1 );
01523                         ko0 = ko0 &gt;&gt; <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>;
01524                         ko0 += aElutOffset;
01525                            jj = ( ein_lut[ ko0 ] * ( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a7">aElutShiftNum</a> - ko ) + ein_lut[ ko0 +1 ] * ko ) &gt;&gt; <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>;
01526         
01527                         aElutOffset += <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a18">adr_bereich_elut</a>;
01528                         adr[0] = (jj &amp; bit_maske_selektor);
01529                         adr0 |= ((jj &amp; bit_maske_adr)&gt;&gt;bit_breit_selektor)&lt;&lt;((<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>-0-1)*bit_breit_adr);
01530                         ein_reg[0] = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)jj;
01531 
01532                         ein_Cache[1]=jj=(*(<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)inputData[1]);
01533                         ko0 = jj - ( jj &gt;&gt; ( <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a19">adr_breite_elut</a> ));
01534                         ko = ko0 &amp; ( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a7">aElutShiftNum</a> - 1 );
01535                         ko0 = ko0 &gt;&gt; <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>;
01536                         ko0 += aElutOffset;
01537                            jj = ( ein_lut[ ko0 ] * ( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a7">aElutShiftNum</a> - ko ) + ein_lut[ ko0 +1 ] * ko ) &gt;&gt; <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>;
01538         
01539                         aElutOffset += <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a18">adr_bereich_elut</a>;
01540                         adr[1] = (jj &amp; bit_maske_selektor);
01541                         adr0 |= ((jj &amp; bit_maske_adr)&gt;&gt;bit_breit_selektor)&lt;&lt;((<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>-1-1)*bit_breit_adr);
01542                         ein_reg[1] = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)jj;
01543 
01544                         ein_Cache[2]=jj=(*(<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)inputData[2]);
01545                         ko0 = jj - ( jj &gt;&gt; ( <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a19">adr_breite_elut</a> ));
01546                         ko = ko0 &amp; ( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a7">aElutShiftNum</a> - 1 );
01547                         ko0 = ko0 &gt;&gt; <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>;
01548                         ko0 += aElutOffset;
01549                            jj = ( ein_lut[ ko0 ] * ( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a7">aElutShiftNum</a> - ko ) + ein_lut[ ko0 +1 ] * ko ) &gt;&gt; <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>;
01550         
01551                         aElutOffset += <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a18">adr_bereich_elut</a>;
01552                         adr[2] = (jj &amp; bit_maske_selektor);
01553                         adr0 |= ((jj &amp; bit_maske_adr)&gt;&gt;bit_breit_selektor)&lt;&lt;((<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>-2-1)*bit_breit_adr);
01554                         ein_reg[2] = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)jj;
01555 
01556 <span class="preprocessor">#if NDIM_IN_DIM == 4</span>
01557 <span class="preprocessor"></span>                        ein_Cache[3]=jj=(*(<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)inputData[3]);
01558                         ko0 = jj - ( jj &gt;&gt; ( <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a19">adr_breite_elut</a> ));
01559                         ko = ko0 &amp; ( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a7">aElutShiftNum</a> - 1 );
01560                         ko0 = ko0 &gt;&gt; <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>;
01561                         ko0 += aElutOffset;
01562                            jj = ( ein_lut[ ko0 ] * ( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a7">aElutShiftNum</a> - ko ) + ein_lut[ ko0 +1 ] * ko ) &gt;&gt; <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>;
01563         
01564                         aElutOffset += <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a18">adr_bereich_elut</a>;
01565                         adr[3] = (jj &amp; bit_maske_selektor);
01566                         adr0 |= ((jj &amp; bit_maske_adr)&gt;&gt;bit_breit_selektor)&lt;&lt;((<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>-3-1)*bit_breit_adr);
01567                         ein_reg[3] = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)jj;
01568 <span class="preprocessor">#endif  </span>
01569 <span class="preprocessor"></span>                adr0 *= <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>;
01570         
01571                 {                                                               <span class="comment">/* a kind of */</span>
01572                     <span class="keyword">register</span> <span class="keywordtype">long</span> <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a>;
01573                     
01574                         
01575                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0] = 0;
01576                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1] = 1;
01577                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2] = 2;
01578 <span class="preprocessor">#if NDIM_IN_DIM == 4</span>
01579 <span class="preprocessor"></span>                                <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[3] = 3;
01580 <span class="preprocessor">#endif</span>
01581 <span class="preprocessor"></span>                                        <span class="keywordflow">if</span>( adr[0] &lt; adr[1] ){
01582                                                 <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a> = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0];
01583                                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0] = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1];
01584                                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1] = <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a>;
01585                                         }
01586 
01587                                         <span class="keywordflow">if</span>( adr[<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1]] &lt; adr[2] ){
01588                                                 <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a> = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1];
01589                                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1] = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2];
01590                                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2] = <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a>;
01591                                                 <span class="keywordflow">if</span>( adr[<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0]] &lt; adr[<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1]] ){
01592                                                         <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a> = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0];
01593                                                         <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0] = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1];
01594                                                         <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1] = <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a>;
01595                                                 }
01596                                         }
01597 
01598 <span class="preprocessor">#if NDIM_IN_DIM == 4</span>
01599 <span class="preprocessor"></span>                                        <span class="keywordflow">if</span>( adr[<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2]] &lt; adr[3] ){
01600                                                 <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a> = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2];
01601                                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2] = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[3];
01602                                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[3] = <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a>;
01603                                                 <span class="keywordflow">if</span>( adr[<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1]] &lt; adr[<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2]] ){
01604                                                         <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a> = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1];
01605                                                         <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1] = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2];
01606                                                         <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2] = <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a>;
01607                                                         <span class="keywordflow">if</span>( adr[<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0]] &lt; adr[<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1]] ){
01608                                                                 <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a> = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0];
01609                                                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0] = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1];
01610                                                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1] = <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a>;
01611                                                         }
01612                                                 }
01613                                         }
01614 <span class="preprocessor">#endif</span>
01615 <span class="preprocessor"></span>                }
01616         
01617                         accu[0]=0;
01618                         accu[1]=0;
01619                         accu[2]=0;
01620 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
01621 <span class="preprocessor"></span>                        accu[3]=0;
01622 <span class="preprocessor">#endif</span>
01623 <span class="preprocessor"></span>        
01624                 ko0 = bit_maske_selektor+1;
01625                 adrAdr=adr0;
01626                 adrOffset=0;
01627         
01628                 <span class="keywordflow">if</span>( aXlutWordSize  == 16 ){
01629                         jj = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0];
01630                         ko = ko0 - adr[jj];
01631                         ko0 = adr[jj];
01632         
01633                         <span class="keywordflow">if</span>( ein_reg[jj] &lt; bit_maske_adr )
01634                             adrOffset |= (1&lt;&lt;(<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>-1-jj)*bit_breit_adr);
01635         
01636                                                 accu[0]+=Xlut[adrAdr+(0)]*ko;
01637                                                 accu[1]+=Xlut[adrAdr+(1)]*ko;
01638                                                 accu[2]+=Xlut[adrAdr+(2)]*ko;
01639 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
01640 <span class="preprocessor"></span>                                                accu[3]+=Xlut[adrAdr+(3)]*ko;
01641 <span class="preprocessor">#endif</span>
01642 <span class="preprocessor"></span>                        adrAdr = (adr0 + <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>*adrOffset);
01643 
01644                         jj = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1];
01645                         ko = ko0 - adr[jj];
01646                         ko0 = adr[jj];
01647         
01648                         <span class="keywordflow">if</span>( ein_reg[jj] &lt; bit_maske_adr )
01649                             adrOffset |= (1&lt;&lt;(<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>-1-jj)*bit_breit_adr);
01650         
01651                                                 accu[0]+=Xlut[adrAdr+(0)]*ko;
01652                                                 accu[1]+=Xlut[adrAdr+(1)]*ko;
01653                                                 accu[2]+=Xlut[adrAdr+(2)]*ko;
01654 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
01655 <span class="preprocessor"></span>                                                accu[3]+=Xlut[adrAdr+(3)]*ko;
01656 <span class="preprocessor">#endif</span>
01657 <span class="preprocessor"></span>                        adrAdr = (adr0 + <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>*adrOffset);
01658 
01659                         jj = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2];
01660                         ko = ko0 - adr[jj];
01661                         ko0 = adr[jj];
01662         
01663                         <span class="keywordflow">if</span>( ein_reg[jj] &lt; bit_maske_adr )
01664                             adrOffset |= (1&lt;&lt;(<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>-1-jj)*bit_breit_adr);
01665         
01666                                                 accu[0]+=Xlut[adrAdr+(0)]*ko;
01667                                                 accu[1]+=Xlut[adrAdr+(1)]*ko;
01668                                                 accu[2]+=Xlut[adrAdr+(2)]*ko;
01669 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
01670 <span class="preprocessor"></span>                                                accu[3]+=Xlut[adrAdr+(3)]*ko;
01671 <span class="preprocessor">#endif</span>
01672 <span class="preprocessor"></span>                        adrAdr = (adr0 + <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>*adrOffset);
01673 
01674 <span class="preprocessor">#if NDIM_IN_DIM == 4</span>
01675 <span class="preprocessor"></span>                        jj = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[3];
01676                         ko = ko0 - adr[jj];
01677                         ko0 = adr[jj];
01678         
01679                         <span class="keywordflow">if</span>( ein_reg[jj] &lt; bit_maske_adr )
01680                             adrOffset |= (1&lt;&lt;(<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>-1-jj)*bit_breit_adr);
01681         
01682                                                 accu[0]+=Xlut[adrAdr+(0)]*ko;
01683                                                 accu[1]+=Xlut[adrAdr+(1)]*ko;
01684                                                 accu[2]+=Xlut[adrAdr+(2)]*ko;
01685 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
01686 <span class="preprocessor"></span>                                                accu[3]+=Xlut[adrAdr+(3)]*ko;
01687 <span class="preprocessor">#endif</span>
01688 <span class="preprocessor"></span>                        adrAdr = (adr0 + <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>*adrOffset);
01689 <span class="preprocessor">#endif</span>
01690 <span class="preprocessor"></span>                accu[0]+=Xlut[adrAdr+0]*ko0;
01691                 accu[1]+=Xlut[adrAdr+1]*ko0;
01692                 accu[2]+=Xlut[adrAdr+2]*ko0;
01693 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
01694 <span class="preprocessor"></span>                                accu[3]+=Xlut[adrAdr+3]*ko0;
01695 <span class="preprocessor">#endif</span>
01696 <span class="preprocessor"></span>                }
01697                 <span class="keywordflow">else</span>{
01698                         jj = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0];
01699                         ko = ko0 - adr[jj];
01700                         ko0 = adr[jj];
01701         
01702                         <span class="keywordflow">if</span>( ein_reg[jj] &lt; bit_maske_adr )
01703                             adrOffset |= (1&lt;&lt;(<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>-1-jj)*bit_breit_adr);
01704         
01705                             accu[0]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(0)]*ko;
01706                             accu[1]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(1)]*ko;
01707                             accu[2]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(2)]*ko;
01708 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
01709 <span class="preprocessor"></span>                            accu[3]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(3)]*ko;
01710 <span class="preprocessor">#endif</span>
01711 <span class="preprocessor"></span>        
01712                         adrAdr = (adr0 + <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>*adrOffset);
01713 
01714                         jj = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1];
01715                         ko = ko0 - adr[jj];
01716                         ko0 = adr[jj];
01717         
01718                         <span class="keywordflow">if</span>( ein_reg[jj] &lt; bit_maske_adr )
01719                             adrOffset |= (1&lt;&lt;(<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>-1-jj)*bit_breit_adr);
01720         
01721                             accu[0]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(0)]*ko;
01722                             accu[1]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(1)]*ko;
01723                             accu[2]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(2)]*ko;
01724 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
01725 <span class="preprocessor"></span>                            accu[3]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(3)]*ko;
01726 <span class="preprocessor">#endif</span>
01727 <span class="preprocessor"></span>        
01728                         adrAdr = (adr0 + <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>*adrOffset);
01729 
01730                         jj = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2];
01731                         ko = ko0 - adr[jj];
01732                         ko0 = adr[jj];
01733         
01734                         <span class="keywordflow">if</span>( ein_reg[jj] &lt; bit_maske_adr )
01735                             adrOffset |= (1&lt;&lt;(<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>-1-jj)*bit_breit_adr);
01736         
01737                             accu[0]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(0)]*ko;
01738                             accu[1]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(1)]*ko;
01739                             accu[2]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(2)]*ko;
01740 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
01741 <span class="preprocessor"></span>                            accu[3]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(3)]*ko;
01742 <span class="preprocessor">#endif</span>
01743 <span class="preprocessor"></span>        
01744                         adrAdr = (adr0 + <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>*adrOffset);
01745 
01746 <span class="preprocessor">#if NDIM_IN_DIM == 4</span>
01747 <span class="preprocessor"></span>                        jj = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[3];
01748                         ko = ko0 - adr[jj];
01749                         ko0 = adr[jj];
01750         
01751                         <span class="keywordflow">if</span>( ein_reg[jj] &lt; bit_maske_adr )
01752                             adrOffset |= (1&lt;&lt;(<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>-1-jj)*bit_breit_adr);
01753         
01754                             accu[0]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(0)]*ko;
01755                             accu[1]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(1)]*ko;
01756                             accu[2]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(2)]*ko;
01757 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
01758 <span class="preprocessor"></span>                            accu[3]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(3)]*ko;
01759 <span class="preprocessor">#endif</span>
01760 <span class="preprocessor"></span>        
01761                         adrAdr = (adr0 + <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>*adrOffset);
01762 <span class="preprocessor">#endif</span>
01763 <span class="preprocessor"></span>                                accu[0]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+0]*ko0;
01764                 accu[1]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+1]*ko0;
01765                 accu[2]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+2]*ko0;
01766 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
01767 <span class="preprocessor"></span>                                accu[3]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+3]*ko0;
01768 <span class="preprocessor">#endif</span>
01769 <span class="preprocessor"></span>                }
01770         
01771                 aAlutOffset = 0;
01772         
01773                 <span class="keywordflow">if</span>( aOutputPackMode8Bit ){
01774                         <span class="keywordflow">for</span>( ii=0; ii&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>; ++ii){
01775                                         jj = accu[ii];
01776                                         jj = jj + ( jj &gt;&gt; aXlutWordSize );
01777 
01778                                         ko0 = (jj - ( jj &gt;&gt; ( <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a22">adr_breite_alut</a> ))) &gt;&gt; aAlutInShiftRemainder;     <span class="comment">/*      aAlutInShift = aXlutWordSize + aElutWordSize - adr_breite_alut;*/</span>
01779 
01780                                         ko = ko0 &amp; (aAlutInShiftNum - 1 );
01781                                         ko0 = ko0 &gt;&gt; aAlutInShift;
01782                                         ko0 += aAlutOffset;
01783                                         <span class="keywordflow">if</span>( aAlutWordSize &lt;= 8)
01784                                         jj = ( ((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a>*)aus_lut)[ ko0 ] * ( aAlutInShiftNum - ko ) + ((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a>*)aus_lut)[ ko0 +1 ] * ko ) &gt;&gt; ( aAlutInShift );
01785                                         <span class="keywordflow">else</span>{
01786                                                 jj = ( aus_lut[ ko0 ] * ( aAlutInShiftNum - ko ) + aus_lut[ ko0 +1 ] * ko );
01787                                                 jj = jj - ( jj &gt;&gt; aAlutShift );
01788                                                 jj = ( jj + aAlutRound ) &gt;&gt; (aAlutInShift + aAlutShift);
01789                                         }
01790 
01791                                         *outputData[ii] = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a>)jj;
01792                         aAlutOffset += <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a21">adr_bereich_alut</a>;
01793                     }
01794                 }
01795                 <span class="keywordflow">else</span>{
01796                                 <span class="keywordflow">if</span>( aXlutWordSize &gt;= 16 ){
01797                                         <span class="keywordflow">for</span>( ii=0; ii&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>; ++ii){
01798                                                 jj = accu[ii];
01799                                                 jj = jj + ( jj &gt;&gt; aXlutWordSize );
01800                                 ko0 = (jj - ( jj &gt;&gt; ( <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a22">adr_breite_alut</a> ))) &gt;&gt; aAlutInShiftRemainder; <span class="comment">/*  aAlutInShift = aXlutWordSize + aElutWordSize - adr_breite_alut;*/</span>
01801                 
01802                                                 ko = ko0 &amp; (aAlutInShiftNum - 1 );
01803                                                 ko0 = ko0 &gt;&gt; aAlutInShift;
01804                                                 ko0 += aAlutOffset;
01805                                                 <span class="keywordflow">if</span>( aAlutWordSize &lt;= 8)
01806                                                 jj = ( ((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a>*)aus_lut)[ ko0 ] * ( aAlutInShiftNum - ko ) + ((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a>*)aus_lut)[ ko0 +1 ] * ko ) &lt;&lt; ( aAlutShift - aAlutInShift );
01807                                                 <span class="keywordflow">else</span>
01808                                                 jj = ( aus_lut[ ko0 ] * ( aAlutInShiftNum - ko ) + aus_lut[ ko0 +1 ] * ko ) &gt;&gt; (aAlutInShift- aAlutShift);
01809                                                 *((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)outputData[ii]) =  (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)jj;
01810                                                 aAlutOffset += <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a21">adr_bereich_alut</a>;
01811                                         }
01812                                 }
01813                                 <span class="keywordflow">else</span>{
01814                                         <span class="keywordflow">for</span>( ii=0; ii&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>; ++ii){
01815                                                 jj = accu[ii];
01816                                                 jj = jj + ( jj &gt;&gt; aXlutWordSize ) + ( jj &gt;&gt; 2*aXlutWordSize );
01817                                 ko0 = (jj - ( jj &gt;&gt; ( <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a22">adr_breite_alut</a> ))); <span class="comment">/*   aAlutInShift = aXlutWordSize + aElutWordSize - adr_breite_alut;*/</span>
01818                 
01819                                                 ko = ko0 &amp; (aAlutInShiftNum - 1 );
01820                                                 ko0 = ko0 &gt;&gt; aAlutInShift;
01821                                                 ko0 += aAlutOffset;
01822                                                 <span class="keywordflow">if</span>( aAlutWordSize &lt;= 8)
01823                                                 jj = ( ((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a>*)aus_lut)[ ko0 ] * ( aAlutInShiftNum - ko ) + ((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a>*)aus_lut)[ ko0 +1 ] * ko ) &lt;&lt; ( aAlutShift - aAlutInShift );
01824                                                 <span class="keywordflow">else</span>
01825                                                 jj = ( aus_lut[ ko0 ] * ( aAlutInShiftNum - ko ) + aus_lut[ ko0 +1 ] * ko ) &gt;&gt; (aAlutInShift- aAlutShift);
01826                                                 *((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)outputData[ii]) =  (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)jj;
01827                                                 aAlutOffset += <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a21">adr_bereich_alut</a>;
01828                                         }
01829                                 }
01830                 }
01831         
01832                         <span class="keywordflow">while</span> (--i){
01833                                 <span class="keywordflow">for</span>( jj=0; jj&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>; ++jj){
01834                                         inputData[jj] += (<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a> * 2);
01835                                 }
01836                                 <span class="keywordflow">for</span>( jj=0; jj&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>; ++jj){
01837                                         outputData[jj] += OutputIncrement;
01838                                 }
01839         
01840                                 {
01841                                         <span class="keywordflow">for</span>( jj=0; jj&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>; ++jj){
01842                                                 <span class="keywordflow">if</span>( *((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)inputData[jj]) ^ *(<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)(&amp;ein_Cache[jj]) )<span class="keywordflow">break</span>;
01843                                         }
01844                                 }
01845                                 <span class="keywordflow">if</span>( jj&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a> ) <span class="keywordflow">break</span>;
01846                                 <span class="keywordflow">if</span>( aOutputPackMode8Bit ){
01847                                         <span class="keywordflow">for</span>( jj=0; jj&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>; ++jj){
01848                                                 *outputData[jj] = outputData[jj][-(<span class="keywordtype">long</span>)(<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a> )];
01849                                         }
01850                                 }
01851                                 <span class="keywordflow">else</span>{
01852                                         <span class="keywordflow">for</span>( jj=0; jj&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>; ++jj){
01853                                                 *((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)outputData[jj]) = *(<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)(&amp;outputData[jj][-(<span class="keywordtype">long</span>)(<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a> * 2)]);
01854                                         }
01855                                 }
01856                         }
01857                 }
01858                 
01859                 <span class="keywordflow">if</span>( --LineCount ){
01860                         <span class="keywordflow">for</span>( jj=0; jj&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>; ++jj){
01861                                 inputData[jj] += inputDataRowOffset;
01862                         }
01863                         <span class="keywordflow">for</span>( jj=0; jj&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>; ++jj){
01864                                 outputData[jj] += outputDataRowOffset;
01865                         }
01866                 }
01867     }
01868     }
01869 
01870         <span class="comment">/* UNLOCK_DATA( aElutHdle ); */</span>
01871         <span class="comment">/* UNLOCK_DATA( aAlutHdle ); */</span>
01872         <span class="comment">/* UNLOCK_DATA( aXlutHdle ); */</span>
01873 
01874         <a class="code" href="../../d6/d9/lh__open_2general_8h.html#a2">LH_END_PROC</a>(<span class="stringliteral">"Calc324Dim_Data8To8_Lut16"</span>)
01875         return noErr;
01876 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a7" doxytag="lh_core/calcndim.c::Calc423Dim_Data8To8_Lut16" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a11">CMError</a> Calc423Dim_Data8To8_Lut16           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d7/d3/structCMCalcParam.html">CMCalcParamPtr</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>calcParam</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d0/d4/structCMLutParam.html">CMLutParamPtr</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>lutParam</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d8/d2/w98_2lh__core_2calcnd3_8c-source.html#l01887">1887</a> of file <a class="el" href="../../d8/d2/w98_2lh__core_2calcnd3_8c-source.html">w98/lh_core/calcnd3.c</a>.
<p>
<pre class="fragment"><div>01890 {
01891         <a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> * inputData[8], *outputData[8];
01892         <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a8">UINT32</a> OutputIncrement, inputDataRowOffset, outputDataRowOffset, Pixelcount, LineCount;
01893         <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> adr0;
01894     <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> ko0;
01895     <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> accu[8];
01896     <span class="keyword">register</span> <span class="keywordtype">long</span> i;
01897     <span class="comment">/*long Offsets[8];*/</span>
01898     
01899     <span class="keyword">register</span> <span class="keywordtype">long</span> aAlutShift,aElutOffset,aAlutOffset;
01900     <span class="keyword">register</span> <span class="keywordtype">long</span> aElutWordSize;
01901     <span class="keyword">register</span> <span class="keywordtype">long</span> aAlutWordSize;
01902     <span class="keyword">register</span> <span class="keywordtype">long</span> aXlutAdrSize;
01903     <span class="keyword">register</span> <span class="keywordtype">long</span> aXlutAdrShift;
01904     <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> aXlutWordSize;
01905         <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> ii,jj;
01906     <span class="keyword">register</span> <span class="keywordtype">long</span> aOutputPackMode8Bit;
01907         <span class="keywordtype">long</span> ein_Cache[8];
01908         
01909         <a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> * aus_lut     = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>*)lutParam-&gt;<a class="code" href="../../d0/d4/structCMLutParam.html#o5">outputLut</a>;
01910         <a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> * ein_lut     = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>*)lutParam-&gt;<a class="code" href="../../d0/d4/structCMLutParam.html#o2">inputLut</a>;
01911         <a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> * Xlut        = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>*)lutParam-&gt;<a class="code" href="../../d0/d4/structCMLutParam.html#o10">colorLut</a>;
01912         
01913 <span class="preprocessor">        #ifdef DEBUG_OUTPUT</span>
01914 <span class="preprocessor"></span>        <span class="keywordtype">long</span> err = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a58a55">noErr</a>;
01915 <span class="preprocessor">        #endif</span>
01916 <span class="preprocessor"></span>        <a class="code" href="../../d6/d9/lh__open_2general_8h.html#a1">LH_START_PROC</a>(<span class="stringliteral">"Calc423Dim_Data8To8_Lut16"</span>)
01917         
01918         inputData[0] = (LH_UINT8 *)calcParam-&gt;inputData[0];
01919         inputData[1] = (LH_UINT8 *)calcParam-&gt;inputData[1];
01920         inputData[2] = (LH_UINT8 *)calcParam-&gt;inputData[2];
01921 #if NDIM_IN_DIM == 4
01922         inputData[3] = (LH_UINT8 *)calcParam-&gt;inputData[3];
01923 #endif
01924         outputData[0] = (LH_UINT8 *)calcParam-&gt;outputData[0];
01925         outputData[1] = (LH_UINT8 *)calcParam-&gt;outputData[1];
01926         outputData[2] = (LH_UINT8 *)calcParam-&gt;outputData[2];
01927 #if NDIM_OUT_DIM == 4
01928         outputData[3] = (LH_UINT8 *)calcParam-&gt;outputData[3];
01929 #endif
01930 
01931         OutputIncrement = calcParam-&gt;cmOutputPixelOffset;
01932         inputDataRowOffset = calcParam-&gt;cmInputBytesPerLine - calcParam-&gt;cmPixelPerLine * calcParam-&gt;cmInputPixelOffset + (NDIM_IN_DIM * 2);
01933         outputDataRowOffset = calcParam-&gt;cmOutputBytesPerLine - calcParam-&gt;cmPixelPerLine * calcParam-&gt;cmOutputPixelOffset + OutputIncrement;
01934 
01935         Pixelcount = calcParam-&gt;cmPixelPerLine;
01936         LineCount = calcParam-&gt;cmLineCount;
01937 
01938         aElutWordSize = lutParam-&gt;inputLutWordSize;
01939         aAlutWordSize = lutParam-&gt;outputLutWordSize;
01940         aXlutAdrSize = lutParam-&gt;colorLutGridPoints;
01941         for ( i = 1; (i &lt; 32) &amp;&amp; (aXlutAdrSize &gt;&gt; i); i++)
01942                 aXlutAdrShift = i;
01943         aXlutWordSize = lutParam-&gt;colorLutWordSize;
01944 
01945         aOutputPackMode8Bit = calcParam-&gt;cmOutputColorSpace &amp; cm8PerChannelPacking || calcParam-&gt;cmOutputColorSpace &amp; cmLong8ColorPacking;
01946    <span class="comment">/*DebugPrint("DoNDim with %d input elements\n",aByteCount);*/</span>
01947         #if FARBR_FILES
01948         WriteLuts(      "DoNDim",1,adr_bereich_elut,aElutWordSize,ein_lut,
01949                                 NDIM_IN_DIM,NDIM_OUT_DIM,aXlutAdrSize,aXlutWordSize,(LH_UINT16 *)Xlut,adr_bereich_alut,aAlutWordSize,(LH_UINT16 *)aus_lut);
01950     #endif
01951 
01952         i=0;
01953                                         
01954         {
01955                 <span class="keywordflow">if</span>( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a> &lt; 0 )
01956                 {
01957 <span class="preprocessor">                        #ifdef DEBUG_OUTPUT</span>
01958 <span class="preprocessor"></span>                        <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"¥ DoNDim-Error: aElutShift &lt; 0 (aElutShift = %d)\n"</span>,aElutShift);
01959 <span class="preprocessor">                        #endif</span>
01960 <span class="preprocessor"></span>                        <span class="keywordflow">return</span> <a class="code" href="../../d2/d6/lh__open_2pi__app_8h.html#a149a30">cmparamErr</a>;
01961                 }
01962         }
01963         
01964         <span class="keywordflow">if</span>( aOutputPackMode8Bit ){
01965                 aAlutShift = (aAlutWordSize-8);         
01966         }
01967         <span class="keywordflow">else</span>{
01968                 aAlutShift = (16 - aAlutWordSize);              
01969         }
01970         
01971 <span class="preprocessor">        #ifdef DEBUG_OUTPUT</span>
01972 <span class="preprocessor"></span>                <span class="keywordflow">if</span> ( DebugCheck(kThisFile, kDebugReserved1) ){
01973                     <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"aElutAdrSize=%lx,aElutAdrShift=%lx,aElutWordSize=%lx,ein_lut=%lx,\n"</span>,
01974                                                 adr_bereich_elut,adr_breite_elut,aElutWordSize,ein_lut);
01975                         <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"aAlutAdrSize=%lx,aAlutAdrShift=%lx,aAlutWordSize=%lx,aus_lut=%lx,\n"</span>,
01976                                                 adr_bereich_alut,adr_breite_alut,aAlutWordSize,aus_lut);
01977                         <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"aXlutInDim=%lx,aXlutOutDim=%lx,aXlutAdrSize=%lx,aXlutAdrShift=%lx,aXlutWordSize=%lx,Xlut=%lx,\n"</span>,
01978                                                 NDIM_IN_DIM,NDIM_OUT_DIM,aXlutAdrSize,aXlutAdrShift,aXlutWordSize,Xlut);
01979                 }
01980 <span class="preprocessor">    #endif</span>
01981 <span class="preprocessor"></span>    
01982     <span class="comment">/*if( 1 )*/</span>
01983     <span class="keywordflow">if</span>( aXlutAdrSize != (1&lt;&lt;aXlutAdrShift )){
01984     <span class="keyword">register</span> <span class="keywordtype">long</span> aXlutOffset;
01985     <span class="keywordtype">long</span> theXlutOffsets[8]; 
01986     <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> aAlutInShift;
01987     <span class="keyword">register</span> <span class="keywordtype">long</span> aAlutInShiftRemainder;
01988     <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> aAlutInShiftNum;
01989     <span class="keyword">register</span> <span class="keywordtype">long</span> aElutWordSizeMask = (1&lt;&lt;aElutWordSize) - 1;
01990     <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> aAlutRound;
01991    aAlutInShift = aXlutWordSize + aElutWordSize - <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a22">adr_breite_alut</a>;
01992     aAlutInShiftRemainder = 0;
01993     <span class="keywordflow">if</span>( aAlutInShift &gt; 16 ){
01994         aAlutInShiftRemainder = aAlutInShift - 16;
01995         aAlutInShift = 16;
01996     }
01997     aAlutInShiftNum = (1&lt;&lt;aAlutInShift);
01998 
01999 <span class="preprocessor">#ifdef DEBUG_OUTPUT</span>
02000 <span class="preprocessor"></span>        <span class="keywordflow">if</span> ( DebugCheck(kThisFile, kDebugMiscInfo) )
02001             <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"  DoNDim gripoints = %ld\n"</span>,aXlutAdrSize);
02002 <span class="preprocessor">#endif</span>
02003 <span class="preprocessor"></span>    <span class="keywordflow">if</span>( aElutWordSize &lt;= 0 ){
02004 <span class="preprocessor">#ifdef DEBUG_OUTPUT</span>
02005 <span class="preprocessor"></span>        <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"¥ DoNDim-Error: (1&lt;&lt;aElutWordSize)/aXlutAdrSize &lt;= 0 %d\n"</span>,(1&lt;&lt;aElutWordSize)/aXlutAdrSize);
02006 <span class="preprocessor">#endif</span>
02007 <span class="preprocessor"></span>        <span class="keywordflow">return</span> <a class="code" href="../../d2/d6/lh__open_2pi__app_8h.html#a149a30">cmparamErr</a>;
02008     }
02009     <span class="keywordflow">if</span>( aAlutInShift &lt;= 0 ){
02010 <span class="preprocessor">#ifdef DEBUG_OUTPUT</span>
02011 <span class="preprocessor"></span>        <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"¥ DoNDim-Error: aAlutInShift &lt;= 0 %d\n"</span>,aAlutInShift);
02012 <span class="preprocessor">#endif</span>
02013 <span class="preprocessor"></span>        <span class="keywordflow">return</span> <a class="code" href="../../d2/d6/lh__open_2pi__app_8h.html#a149a30">cmparamErr</a>;
02014     }
02015     aXlutOffset =<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>;
02016     <span class="keywordflow">for</span>( i=0; i&lt;(<span class="keywordtype">long</span>)<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>; i++){
02017         theXlutOffsets[ <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>-1-i] = aXlutOffset;
02018         aXlutOffset *=aXlutAdrSize;
02019     }
02020         aAlutRound = 1&lt;&lt;( aAlutInShift + aAlutShift - 1 );
02021 
02022 <span class="preprocessor">#ifdef DEBUG_OUTPUT</span>
02023 <span class="preprocessor"></span>        <span class="keywordflow">if</span> ( DebugCheck(kThisFile, kDebugReserved1) )
02024             <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">" aElutWordSize((1&lt;&lt;aElutWordSize)-0) = %ld\n aAlutInShift:((1&lt;&lt;aXlutWordSize)*aElutWordSize+(adr_bereich_alut/2))/adr_bereich_alut = %ld\n"</span>,aElutWordSize,aAlutInShift);
02025 <span class="preprocessor">#endif</span>
02026 <span class="preprocessor"></span>    
02027         <span class="keywordflow">while</span> (LineCount){
02028                 i = Pixelcount;
02029                 
02030                 <span class="keywordflow">while</span> (i){
02031         
02032                 <span class="keywordtype">long</span> adr[8],<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[8];
02033                 <a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> ein_reg[8];
02034                 <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>  adrAdr,ko,adrOffset;
02035         
02036                 adr0=0;
02037                         aElutOffset = 0;
02038                         jj=0;
02039                         
02040                                 ein_Cache[0]=jj=(*(<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)inputData[0]);
02041                                         ko0 = jj - ( jj &gt;&gt; ( <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a19">adr_breite_elut</a> ));
02042                                         ko = ko0 &amp; ( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a7">aElutShiftNum</a> - 1 );
02043                                         ko0 = ko0 &gt;&gt; <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>;
02044                                         ko0 += aElutOffset;
02045                                 jj = ( ein_lut[ ko0 ] * ( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a7">aElutShiftNum</a> - ko ) + ein_lut[ ko0 +1 ] * ko ) &gt;&gt; <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>;
02046         
02047                                 jj *= aXlutAdrSize;
02048                                 aElutOffset += <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a18">adr_bereich_elut</a>;
02049                                 adr[0] = jj &amp; aElutWordSizeMask;
02050                                 jj = jj &gt;&gt; aElutWordSize;
02051                                 adr0 += (jj)*theXlutOffsets[0];
02052                                 ein_reg[0] = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)jj;
02053 
02054                                 ein_Cache[1]=jj=(*(<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)inputData[1]);
02055                                         ko0 = jj - ( jj &gt;&gt; ( <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a19">adr_breite_elut</a> ));
02056                                         ko = ko0 &amp; ( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a7">aElutShiftNum</a> - 1 );
02057                                         ko0 = ko0 &gt;&gt; <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>;
02058                                         ko0 += aElutOffset;
02059                                 jj = ( ein_lut[ ko0 ] * ( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a7">aElutShiftNum</a> - ko ) + ein_lut[ ko0 +1 ] * ko ) &gt;&gt; <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>;
02060         
02061                                 jj *= aXlutAdrSize;
02062                                 aElutOffset += <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a18">adr_bereich_elut</a>;
02063                                 adr[1] = jj &amp; aElutWordSizeMask;
02064                                 jj = jj &gt;&gt; aElutWordSize;
02065                                 adr0 += (jj)*theXlutOffsets[1];
02066                                 ein_reg[1] = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)jj;
02067 
02068                                         ein_Cache[2]=jj=(*(<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)inputData[2]);
02069                                         ko0 = jj - ( jj &gt;&gt; ( <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a19">adr_breite_elut</a> ));
02070                                         ko = ko0 &amp; ( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a7">aElutShiftNum</a> - 1 );
02071                                         ko0 = ko0 &gt;&gt; <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>;
02072                                         ko0 += aElutOffset;
02073                                 jj = ( ein_lut[ ko0 ] * ( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a7">aElutShiftNum</a> - ko ) + ein_lut[ ko0 +1 ] * ko ) &gt;&gt; <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>;
02074         
02075                                 jj *= aXlutAdrSize;
02076                                 aElutOffset += <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a18">adr_bereich_elut</a>;
02077                                 adr[2] = jj &amp; aElutWordSizeMask;
02078                                 jj = jj &gt;&gt; aElutWordSize;
02079                                 adr0 += (jj)*theXlutOffsets[2];
02080                                 ein_reg[2] = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)jj;
02081 
02082 <span class="preprocessor">#if NDIM_IN_DIM == 4</span>
02083 <span class="preprocessor"></span>                                        ein_Cache[3]=jj=(*(<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)inputData[3]);
02084                                         ko0 = jj - ( jj &gt;&gt; ( <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a19">adr_breite_elut</a> ));
02085                                         ko = ko0 &amp; ( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a7">aElutShiftNum</a> - 1 );
02086                                         ko0 = ko0 &gt;&gt; <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>;
02087                                         ko0 += aElutOffset;
02088                                 jj = ( ein_lut[ ko0 ] * ( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a7">aElutShiftNum</a> - ko ) + ein_lut[ ko0 +1 ] * ko ) &gt;&gt; <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>;
02089         
02090                                 jj *= aXlutAdrSize;
02091                                 aElutOffset += <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a18">adr_bereich_elut</a>;
02092                                 adr[3] = jj &amp; aElutWordSizeMask;
02093                                 jj = jj &gt;&gt; aElutWordSize;
02094                                 adr0 += (jj)*theXlutOffsets[3];
02095                                 ein_reg[3] = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)jj;
02096 <span class="preprocessor">#endif</span>
02097 <span class="preprocessor"></span>                
02098         
02099 
02100                 {                                                               <span class="comment">/* a kind of */</span>
02101                     <span class="keyword">register</span> <span class="keywordtype">long</span> <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a>;
02102                     
02103                         
02104                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0] = 0;
02105                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1] = 1;
02106                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2] = 2;
02107 <span class="preprocessor">#if NDIM_IN_DIM == 4</span>
02108 <span class="preprocessor"></span>                                <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[3] = 3;
02109 <span class="preprocessor">#endif</span>
02110 <span class="preprocessor"></span>                                        <span class="keywordflow">if</span>( adr[0] &lt; adr[1] ){
02111                                                 <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a> = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0];
02112                                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0] = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1];
02113                                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1] = <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a>;
02114                                         }
02115 
02116                                         <span class="keywordflow">if</span>( adr[<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1]] &lt; adr[2] ){
02117                                                 <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a> = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1];
02118                                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1] = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2];
02119                                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2] = <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a>;
02120                                                 <span class="keywordflow">if</span>( adr[<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0]] &lt; adr[<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1]] ){
02121                                                         <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a> = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0];
02122                                                         <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0] = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1];
02123                                                         <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1] = <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a>;
02124                                                 }
02125                                         }
02126 
02127 <span class="preprocessor">#if NDIM_IN_DIM == 4</span>
02128 <span class="preprocessor"></span>                                        <span class="keywordflow">if</span>( adr[<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2]] &lt; adr[3] ){
02129                                                 <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a> = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2];
02130                                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2] = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[3];
02131                                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[3] = <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a>;
02132                                                 <span class="keywordflow">if</span>( adr[<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1]] &lt; adr[<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2]] ){
02133                                                         <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a> = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1];
02134                                                         <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1] = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2];
02135                                                         <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2] = <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a>;
02136                                                         <span class="keywordflow">if</span>( adr[<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0]] &lt; adr[<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1]] ){
02137                                                                 <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a> = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0];
02138                                                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0] = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1];
02139                                                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1] = <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a>;
02140                                                         }
02141                                                 }
02142                                         }
02143 <span class="preprocessor">#endif</span>
02144 <span class="preprocessor"></span>                }
02145 
02146         accu[0]=0;
02147         accu[1]=0;
02148         accu[2]=0;
02149 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
02150 <span class="preprocessor"></span>        accu[3]=0;
02151 <span class="preprocessor">#endif</span>
02152 <span class="preprocessor"></span>        ko0 = (1&lt;&lt;aElutWordSize);
02153         adrAdr=adr0;
02154         adrOffset=0;
02155         <span class="keywordflow">if</span>( aXlutWordSize  == 16 ){
02156                 jj = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0];
02157                 ko = ko0 - adr[jj];
02158                 ko0 = adr[jj];
02159 
02160                 <span class="keywordflow">if</span>( ein_reg[jj] &lt; (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)(aXlutAdrSize-1) )
02161                     adrOffset += theXlutOffsets[jj];
02162 
02163                     accu[0]+=Xlut[adrAdr+(0)]*ko;
02164                     accu[1]+=Xlut[adrAdr+(1)]*ko;
02165                     accu[2]+=Xlut[adrAdr+(2)]*ko;
02166 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
02167 <span class="preprocessor"></span>                    accu[3]+=Xlut[adrAdr+(3)]*ko;
02168 <span class="preprocessor">#endif</span>
02169 <span class="preprocessor"></span>
02170                 adrAdr = (adr0 + adrOffset);
02171 
02172                 jj = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1];
02173                 ko = ko0 - adr[jj];
02174                 ko0 = adr[jj];
02175 
02176                 <span class="keywordflow">if</span>( ein_reg[jj] &lt; (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)(aXlutAdrSize-1) )
02177                     adrOffset += theXlutOffsets[jj];
02178 
02179                     accu[0]+=Xlut[adrAdr+(0)]*ko;
02180                     accu[1]+=Xlut[adrAdr+(1)]*ko;
02181                     accu[2]+=Xlut[adrAdr+(2)]*ko;
02182 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
02183 <span class="preprocessor"></span>                    accu[3]+=Xlut[adrAdr+(3)]*ko;
02184 <span class="preprocessor">#endif</span>
02185 <span class="preprocessor"></span>
02186                 adrAdr = (adr0 + adrOffset);
02187 
02188                 jj = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2];
02189                 ko = ko0 - adr[jj];
02190                 ko0 = adr[jj];
02191 
02192                 <span class="keywordflow">if</span>( ein_reg[jj] &lt; (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)(aXlutAdrSize-1) )
02193                     adrOffset += theXlutOffsets[jj];
02194 
02195                     accu[0]+=Xlut[adrAdr+(0)]*ko;
02196                     accu[1]+=Xlut[adrAdr+(1)]*ko;
02197                     accu[2]+=Xlut[adrAdr+(2)]*ko;
02198 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
02199 <span class="preprocessor"></span>                    accu[3]+=Xlut[adrAdr+(3)]*ko;
02200 <span class="preprocessor">#endif</span>
02201 <span class="preprocessor"></span>
02202                 adrAdr = (adr0 + adrOffset);
02203 
02204 <span class="preprocessor">#if NDIM_IN_DIM == 4</span>
02205 <span class="preprocessor"></span>                jj = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[3];
02206                 ko = ko0 - adr[jj];
02207                 ko0 = adr[jj];
02208 
02209                 <span class="keywordflow">if</span>( ein_reg[jj] &lt; (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)(aXlutAdrSize-1) )
02210                     adrOffset += theXlutOffsets[jj];
02211 
02212                     accu[0]+=Xlut[adrAdr+(0)]*ko;
02213                     accu[1]+=Xlut[adrAdr+(1)]*ko;
02214                     accu[2]+=Xlut[adrAdr+(2)]*ko;
02215 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
02216 <span class="preprocessor"></span>                    accu[3]+=Xlut[adrAdr+(3)]*ko;
02217 <span class="preprocessor">#endif</span>
02218 <span class="preprocessor"></span>
02219                 adrAdr = (adr0 + adrOffset);
02220 <span class="preprocessor">#endif</span>
02221 <span class="preprocessor"></span>
02222                 accu[0]+=Xlut[adrAdr+0]*ko0;
02223                 accu[1]+=Xlut[adrAdr+1]*ko0;
02224                 accu[2]+=Xlut[adrAdr+2]*ko0;
02225 <span class="preprocessor"> #if NDIM_OUT_DIM == 4</span>
02226 <span class="preprocessor"></span>               accu[3]+=Xlut[adrAdr+3]*ko0;
02227 <span class="preprocessor"> #endif</span>
02228 <span class="preprocessor"></span>       }
02229        <span class="keywordflow">else</span>{
02230 
02231                 jj = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0];
02232                 ko = ko0 - adr[jj];
02233                 ko0 = adr[jj];
02234 
02235                 <span class="keywordflow">if</span>( ein_reg[jj] &lt; (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)(aXlutAdrSize-1) )
02236                     adrOffset += theXlutOffsets[jj];
02237 
02238                     accu[0]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(0)]*ko;
02239                     accu[1]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(1)]*ko;
02240                     accu[2]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(2)]*ko;
02241 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
02242 <span class="preprocessor"></span>                    accu[3]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(3)]*ko;
02243 <span class="preprocessor">#endif</span>
02244 <span class="preprocessor"></span>                adrAdr = (adr0 + adrOffset);
02245 
02246                 jj = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1];
02247                 ko = ko0 - adr[jj];
02248                 ko0 = adr[jj];
02249 
02250                 <span class="keywordflow">if</span>( ein_reg[jj] &lt; (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)(aXlutAdrSize-1) )
02251                     adrOffset += theXlutOffsets[jj];
02252 
02253                     accu[0]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(0)]*ko;
02254                     accu[1]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(1)]*ko;
02255                     accu[2]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(2)]*ko;
02256 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
02257 <span class="preprocessor"></span>                    accu[3]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(3)]*ko;
02258 <span class="preprocessor">#endif</span>
02259 <span class="preprocessor"></span>                adrAdr = (adr0 + adrOffset);
02260 
02261                 jj = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2];
02262                 ko = ko0 - adr[jj];
02263                 ko0 = adr[jj];
02264 
02265                 <span class="keywordflow">if</span>( ein_reg[jj] &lt; (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)(aXlutAdrSize-1) )
02266                     adrOffset += theXlutOffsets[jj];
02267 
02268                     accu[0]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(0)]*ko;
02269                     accu[1]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(1)]*ko;
02270                     accu[2]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(2)]*ko;
02271 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
02272 <span class="preprocessor"></span>                    accu[3]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(3)]*ko;
02273 <span class="preprocessor">#endif</span>
02274 <span class="preprocessor"></span>                adrAdr = (adr0 + adrOffset);
02275 
02276 <span class="preprocessor">#if NDIM_IN_DIM == 4</span>
02277 <span class="preprocessor"></span>                jj = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[3];
02278                 ko = ko0 - adr[jj];
02279                 ko0 = adr[jj];
02280 
02281                 <span class="keywordflow">if</span>( ein_reg[jj] &lt; (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)(aXlutAdrSize-1) )
02282                     adrOffset += theXlutOffsets[jj];
02283 
02284                     accu[0]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(0)]*ko;
02285                     accu[1]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(1)]*ko;
02286                     accu[2]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(2)]*ko;
02287 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
02288 <span class="preprocessor"></span>                    accu[3]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(3)]*ko;
02289 <span class="preprocessor">#endif</span>
02290 <span class="preprocessor"></span>                adrAdr = (adr0 + adrOffset);
02291 <span class="preprocessor">#endif</span>
02292 <span class="preprocessor"></span>                accu[0]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+0]*ko0;
02293                 accu[1]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+1]*ko0;
02294                 accu[2]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+2]*ko0;
02295 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
02296 <span class="preprocessor"></span>               accu[3]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+3]*ko0;
02297 <span class="preprocessor">#endif</span>
02298 <span class="preprocessor"></span>        }
02299 
02300                 aAlutOffset = 0;
02301 
02302                 <span class="keywordflow">if</span>( aOutputPackMode8Bit ){
02303                         <span class="keywordflow">for</span>( ii=0; ii&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>; ++ii){
02304                                         jj = accu[ii];
02305                                         jj = jj + ( jj &gt;&gt; aXlutWordSize );
02306 
02307                                         ko0 = (jj - ( jj &gt;&gt; ( <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a22">adr_breite_alut</a> ))) &gt;&gt; aAlutInShiftRemainder;     <span class="comment">/*      aAlutInShift = aXlutWordSize + aElutWordSize - adr_breite_alut;*/</span>
02308 
02309                                         ko = ko0 &amp; (aAlutInShiftNum - 1 );
02310                                         ko0 = ko0 &gt;&gt; aAlutInShift;
02311                                         ko0 += aAlutOffset;
02312                                         <span class="keywordflow">if</span>( aAlutWordSize &lt;= 8)
02313                                         jj = ( ((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a>*)aus_lut)[ ko0 ] * ( aAlutInShiftNum - ko ) + ((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a>*)aus_lut)[ ko0 +1 ] * ko ) &gt;&gt; ( aAlutInShift );
02314                                         <span class="keywordflow">else</span>{
02315                                         jj = ( aus_lut[ ko0 ] * ( aAlutInShiftNum - ko ) + aus_lut[ ko0 +1 ] * ko );
02316                                                 jj = jj - ( jj &gt;&gt; aAlutShift );
02317                                                 jj = ( jj + aAlutRound ) &gt;&gt; (aAlutInShift + aAlutShift);
02318                                         }
02319                                         *outputData[ii] = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a>)jj;
02320                         aAlutOffset += <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a21">adr_bereich_alut</a>;
02321                     }
02322                         }
02323                         <span class="keywordflow">else</span>{
02324                                 <span class="keywordflow">if</span>( aXlutWordSize &gt;= 16 ){
02325                                         <span class="keywordflow">for</span>( ii=0; ii&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>; ++ii){
02326                                                 jj = accu[ii];
02327                                                 jj = jj + ( jj &gt;&gt; aXlutWordSize );
02328                                 ko0 = (jj - ( jj &gt;&gt; ( <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a22">adr_breite_alut</a> ))) &gt;&gt; aAlutInShiftRemainder; <span class="comment">/*  aAlutInShift = aXlutWordSize + aElutWordSize - adr_breite_alut;*/</span>
02329                 
02330                                                 ko = ko0 &amp; (aAlutInShiftNum - 1 );
02331                                                 ko0 = ko0 &gt;&gt; aAlutInShift;
02332                                                 ko0 += aAlutOffset;
02333                                                 <span class="keywordflow">if</span>( aAlutWordSize &lt;= 8)
02334                                                 jj = ( ((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a>*)aus_lut)[ ko0 ] * ( aAlutInShiftNum - ko ) + ((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a>*)aus_lut)[ ko0 +1 ] * ko ) &lt;&lt; ( aAlutShift - aAlutInShift );
02335                                                 <span class="keywordflow">else</span>
02336                                                 jj = ( aus_lut[ ko0 ] * ( aAlutInShiftNum - ko ) + aus_lut[ ko0 +1 ] * ko ) &gt;&gt; (aAlutInShift- aAlutShift);
02337                                                 *((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)outputData[ii]) =  (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)jj;
02338                                                 aAlutOffset += <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a21">adr_bereich_alut</a>;
02339                                         }
02340                                 }
02341                                 <span class="keywordflow">else</span>{
02342                                         <span class="keywordflow">for</span>( ii=0; ii&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>; ++ii){
02343                                                 jj = accu[ii];
02344                                                 jj = jj + ( jj &gt;&gt; aXlutWordSize ) + ( jj &gt;&gt; 2*aXlutWordSize );
02345                                 ko0 = (jj - ( jj &gt;&gt; ( <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a22">adr_breite_alut</a> ))) ; <span class="comment">/*  aAlutInShift = aXlutWordSize + aElutWordSize - adr_breite_alut;*/</span>
02346                 
02347                                                 ko = ko0 &amp; (aAlutInShiftNum - 1 );
02348                                                 ko0 = ko0 &gt;&gt; aAlutInShift;
02349                                                 ko0 += aAlutOffset;
02350                                                 <span class="keywordflow">if</span>( aAlutWordSize &lt;= 8)
02351                                                 jj = ( ((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a>*)aus_lut)[ ko0 ] * ( aAlutInShiftNum - ko ) + ((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a>*)aus_lut)[ ko0 +1 ] * ko ) &lt;&lt; ( aAlutShift - aAlutInShift );
02352                                                 <span class="keywordflow">else</span>
02353                                                 jj = ( aus_lut[ ko0 ] * ( aAlutInShiftNum - ko ) + aus_lut[ ko0 +1 ] * ko ) &gt;&gt; (aAlutInShift- aAlutShift);
02354                                                 *((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)outputData[ii]) =  (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)jj;
02355                                                 aAlutOffset += <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a21">adr_bereich_alut</a>;
02356                                         }
02357                                 }
02358                         }
02359                         <span class="keywordflow">while</span> (--i){
02360                                 <span class="keywordflow">for</span>( jj=0; jj&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>; ++jj){
02361                                         inputData[jj] += (<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a> * 2);
02362                                 }
02363                                 <span class="keywordflow">for</span>( jj=0; jj&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>; ++jj){
02364                                         outputData[jj] += OutputIncrement;
02365                                 }
02366         
02367                                 {
02368                                         <span class="keywordflow">for</span>( jj=0; jj&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>; ++jj){
02369                                                 <span class="keywordflow">if</span>( *((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)inputData[jj]) ^ *(<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)(&amp;ein_Cache[jj]) )<span class="keywordflow">break</span>;
02370                                         }
02371                                 }
02372                                 <span class="keywordflow">if</span>( jj&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a> ) <span class="keywordflow">break</span>;
02373                                 <span class="keywordflow">if</span>( aOutputPackMode8Bit ){
02374                                         <span class="keywordflow">for</span>( jj=0; jj&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>; ++jj){
02375                                                 *outputData[jj] = outputData[jj][-(<span class="keywordtype">long</span>)(<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a> )];
02376                                         }
02377                                 }
02378                                 <span class="keywordflow">else</span>{
02379                                         <span class="keywordflow">for</span>( jj=0; jj&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>; ++jj){
02380                                                 *((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)outputData[jj]) = *(<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)(&amp;outputData[jj][-(<span class="keywordtype">long</span>)(<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a> * 2)]);
02381                                         }
02382                                 }
02383                         }
02384                 }
02385                 
02386                 <span class="keywordflow">if</span>( --LineCount ){
02387                         <span class="keywordflow">for</span>( jj=0; jj&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>; ++jj){
02388                                 inputData[jj] += inputDataRowOffset;
02389                         }
02390                         <span class="keywordflow">for</span>( jj=0; jj&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>; ++jj){
02391                                 outputData[jj] += outputDataRowOffset;
02392                         }
02393                 }
02394     }
02395     }
02396     <span class="keywordflow">else</span>{
02397 
02398     <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>  bit_breit_selektor;
02399     <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>  bit_maske_selektor;
02400     <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>  bit_breit_adr;
02401     <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>  bit_maske_adr;
02402     <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>  aAlutInShiftNum;
02403     <span class="keyword">register</span> <span class="keywordtype">long</span> aAlutInShift;
02404     <span class="keyword">register</span> <span class="keywordtype">long</span> aAlutInShiftRemainder;
02405     <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> aAlutRound;
02406     <span class="comment">/*register long aXlutPlaneShift = aXlutAdrShift*aXlutInDim;*/</span>
02407     bit_breit_selektor=aElutWordSize-aXlutAdrShift;
02408     <span class="keywordflow">if</span>( aElutWordSize-aXlutAdrShift &lt; 0 )
02409     {
02410 <span class="preprocessor">#ifdef DEBUG_OUTPUT</span>
02411 <span class="preprocessor"></span>        <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"¥ DoNDim-Error: bit_breit_selektor &lt; 0 (bit_breit_selektor = %d)\n"</span>,bit_breit_selektor);
02412 <span class="preprocessor">#endif</span>
02413 <span class="preprocessor"></span>        <span class="keywordflow">return</span> <a class="code" href="../../d2/d6/lh__open_2pi__app_8h.html#a149a30">cmparamErr</a>;
02414     }
02415     bit_maske_selektor=(1&lt;&lt;bit_breit_selektor)-1;
02416     bit_breit_adr=aXlutAdrShift;
02417     bit_maske_adr=((1&lt;&lt;bit_breit_adr)-1)&lt;&lt;bit_breit_selektor;
02418     aAlutInShift = (aXlutWordSize+bit_breit_selektor-<a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a22">adr_breite_alut</a>);
02419     <span class="comment">/*aAlutInShift = aXlutWordSize + aElutWordSize - adr_breite_alut;*/</span>
02420     aAlutInShiftRemainder = 0;
02421     <span class="keywordflow">if</span>( aAlutInShift &gt; 16 ){
02422         aAlutInShiftRemainder = aAlutInShift - 16;
02423         aAlutInShift = 16;
02424     }
02425         
02426     aAlutInShiftNum = (1&lt;&lt;aAlutInShift);
02427     
02428         aAlutRound = 1&lt;&lt;( aAlutInShift + aAlutShift - 1 );
02429         <span class="keywordflow">while</span> (LineCount){
02430                 i = Pixelcount;
02431                 
02432                 <span class="keywordflow">while</span> (i){
02433         
02434                 <span class="keywordtype">long</span> adr[8],<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[8];
02435                 <span class="comment">/*LH_UINT16 *ein_lut = (LH_UINT16 *)ein_lut;*/</span>
02436                 <a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> ein_reg[8];
02437                    <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>  adrAdr,ko,adrOffset;
02438                 <span class="comment">/*register unsigned long aIndex;*/</span>
02439         
02440                 adr0=0;
02441                 aElutOffset = 0;
02442                 jj=0;
02443                         ein_Cache[0]=jj=(*(<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)inputData[0]);
02444                         ko0 = jj - ( jj &gt;&gt; ( <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a19">adr_breite_elut</a> ));
02445                         ko = ko0 &amp; ( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a7">aElutShiftNum</a> - 1 );
02446                         ko0 = ko0 &gt;&gt; <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>;
02447                         ko0 += aElutOffset;
02448                            jj = ( ein_lut[ ko0 ] * ( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a7">aElutShiftNum</a> - ko ) + ein_lut[ ko0 +1 ] * ko ) &gt;&gt; <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>;
02449         
02450                         aElutOffset += <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a18">adr_bereich_elut</a>;
02451                         adr[0] = (jj &amp; bit_maske_selektor);
02452                         adr0 |= ((jj &amp; bit_maske_adr)&gt;&gt;bit_breit_selektor)&lt;&lt;((<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>-0-1)*bit_breit_adr);
02453                         ein_reg[0] = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)jj;
02454 
02455                         ein_Cache[1]=jj=(*(<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)inputData[1]);
02456                         ko0 = jj - ( jj &gt;&gt; ( <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a19">adr_breite_elut</a> ));
02457                         ko = ko0 &amp; ( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a7">aElutShiftNum</a> - 1 );
02458                         ko0 = ko0 &gt;&gt; <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>;
02459                         ko0 += aElutOffset;
02460                            jj = ( ein_lut[ ko0 ] * ( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a7">aElutShiftNum</a> - ko ) + ein_lut[ ko0 +1 ] * ko ) &gt;&gt; <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>;
02461         
02462                         aElutOffset += <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a18">adr_bereich_elut</a>;
02463                         adr[1] = (jj &amp; bit_maske_selektor);
02464                         adr0 |= ((jj &amp; bit_maske_adr)&gt;&gt;bit_breit_selektor)&lt;&lt;((<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>-1-1)*bit_breit_adr);
02465                         ein_reg[1] = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)jj;
02466 
02467                         ein_Cache[2]=jj=(*(<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)inputData[2]);
02468                         ko0 = jj - ( jj &gt;&gt; ( <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a19">adr_breite_elut</a> ));
02469                         ko = ko0 &amp; ( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a7">aElutShiftNum</a> - 1 );
02470                         ko0 = ko0 &gt;&gt; <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>;
02471                         ko0 += aElutOffset;
02472                            jj = ( ein_lut[ ko0 ] * ( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a7">aElutShiftNum</a> - ko ) + ein_lut[ ko0 +1 ] * ko ) &gt;&gt; <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>;
02473         
02474                         aElutOffset += <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a18">adr_bereich_elut</a>;
02475                         adr[2] = (jj &amp; bit_maske_selektor);
02476                         adr0 |= ((jj &amp; bit_maske_adr)&gt;&gt;bit_breit_selektor)&lt;&lt;((<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>-2-1)*bit_breit_adr);
02477                         ein_reg[2] = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)jj;
02478 
02479 <span class="preprocessor">#if NDIM_IN_DIM == 4</span>
02480 <span class="preprocessor"></span>                        ein_Cache[3]=jj=(*(<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)inputData[3]);
02481                         ko0 = jj - ( jj &gt;&gt; ( <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a19">adr_breite_elut</a> ));
02482                         ko = ko0 &amp; ( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a7">aElutShiftNum</a> - 1 );
02483                         ko0 = ko0 &gt;&gt; <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>;
02484                         ko0 += aElutOffset;
02485                            jj = ( ein_lut[ ko0 ] * ( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a7">aElutShiftNum</a> - ko ) + ein_lut[ ko0 +1 ] * ko ) &gt;&gt; <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>;
02486         
02487                         aElutOffset += <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a18">adr_bereich_elut</a>;
02488                         adr[3] = (jj &amp; bit_maske_selektor);
02489                         adr0 |= ((jj &amp; bit_maske_adr)&gt;&gt;bit_breit_selektor)&lt;&lt;((<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>-3-1)*bit_breit_adr);
02490                         ein_reg[3] = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)jj;
02491 <span class="preprocessor">#endif  </span>
02492 <span class="preprocessor"></span>                adr0 *= <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>;
02493         
02494                 {                                                               <span class="comment">/* a kind of */</span>
02495                     <span class="keyword">register</span> <span class="keywordtype">long</span> <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a>;
02496                     
02497                         
02498                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0] = 0;
02499                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1] = 1;
02500                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2] = 2;
02501 <span class="preprocessor">#if NDIM_IN_DIM == 4</span>
02502 <span class="preprocessor"></span>                                <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[3] = 3;
02503 <span class="preprocessor">#endif</span>
02504 <span class="preprocessor"></span>                                        <span class="keywordflow">if</span>( adr[0] &lt; adr[1] ){
02505                                                 <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a> = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0];
02506                                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0] = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1];
02507                                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1] = <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a>;
02508                                         }
02509 
02510                                         <span class="keywordflow">if</span>( adr[<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1]] &lt; adr[2] ){
02511                                                 <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a> = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1];
02512                                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1] = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2];
02513                                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2] = <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a>;
02514                                                 <span class="keywordflow">if</span>( adr[<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0]] &lt; adr[<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1]] ){
02515                                                         <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a> = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0];
02516                                                         <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0] = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1];
02517                                                         <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1] = <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a>;
02518                                                 }
02519                                         }
02520 
02521 <span class="preprocessor">#if NDIM_IN_DIM == 4</span>
02522 <span class="preprocessor"></span>                                        <span class="keywordflow">if</span>( adr[<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2]] &lt; adr[3] ){
02523                                                 <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a> = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2];
02524                                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2] = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[3];
02525                                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[3] = <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a>;
02526                                                 <span class="keywordflow">if</span>( adr[<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1]] &lt; adr[<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2]] ){
02527                                                         <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a> = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1];
02528                                                         <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1] = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2];
02529                                                         <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2] = <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a>;
02530                                                         <span class="keywordflow">if</span>( adr[<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0]] &lt; adr[<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1]] ){
02531                                                                 <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a> = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0];
02532                                                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0] = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1];
02533                                                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1] = <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a>;
02534                                                         }
02535                                                 }
02536                                         }
02537 <span class="preprocessor">#endif</span>
02538 <span class="preprocessor"></span>                }
02539         
02540                         accu[0]=0;
02541                         accu[1]=0;
02542                         accu[2]=0;
02543 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
02544 <span class="preprocessor"></span>                        accu[3]=0;
02545 <span class="preprocessor">#endif</span>
02546 <span class="preprocessor"></span>        
02547                 ko0 = bit_maske_selektor+1;
02548                 adrAdr=adr0;
02549                 adrOffset=0;
02550         
02551                 <span class="keywordflow">if</span>( aXlutWordSize  == 16 ){
02552                         jj = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0];
02553                         ko = ko0 - adr[jj];
02554                         ko0 = adr[jj];
02555         
02556                         <span class="keywordflow">if</span>( ein_reg[jj] &lt; bit_maske_adr )
02557                             adrOffset |= (1&lt;&lt;(<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>-1-jj)*bit_breit_adr);
02558         
02559                                                 accu[0]+=Xlut[adrAdr+(0)]*ko;
02560                                                 accu[1]+=Xlut[adrAdr+(1)]*ko;
02561                                                 accu[2]+=Xlut[adrAdr+(2)]*ko;
02562 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
02563 <span class="preprocessor"></span>                                                accu[3]+=Xlut[adrAdr+(3)]*ko;
02564 <span class="preprocessor">#endif</span>
02565 <span class="preprocessor"></span>                        adrAdr = (adr0 + <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>*adrOffset);
02566 
02567                         jj = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1];
02568                         ko = ko0 - adr[jj];
02569                         ko0 = adr[jj];
02570         
02571                         <span class="keywordflow">if</span>( ein_reg[jj] &lt; bit_maske_adr )
02572                             adrOffset |= (1&lt;&lt;(<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>-1-jj)*bit_breit_adr);
02573         
02574                                                 accu[0]+=Xlut[adrAdr+(0)]*ko;
02575                                                 accu[1]+=Xlut[adrAdr+(1)]*ko;
02576                                                 accu[2]+=Xlut[adrAdr+(2)]*ko;
02577 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
02578 <span class="preprocessor"></span>                                                accu[3]+=Xlut[adrAdr+(3)]*ko;
02579 <span class="preprocessor">#endif</span>
02580 <span class="preprocessor"></span>                        adrAdr = (adr0 + <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>*adrOffset);
02581 
02582                         jj = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2];
02583                         ko = ko0 - adr[jj];
02584                         ko0 = adr[jj];
02585         
02586                         <span class="keywordflow">if</span>( ein_reg[jj] &lt; bit_maske_adr )
02587                             adrOffset |= (1&lt;&lt;(<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>-1-jj)*bit_breit_adr);
02588         
02589                                                 accu[0]+=Xlut[adrAdr+(0)]*ko;
02590                                                 accu[1]+=Xlut[adrAdr+(1)]*ko;
02591                                                 accu[2]+=Xlut[adrAdr+(2)]*ko;
02592 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
02593 <span class="preprocessor"></span>                                                accu[3]+=Xlut[adrAdr+(3)]*ko;
02594 <span class="preprocessor">#endif</span>
02595 <span class="preprocessor"></span>                        adrAdr = (adr0 + <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>*adrOffset);
02596 
02597 <span class="preprocessor">#if NDIM_IN_DIM == 4</span>
02598 <span class="preprocessor"></span>                        jj = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[3];
02599                         ko = ko0 - adr[jj];
02600                         ko0 = adr[jj];
02601         
02602                         <span class="keywordflow">if</span>( ein_reg[jj] &lt; bit_maske_adr )
02603                             adrOffset |= (1&lt;&lt;(<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>-1-jj)*bit_breit_adr);
02604         
02605                                                 accu[0]+=Xlut[adrAdr+(0)]*ko;
02606                                                 accu[1]+=Xlut[adrAdr+(1)]*ko;
02607                                                 accu[2]+=Xlut[adrAdr+(2)]*ko;
02608 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
02609 <span class="preprocessor"></span>                                                accu[3]+=Xlut[adrAdr+(3)]*ko;
02610 <span class="preprocessor">#endif</span>
02611 <span class="preprocessor"></span>                        adrAdr = (adr0 + <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>*adrOffset);
02612 <span class="preprocessor">#endif</span>
02613 <span class="preprocessor"></span>                accu[0]+=Xlut[adrAdr+0]*ko0;
02614                 accu[1]+=Xlut[adrAdr+1]*ko0;
02615                 accu[2]+=Xlut[adrAdr+2]*ko0;
02616 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
02617 <span class="preprocessor"></span>                                accu[3]+=Xlut[adrAdr+3]*ko0;
02618 <span class="preprocessor">#endif</span>
02619 <span class="preprocessor"></span>                }
02620                 <span class="keywordflow">else</span>{
02621                         jj = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0];
02622                         ko = ko0 - adr[jj];
02623                         ko0 = adr[jj];
02624         
02625                         <span class="keywordflow">if</span>( ein_reg[jj] &lt; bit_maske_adr )
02626                             adrOffset |= (1&lt;&lt;(<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>-1-jj)*bit_breit_adr);
02627         
02628                             accu[0]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(0)]*ko;
02629                             accu[1]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(1)]*ko;
02630                             accu[2]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(2)]*ko;
02631 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
02632 <span class="preprocessor"></span>                            accu[3]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(3)]*ko;
02633 <span class="preprocessor">#endif</span>
02634 <span class="preprocessor"></span>        
02635                         adrAdr = (adr0 + <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>*adrOffset);
02636 
02637                         jj = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1];
02638                         ko = ko0 - adr[jj];
02639                         ko0 = adr[jj];
02640         
02641                         <span class="keywordflow">if</span>( ein_reg[jj] &lt; bit_maske_adr )
02642                             adrOffset |= (1&lt;&lt;(<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>-1-jj)*bit_breit_adr);
02643         
02644                             accu[0]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(0)]*ko;
02645                             accu[1]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(1)]*ko;
02646                             accu[2]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(2)]*ko;
02647 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
02648 <span class="preprocessor"></span>                            accu[3]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(3)]*ko;
02649 <span class="preprocessor">#endif</span>
02650 <span class="preprocessor"></span>        
02651                         adrAdr = (adr0 + <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>*adrOffset);
02652 
02653                         jj = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2];
02654                         ko = ko0 - adr[jj];
02655                         ko0 = adr[jj];
02656         
02657                         <span class="keywordflow">if</span>( ein_reg[jj] &lt; bit_maske_adr )
02658                             adrOffset |= (1&lt;&lt;(<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>-1-jj)*bit_breit_adr);
02659         
02660                             accu[0]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(0)]*ko;
02661                             accu[1]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(1)]*ko;
02662                             accu[2]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(2)]*ko;
02663 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
02664 <span class="preprocessor"></span>                            accu[3]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(3)]*ko;
02665 <span class="preprocessor">#endif</span>
02666 <span class="preprocessor"></span>        
02667                         adrAdr = (adr0 + <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>*adrOffset);
02668 
02669 <span class="preprocessor">#if NDIM_IN_DIM == 4</span>
02670 <span class="preprocessor"></span>                        jj = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[3];
02671                         ko = ko0 - adr[jj];
02672                         ko0 = adr[jj];
02673         
02674                         <span class="keywordflow">if</span>( ein_reg[jj] &lt; bit_maske_adr )
02675                             adrOffset |= (1&lt;&lt;(<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>-1-jj)*bit_breit_adr);
02676         
02677                             accu[0]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(0)]*ko;
02678                             accu[1]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(1)]*ko;
02679                             accu[2]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(2)]*ko;
02680 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
02681 <span class="preprocessor"></span>                            accu[3]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(3)]*ko;
02682 <span class="preprocessor">#endif</span>
02683 <span class="preprocessor"></span>        
02684                         adrAdr = (adr0 + <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>*adrOffset);
02685 <span class="preprocessor">#endif</span>
02686 <span class="preprocessor"></span>                                accu[0]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+0]*ko0;
02687                 accu[1]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+1]*ko0;
02688                 accu[2]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+2]*ko0;
02689 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
02690 <span class="preprocessor"></span>                                accu[3]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+3]*ko0;
02691 <span class="preprocessor">#endif</span>
02692 <span class="preprocessor"></span>                }
02693         
02694                 aAlutOffset = 0;
02695         
02696                 <span class="keywordflow">if</span>( aOutputPackMode8Bit ){
02697                         <span class="keywordflow">for</span>( ii=0; ii&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>; ++ii){
02698                                         jj = accu[ii];
02699                                         jj = jj + ( jj &gt;&gt; aXlutWordSize );
02700 
02701                                         ko0 = (jj - ( jj &gt;&gt; ( <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a22">adr_breite_alut</a> ))) &gt;&gt; aAlutInShiftRemainder;     <span class="comment">/*      aAlutInShift = aXlutWordSize + aElutWordSize - adr_breite_alut;*/</span>
02702 
02703                                         ko = ko0 &amp; (aAlutInShiftNum - 1 );
02704                                         ko0 = ko0 &gt;&gt; aAlutInShift;
02705                                         ko0 += aAlutOffset;
02706                                         <span class="keywordflow">if</span>( aAlutWordSize &lt;= 8)
02707                                         jj = ( ((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a>*)aus_lut)[ ko0 ] * ( aAlutInShiftNum - ko ) + ((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a>*)aus_lut)[ ko0 +1 ] * ko ) &gt;&gt; ( aAlutInShift );
02708                                         <span class="keywordflow">else</span>{
02709                                                 jj = ( aus_lut[ ko0 ] * ( aAlutInShiftNum - ko ) + aus_lut[ ko0 +1 ] * ko );
02710                                                 jj = jj - ( jj &gt;&gt; aAlutShift );
02711                                                 jj = ( jj + aAlutRound ) &gt;&gt; (aAlutInShift + aAlutShift);
02712                                         }
02713 
02714                                         *outputData[ii] = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a>)jj;
02715                         aAlutOffset += <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a21">adr_bereich_alut</a>;
02716                     }
02717                 }
02718                 <span class="keywordflow">else</span>{
02719                                 <span class="keywordflow">if</span>( aXlutWordSize &gt;= 16 ){
02720                                         <span class="keywordflow">for</span>( ii=0; ii&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>; ++ii){
02721                                                 jj = accu[ii];
02722                                                 jj = jj + ( jj &gt;&gt; aXlutWordSize );
02723                                 ko0 = (jj - ( jj &gt;&gt; ( <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a22">adr_breite_alut</a> ))) &gt;&gt; aAlutInShiftRemainder; <span class="comment">/*  aAlutInShift = aXlutWordSize + aElutWordSize - adr_breite_alut;*/</span>
02724                 
02725                                                 ko = ko0 &amp; (aAlutInShiftNum - 1 );
02726                                                 ko0 = ko0 &gt;&gt; aAlutInShift;
02727                                                 ko0 += aAlutOffset;
02728                                                 <span class="keywordflow">if</span>( aAlutWordSize &lt;= 8)
02729                                                 jj = ( ((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a>*)aus_lut)[ ko0 ] * ( aAlutInShiftNum - ko ) + ((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a>*)aus_lut)[ ko0 +1 ] * ko ) &lt;&lt; ( aAlutShift - aAlutInShift );
02730                                                 <span class="keywordflow">else</span>
02731                                                 jj = ( aus_lut[ ko0 ] * ( aAlutInShiftNum - ko ) + aus_lut[ ko0 +1 ] * ko ) &gt;&gt; (aAlutInShift- aAlutShift);
02732                                                 *((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)outputData[ii]) =  (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)jj;
02733                                                 aAlutOffset += <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a21">adr_bereich_alut</a>;
02734                                         }
02735                                 }
02736                                 <span class="keywordflow">else</span>{
02737                                         <span class="keywordflow">for</span>( ii=0; ii&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>; ++ii){
02738                                                 jj = accu[ii];
02739                                                 jj = jj + ( jj &gt;&gt; aXlutWordSize ) + ( jj &gt;&gt; 2*aXlutWordSize );
02740                                 ko0 = (jj - ( jj &gt;&gt; ( <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a22">adr_breite_alut</a> ))); <span class="comment">/*   aAlutInShift = aXlutWordSize + aElutWordSize - adr_breite_alut;*/</span>
02741                 
02742                                                 ko = ko0 &amp; (aAlutInShiftNum - 1 );
02743                                                 ko0 = ko0 &gt;&gt; aAlutInShift;
02744                                                 ko0 += aAlutOffset;
02745                                                 <span class="keywordflow">if</span>( aAlutWordSize &lt;= 8)
02746                                                 jj = ( ((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a>*)aus_lut)[ ko0 ] * ( aAlutInShiftNum - ko ) + ((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a>*)aus_lut)[ ko0 +1 ] * ko ) &lt;&lt; ( aAlutShift - aAlutInShift );
02747                                                 <span class="keywordflow">else</span>
02748                                                 jj = ( aus_lut[ ko0 ] * ( aAlutInShiftNum - ko ) + aus_lut[ ko0 +1 ] * ko ) &gt;&gt; (aAlutInShift- aAlutShift);
02749                                                 *((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)outputData[ii]) =  (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)jj;
02750                                                 aAlutOffset += <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a21">adr_bereich_alut</a>;
02751                                         }
02752                                 }
02753                 }
02754         
02755                         <span class="keywordflow">while</span> (--i){
02756                                 <span class="keywordflow">for</span>( jj=0; jj&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>; ++jj){
02757                                         inputData[jj] += (<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a> * 2);
02758                                 }
02759                                 <span class="keywordflow">for</span>( jj=0; jj&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>; ++jj){
02760                                         outputData[jj] += OutputIncrement;
02761                                 }
02762         
02763                                 {
02764                                         <span class="keywordflow">for</span>( jj=0; jj&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>; ++jj){
02765                                                 <span class="keywordflow">if</span>( *((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)inputData[jj]) ^ *(<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)(&amp;ein_Cache[jj]) )<span class="keywordflow">break</span>;
02766                                         }
02767                                 }
02768                                 <span class="keywordflow">if</span>( jj&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a> ) <span class="keywordflow">break</span>;
02769                                 <span class="keywordflow">if</span>( aOutputPackMode8Bit ){
02770                                         <span class="keywordflow">for</span>( jj=0; jj&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>; ++jj){
02771                                                 *outputData[jj] = outputData[jj][-(<span class="keywordtype">long</span>)(<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a> )];
02772                                         }
02773                                 }
02774                                 <span class="keywordflow">else</span>{
02775                                         <span class="keywordflow">for</span>( jj=0; jj&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>; ++jj){
02776                                                 *((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)outputData[jj]) = *(<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)(&amp;outputData[jj][-(<span class="keywordtype">long</span>)(<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a> * 2)]);
02777                                         }
02778                                 }
02779                         }
02780                 }
02781                 
02782                 <span class="keywordflow">if</span>( --LineCount ){
02783                         <span class="keywordflow">for</span>( jj=0; jj&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>; ++jj){
02784                                 inputData[jj] += inputDataRowOffset;
02785                         }
02786                         <span class="keywordflow">for</span>( jj=0; jj&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>; ++jj){
02787                                 outputData[jj] += outputDataRowOffset;
02788                         }
02789                 }
02790     }
02791     }
02792 
02793         <span class="comment">/* UNLOCK_DATA( aElutHdle ); */</span>
02794         <span class="comment">/* UNLOCK_DATA( aAlutHdle ); */</span>
02795         <span class="comment">/* UNLOCK_DATA( aXlutHdle ); */</span>
02796 
02797         <a class="code" href="../../d6/d9/lh__open_2general_8h.html#a2">LH_END_PROC</a>(<span class="stringliteral">"Calc423Dim_Data8To8_Lut16"</span>)
02798         return noErr;
02799 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a8" doxytag="lh_core/calcndim.c::Calc424Dim_Data8To8_Lut16" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a11">CMError</a> Calc424Dim_Data8To8_Lut16           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d7/d3/structCMCalcParam.html">CMCalcParamPtr</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>calcParam</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d0/d4/structCMLutParam.html">CMLutParamPtr</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>lutParam</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d8/d2/w98_2lh__core_2calcnd3_8c-source.html#l02810">2810</a> of file <a class="el" href="../../d8/d2/w98_2lh__core_2calcnd3_8c-source.html">w98/lh_core/calcnd3.c</a>.
<p>
<pre class="fragment"><div>02813 {
02814         <a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> * inputData[8], *outputData[8];
02815         <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a8">UINT32</a> OutputIncrement, inputDataRowOffset, outputDataRowOffset, Pixelcount, LineCount;
02816         <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> adr0;
02817     <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> ko0;
02818     <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> accu[8];
02819     <span class="keyword">register</span> <span class="keywordtype">long</span> i;
02820     <span class="comment">/*long Offsets[8];*/</span>
02821     
02822     <span class="keyword">register</span> <span class="keywordtype">long</span> aAlutShift,aElutOffset,aAlutOffset;
02823     <span class="keyword">register</span> <span class="keywordtype">long</span> aElutWordSize;
02824     <span class="keyword">register</span> <span class="keywordtype">long</span> aAlutWordSize;
02825     <span class="keyword">register</span> <span class="keywordtype">long</span> aXlutAdrSize;
02826     <span class="keyword">register</span> <span class="keywordtype">long</span> aXlutAdrShift;
02827     <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> aXlutWordSize;
02828         <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> ii,jj;
02829     <span class="keyword">register</span> <span class="keywordtype">long</span> aOutputPackMode8Bit;
02830         <span class="keywordtype">long</span> ein_Cache[8];
02831         
02832         <a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> * aus_lut     = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>*)lutParam-&gt;<a class="code" href="../../d0/d4/structCMLutParam.html#o5">outputLut</a>;
02833         <a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> * ein_lut     = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>*)lutParam-&gt;<a class="code" href="../../d0/d4/structCMLutParam.html#o2">inputLut</a>;
02834         <a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> * Xlut        = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>*)lutParam-&gt;<a class="code" href="../../d0/d4/structCMLutParam.html#o10">colorLut</a>;
02835         
02836 <span class="preprocessor">        #ifdef DEBUG_OUTPUT</span>
02837 <span class="preprocessor"></span>        <span class="keywordtype">long</span> err = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a58a55">noErr</a>;
02838 <span class="preprocessor">        #endif</span>
02839 <span class="preprocessor"></span>        <a class="code" href="../../d6/d9/lh__open_2general_8h.html#a1">LH_START_PROC</a>(<span class="stringliteral">"Calc424Dim_Data8To8_Lut16"</span>)
02840         
02841         inputData[0] = (LH_UINT8 *)calcParam-&gt;inputData[0];
02842         inputData[1] = (LH_UINT8 *)calcParam-&gt;inputData[1];
02843         inputData[2] = (LH_UINT8 *)calcParam-&gt;inputData[2];
02844 #if NDIM_IN_DIM == 4
02845         inputData[3] = (LH_UINT8 *)calcParam-&gt;inputData[3];
02846 #endif
02847         outputData[0] = (LH_UINT8 *)calcParam-&gt;outputData[0];
02848         outputData[1] = (LH_UINT8 *)calcParam-&gt;outputData[1];
02849         outputData[2] = (LH_UINT8 *)calcParam-&gt;outputData[2];
02850 #if NDIM_OUT_DIM == 4
02851         outputData[3] = (LH_UINT8 *)calcParam-&gt;outputData[3];
02852 #endif
02853 
02854         OutputIncrement = calcParam-&gt;cmOutputPixelOffset;
02855         inputDataRowOffset = calcParam-&gt;cmInputBytesPerLine - calcParam-&gt;cmPixelPerLine * calcParam-&gt;cmInputPixelOffset + (NDIM_IN_DIM * 2);
02856         outputDataRowOffset = calcParam-&gt;cmOutputBytesPerLine - calcParam-&gt;cmPixelPerLine * calcParam-&gt;cmOutputPixelOffset + OutputIncrement;
02857 
02858         Pixelcount = calcParam-&gt;cmPixelPerLine;
02859         LineCount = calcParam-&gt;cmLineCount;
02860 
02861         aElutWordSize = lutParam-&gt;inputLutWordSize;
02862         aAlutWordSize = lutParam-&gt;outputLutWordSize;
02863         aXlutAdrSize = lutParam-&gt;colorLutGridPoints;
02864         for ( i = 1; (i &lt; 32) &amp;&amp; (aXlutAdrSize &gt;&gt; i); i++)
02865                 aXlutAdrShift = i;
02866         aXlutWordSize = lutParam-&gt;colorLutWordSize;
02867 
02868         aOutputPackMode8Bit = calcParam-&gt;cmOutputColorSpace &amp; cm8PerChannelPacking || calcParam-&gt;cmOutputColorSpace &amp; cmLong8ColorPacking;
02869    <span class="comment">/*DebugPrint("DoNDim with %d input elements\n",aByteCount);*/</span>
02870         #if FARBR_FILES
02871         WriteLuts(      "DoNDim",1,adr_bereich_elut,aElutWordSize,ein_lut,
02872                                 NDIM_IN_DIM,NDIM_OUT_DIM,aXlutAdrSize,aXlutWordSize,(LH_UINT16 *)Xlut,adr_bereich_alut,aAlutWordSize,(LH_UINT16 *)aus_lut);
02873     #endif
02874 
02875         i=0;
02876                                         
02877         {
02878                 <span class="keywordflow">if</span>( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a> &lt; 0 )
02879                 {
02880 <span class="preprocessor">                        #ifdef DEBUG_OUTPUT</span>
02881 <span class="preprocessor"></span>                        <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"¥ DoNDim-Error: aElutShift &lt; 0 (aElutShift = %d)\n"</span>,aElutShift);
02882 <span class="preprocessor">                        #endif</span>
02883 <span class="preprocessor"></span>                        <span class="keywordflow">return</span> <a class="code" href="../../d2/d6/lh__open_2pi__app_8h.html#a149a30">cmparamErr</a>;
02884                 }
02885         }
02886         
02887         <span class="keywordflow">if</span>( aOutputPackMode8Bit ){
02888                 aAlutShift = (aAlutWordSize-8);         
02889         }
02890         <span class="keywordflow">else</span>{
02891                 aAlutShift = (16 - aAlutWordSize);              
02892         }
02893         
02894 <span class="preprocessor">        #ifdef DEBUG_OUTPUT</span>
02895 <span class="preprocessor"></span>                <span class="keywordflow">if</span> ( DebugCheck(kThisFile, kDebugReserved1) ){
02896                     <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"aElutAdrSize=%lx,aElutAdrShift=%lx,aElutWordSize=%lx,ein_lut=%lx,\n"</span>,
02897                                                 adr_bereich_elut,adr_breite_elut,aElutWordSize,ein_lut);
02898                         <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"aAlutAdrSize=%lx,aAlutAdrShift=%lx,aAlutWordSize=%lx,aus_lut=%lx,\n"</span>,
02899                                                 adr_bereich_alut,adr_breite_alut,aAlutWordSize,aus_lut);
02900                         <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"aXlutInDim=%lx,aXlutOutDim=%lx,aXlutAdrSize=%lx,aXlutAdrShift=%lx,aXlutWordSize=%lx,Xlut=%lx,\n"</span>,
02901                                                 NDIM_IN_DIM,NDIM_OUT_DIM,aXlutAdrSize,aXlutAdrShift,aXlutWordSize,Xlut);
02902                 }
02903 <span class="preprocessor">    #endif</span>
02904 <span class="preprocessor"></span>    
02905     <span class="comment">/*if( 1 )*/</span>
02906     <span class="keywordflow">if</span>( aXlutAdrSize != (1&lt;&lt;aXlutAdrShift )){
02907     <span class="keyword">register</span> <span class="keywordtype">long</span> aXlutOffset;
02908     <span class="keywordtype">long</span> theXlutOffsets[8]; 
02909     <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> aAlutInShift;
02910     <span class="keyword">register</span> <span class="keywordtype">long</span> aAlutInShiftRemainder;
02911     <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> aAlutInShiftNum;
02912     <span class="keyword">register</span> <span class="keywordtype">long</span> aElutWordSizeMask = (1&lt;&lt;aElutWordSize) - 1;
02913     <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> aAlutRound;
02914    aAlutInShift = aXlutWordSize + aElutWordSize - <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a22">adr_breite_alut</a>;
02915     aAlutInShiftRemainder = 0;
02916     <span class="keywordflow">if</span>( aAlutInShift &gt; 16 ){
02917         aAlutInShiftRemainder = aAlutInShift - 16;
02918         aAlutInShift = 16;
02919     }
02920     aAlutInShiftNum = (1&lt;&lt;aAlutInShift);
02921 
02922 <span class="preprocessor">#ifdef DEBUG_OUTPUT</span>
02923 <span class="preprocessor"></span>        <span class="keywordflow">if</span> ( DebugCheck(kThisFile, kDebugMiscInfo) )
02924             <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"  DoNDim gripoints = %ld\n"</span>,aXlutAdrSize);
02925 <span class="preprocessor">#endif</span>
02926 <span class="preprocessor"></span>    <span class="keywordflow">if</span>( aElutWordSize &lt;= 0 ){
02927 <span class="preprocessor">#ifdef DEBUG_OUTPUT</span>
02928 <span class="preprocessor"></span>        <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"¥ DoNDim-Error: (1&lt;&lt;aElutWordSize)/aXlutAdrSize &lt;= 0 %d\n"</span>,(1&lt;&lt;aElutWordSize)/aXlutAdrSize);
02929 <span class="preprocessor">#endif</span>
02930 <span class="preprocessor"></span>        <span class="keywordflow">return</span> <a class="code" href="../../d2/d6/lh__open_2pi__app_8h.html#a149a30">cmparamErr</a>;
02931     }
02932     <span class="keywordflow">if</span>( aAlutInShift &lt;= 0 ){
02933 <span class="preprocessor">#ifdef DEBUG_OUTPUT</span>
02934 <span class="preprocessor"></span>        <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"¥ DoNDim-Error: aAlutInShift &lt;= 0 %d\n"</span>,aAlutInShift);
02935 <span class="preprocessor">#endif</span>
02936 <span class="preprocessor"></span>        <span class="keywordflow">return</span> <a class="code" href="../../d2/d6/lh__open_2pi__app_8h.html#a149a30">cmparamErr</a>;
02937     }
02938     aXlutOffset =<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>;
02939     <span class="keywordflow">for</span>( i=0; i&lt;(<span class="keywordtype">long</span>)<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>; i++){
02940         theXlutOffsets[ <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>-1-i] = aXlutOffset;
02941         aXlutOffset *=aXlutAdrSize;
02942     }
02943         aAlutRound = 1&lt;&lt;( aAlutInShift + aAlutShift - 1 );
02944 
02945 <span class="preprocessor">#ifdef DEBUG_OUTPUT</span>
02946 <span class="preprocessor"></span>        <span class="keywordflow">if</span> ( DebugCheck(kThisFile, kDebugReserved1) )
02947             <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">" aElutWordSize((1&lt;&lt;aElutWordSize)-0) = %ld\n aAlutInShift:((1&lt;&lt;aXlutWordSize)*aElutWordSize+(adr_bereich_alut/2))/adr_bereich_alut = %ld\n"</span>,aElutWordSize,aAlutInShift);
02948 <span class="preprocessor">#endif</span>
02949 <span class="preprocessor"></span>    
02950         <span class="keywordflow">while</span> (LineCount){
02951                 i = Pixelcount;
02952                 
02953                 <span class="keywordflow">while</span> (i){
02954         
02955                 <span class="keywordtype">long</span> adr[8],<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[8];
02956                 <a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> ein_reg[8];
02957                 <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>  adrAdr,ko,adrOffset;
02958         
02959                 adr0=0;
02960                         aElutOffset = 0;
02961                         jj=0;
02962                         
02963                                 ein_Cache[0]=jj=(*(<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)inputData[0]);
02964                                         ko0 = jj - ( jj &gt;&gt; ( <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a19">adr_breite_elut</a> ));
02965                                         ko = ko0 &amp; ( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a7">aElutShiftNum</a> - 1 );
02966                                         ko0 = ko0 &gt;&gt; <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>;
02967                                         ko0 += aElutOffset;
02968                                 jj = ( ein_lut[ ko0 ] * ( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a7">aElutShiftNum</a> - ko ) + ein_lut[ ko0 +1 ] * ko ) &gt;&gt; <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>;
02969         
02970                                 jj *= aXlutAdrSize;
02971                                 aElutOffset += <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a18">adr_bereich_elut</a>;
02972                                 adr[0] = jj &amp; aElutWordSizeMask;
02973                                 jj = jj &gt;&gt; aElutWordSize;
02974                                 adr0 += (jj)*theXlutOffsets[0];
02975                                 ein_reg[0] = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)jj;
02976 
02977                                 ein_Cache[1]=jj=(*(<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)inputData[1]);
02978                                         ko0 = jj - ( jj &gt;&gt; ( <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a19">adr_breite_elut</a> ));
02979                                         ko = ko0 &amp; ( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a7">aElutShiftNum</a> - 1 );
02980                                         ko0 = ko0 &gt;&gt; <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>;
02981                                         ko0 += aElutOffset;
02982                                 jj = ( ein_lut[ ko0 ] * ( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a7">aElutShiftNum</a> - ko ) + ein_lut[ ko0 +1 ] * ko ) &gt;&gt; <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>;
02983         
02984                                 jj *= aXlutAdrSize;
02985                                 aElutOffset += <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a18">adr_bereich_elut</a>;
02986                                 adr[1] = jj &amp; aElutWordSizeMask;
02987                                 jj = jj &gt;&gt; aElutWordSize;
02988                                 adr0 += (jj)*theXlutOffsets[1];
02989                                 ein_reg[1] = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)jj;
02990 
02991                                         ein_Cache[2]=jj=(*(<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)inputData[2]);
02992                                         ko0 = jj - ( jj &gt;&gt; ( <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a19">adr_breite_elut</a> ));
02993                                         ko = ko0 &amp; ( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a7">aElutShiftNum</a> - 1 );
02994                                         ko0 = ko0 &gt;&gt; <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>;
02995                                         ko0 += aElutOffset;
02996                                 jj = ( ein_lut[ ko0 ] * ( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a7">aElutShiftNum</a> - ko ) + ein_lut[ ko0 +1 ] * ko ) &gt;&gt; <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>;
02997         
02998                                 jj *= aXlutAdrSize;
02999                                 aElutOffset += <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a18">adr_bereich_elut</a>;
03000                                 adr[2] = jj &amp; aElutWordSizeMask;
03001                                 jj = jj &gt;&gt; aElutWordSize;
03002                                 adr0 += (jj)*theXlutOffsets[2];
03003                                 ein_reg[2] = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)jj;
03004 
03005 <span class="preprocessor">#if NDIM_IN_DIM == 4</span>
03006 <span class="preprocessor"></span>                                        ein_Cache[3]=jj=(*(<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)inputData[3]);
03007                                         ko0 = jj - ( jj &gt;&gt; ( <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a19">adr_breite_elut</a> ));
03008                                         ko = ko0 &amp; ( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a7">aElutShiftNum</a> - 1 );
03009                                         ko0 = ko0 &gt;&gt; <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>;
03010                                         ko0 += aElutOffset;
03011                                 jj = ( ein_lut[ ko0 ] * ( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a7">aElutShiftNum</a> - ko ) + ein_lut[ ko0 +1 ] * ko ) &gt;&gt; <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>;
03012         
03013                                 jj *= aXlutAdrSize;
03014                                 aElutOffset += <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a18">adr_bereich_elut</a>;
03015                                 adr[3] = jj &amp; aElutWordSizeMask;
03016                                 jj = jj &gt;&gt; aElutWordSize;
03017                                 adr0 += (jj)*theXlutOffsets[3];
03018                                 ein_reg[3] = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)jj;
03019 <span class="preprocessor">#endif</span>
03020 <span class="preprocessor"></span>                
03021         
03022 
03023                 {                                                               <span class="comment">/* a kind of */</span>
03024                     <span class="keyword">register</span> <span class="keywordtype">long</span> <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a>;
03025                     
03026                         
03027                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0] = 0;
03028                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1] = 1;
03029                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2] = 2;
03030 <span class="preprocessor">#if NDIM_IN_DIM == 4</span>
03031 <span class="preprocessor"></span>                                <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[3] = 3;
03032 <span class="preprocessor">#endif</span>
03033 <span class="preprocessor"></span>                                        <span class="keywordflow">if</span>( adr[0] &lt; adr[1] ){
03034                                                 <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a> = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0];
03035                                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0] = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1];
03036                                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1] = <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a>;
03037                                         }
03038 
03039                                         <span class="keywordflow">if</span>( adr[<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1]] &lt; adr[2] ){
03040                                                 <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a> = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1];
03041                                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1] = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2];
03042                                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2] = <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a>;
03043                                                 <span class="keywordflow">if</span>( adr[<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0]] &lt; adr[<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1]] ){
03044                                                         <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a> = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0];
03045                                                         <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0] = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1];
03046                                                         <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1] = <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a>;
03047                                                 }
03048                                         }
03049 
03050 <span class="preprocessor">#if NDIM_IN_DIM == 4</span>
03051 <span class="preprocessor"></span>                                        <span class="keywordflow">if</span>( adr[<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2]] &lt; adr[3] ){
03052                                                 <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a> = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2];
03053                                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2] = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[3];
03054                                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[3] = <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a>;
03055                                                 <span class="keywordflow">if</span>( adr[<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1]] &lt; adr[<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2]] ){
03056                                                         <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a> = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1];
03057                                                         <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1] = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2];
03058                                                         <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2] = <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a>;
03059                                                         <span class="keywordflow">if</span>( adr[<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0]] &lt; adr[<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1]] ){
03060                                                                 <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a> = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0];
03061                                                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0] = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1];
03062                                                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1] = <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a>;
03063                                                         }
03064                                                 }
03065                                         }
03066 <span class="preprocessor">#endif</span>
03067 <span class="preprocessor"></span>                }
03068 
03069         accu[0]=0;
03070         accu[1]=0;
03071         accu[2]=0;
03072 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
03073 <span class="preprocessor"></span>        accu[3]=0;
03074 <span class="preprocessor">#endif</span>
03075 <span class="preprocessor"></span>        ko0 = (1&lt;&lt;aElutWordSize);
03076         adrAdr=adr0;
03077         adrOffset=0;
03078         <span class="keywordflow">if</span>( aXlutWordSize  == 16 ){
03079                 jj = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0];
03080                 ko = ko0 - adr[jj];
03081                 ko0 = adr[jj];
03082 
03083                 <span class="keywordflow">if</span>( ein_reg[jj] &lt; (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)(aXlutAdrSize-1) )
03084                     adrOffset += theXlutOffsets[jj];
03085 
03086                     accu[0]+=Xlut[adrAdr+(0)]*ko;
03087                     accu[1]+=Xlut[adrAdr+(1)]*ko;
03088                     accu[2]+=Xlut[adrAdr+(2)]*ko;
03089 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
03090 <span class="preprocessor"></span>                    accu[3]+=Xlut[adrAdr+(3)]*ko;
03091 <span class="preprocessor">#endif</span>
03092 <span class="preprocessor"></span>
03093                 adrAdr = (adr0 + adrOffset);
03094 
03095                 jj = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1];
03096                 ko = ko0 - adr[jj];
03097                 ko0 = adr[jj];
03098 
03099                 <span class="keywordflow">if</span>( ein_reg[jj] &lt; (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)(aXlutAdrSize-1) )
03100                     adrOffset += theXlutOffsets[jj];
03101 
03102                     accu[0]+=Xlut[adrAdr+(0)]*ko;
03103                     accu[1]+=Xlut[adrAdr+(1)]*ko;
03104                     accu[2]+=Xlut[adrAdr+(2)]*ko;
03105 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
03106 <span class="preprocessor"></span>                    accu[3]+=Xlut[adrAdr+(3)]*ko;
03107 <span class="preprocessor">#endif</span>
03108 <span class="preprocessor"></span>
03109                 adrAdr = (adr0 + adrOffset);
03110 
03111                 jj = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2];
03112                 ko = ko0 - adr[jj];
03113                 ko0 = adr[jj];
03114 
03115                 <span class="keywordflow">if</span>( ein_reg[jj] &lt; (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)(aXlutAdrSize-1) )
03116                     adrOffset += theXlutOffsets[jj];
03117 
03118                     accu[0]+=Xlut[adrAdr+(0)]*ko;
03119                     accu[1]+=Xlut[adrAdr+(1)]*ko;
03120                     accu[2]+=Xlut[adrAdr+(2)]*ko;
03121 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
03122 <span class="preprocessor"></span>                    accu[3]+=Xlut[adrAdr+(3)]*ko;
03123 <span class="preprocessor">#endif</span>
03124 <span class="preprocessor"></span>
03125                 adrAdr = (adr0 + adrOffset);
03126 
03127 <span class="preprocessor">#if NDIM_IN_DIM == 4</span>
03128 <span class="preprocessor"></span>                jj = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[3];
03129                 ko = ko0 - adr[jj];
03130                 ko0 = adr[jj];
03131 
03132                 <span class="keywordflow">if</span>( ein_reg[jj] &lt; (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)(aXlutAdrSize-1) )
03133                     adrOffset += theXlutOffsets[jj];
03134 
03135                     accu[0]+=Xlut[adrAdr+(0)]*ko;
03136                     accu[1]+=Xlut[adrAdr+(1)]*ko;
03137                     accu[2]+=Xlut[adrAdr+(2)]*ko;
03138 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
03139 <span class="preprocessor"></span>                    accu[3]+=Xlut[adrAdr+(3)]*ko;
03140 <span class="preprocessor">#endif</span>
03141 <span class="preprocessor"></span>
03142                 adrAdr = (adr0 + adrOffset);
03143 <span class="preprocessor">#endif</span>
03144 <span class="preprocessor"></span>
03145                 accu[0]+=Xlut[adrAdr+0]*ko0;
03146                 accu[1]+=Xlut[adrAdr+1]*ko0;
03147                 accu[2]+=Xlut[adrAdr+2]*ko0;
03148 <span class="preprocessor"> #if NDIM_OUT_DIM == 4</span>
03149 <span class="preprocessor"></span>               accu[3]+=Xlut[adrAdr+3]*ko0;
03150 <span class="preprocessor"> #endif</span>
03151 <span class="preprocessor"></span>       }
03152        <span class="keywordflow">else</span>{
03153 
03154                 jj = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0];
03155                 ko = ko0 - adr[jj];
03156                 ko0 = adr[jj];
03157 
03158                 <span class="keywordflow">if</span>( ein_reg[jj] &lt; (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)(aXlutAdrSize-1) )
03159                     adrOffset += theXlutOffsets[jj];
03160 
03161                     accu[0]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(0)]*ko;
03162                     accu[1]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(1)]*ko;
03163                     accu[2]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(2)]*ko;
03164 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
03165 <span class="preprocessor"></span>                    accu[3]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(3)]*ko;
03166 <span class="preprocessor">#endif</span>
03167 <span class="preprocessor"></span>                adrAdr = (adr0 + adrOffset);
03168 
03169                 jj = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1];
03170                 ko = ko0 - adr[jj];
03171                 ko0 = adr[jj];
03172 
03173                 <span class="keywordflow">if</span>( ein_reg[jj] &lt; (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)(aXlutAdrSize-1) )
03174                     adrOffset += theXlutOffsets[jj];
03175 
03176                     accu[0]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(0)]*ko;
03177                     accu[1]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(1)]*ko;
03178                     accu[2]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(2)]*ko;
03179 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
03180 <span class="preprocessor"></span>                    accu[3]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(3)]*ko;
03181 <span class="preprocessor">#endif</span>
03182 <span class="preprocessor"></span>                adrAdr = (adr0 + adrOffset);
03183 
03184                 jj = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2];
03185                 ko = ko0 - adr[jj];
03186                 ko0 = adr[jj];
03187 
03188                 <span class="keywordflow">if</span>( ein_reg[jj] &lt; (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)(aXlutAdrSize-1) )
03189                     adrOffset += theXlutOffsets[jj];
03190 
03191                     accu[0]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(0)]*ko;
03192                     accu[1]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(1)]*ko;
03193                     accu[2]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(2)]*ko;
03194 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
03195 <span class="preprocessor"></span>                    accu[3]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(3)]*ko;
03196 <span class="preprocessor">#endif</span>
03197 <span class="preprocessor"></span>                adrAdr = (adr0 + adrOffset);
03198 
03199 <span class="preprocessor">#if NDIM_IN_DIM == 4</span>
03200 <span class="preprocessor"></span>                jj = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[3];
03201                 ko = ko0 - adr[jj];
03202                 ko0 = adr[jj];
03203 
03204                 <span class="keywordflow">if</span>( ein_reg[jj] &lt; (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)(aXlutAdrSize-1) )
03205                     adrOffset += theXlutOffsets[jj];
03206 
03207                     accu[0]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(0)]*ko;
03208                     accu[1]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(1)]*ko;
03209                     accu[2]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(2)]*ko;
03210 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
03211 <span class="preprocessor"></span>                    accu[3]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(3)]*ko;
03212 <span class="preprocessor">#endif</span>
03213 <span class="preprocessor"></span>                adrAdr = (adr0 + adrOffset);
03214 <span class="preprocessor">#endif</span>
03215 <span class="preprocessor"></span>                accu[0]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+0]*ko0;
03216                 accu[1]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+1]*ko0;
03217                 accu[2]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+2]*ko0;
03218 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
03219 <span class="preprocessor"></span>               accu[3]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+3]*ko0;
03220 <span class="preprocessor">#endif</span>
03221 <span class="preprocessor"></span>        }
03222 
03223                 aAlutOffset = 0;
03224 
03225                 <span class="keywordflow">if</span>( aOutputPackMode8Bit ){
03226                         <span class="keywordflow">for</span>( ii=0; ii&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>; ++ii){
03227                                         jj = accu[ii];
03228                                         jj = jj + ( jj &gt;&gt; aXlutWordSize );
03229 
03230                                         ko0 = (jj - ( jj &gt;&gt; ( <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a22">adr_breite_alut</a> ))) &gt;&gt; aAlutInShiftRemainder;     <span class="comment">/*      aAlutInShift = aXlutWordSize + aElutWordSize - adr_breite_alut;*/</span>
03231 
03232                                         ko = ko0 &amp; (aAlutInShiftNum - 1 );
03233                                         ko0 = ko0 &gt;&gt; aAlutInShift;
03234                                         ko0 += aAlutOffset;
03235                                         <span class="keywordflow">if</span>( aAlutWordSize &lt;= 8)
03236                                         jj = ( ((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a>*)aus_lut)[ ko0 ] * ( aAlutInShiftNum - ko ) + ((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a>*)aus_lut)[ ko0 +1 ] * ko ) &gt;&gt; ( aAlutInShift );
03237                                         <span class="keywordflow">else</span>{
03238                                         jj = ( aus_lut[ ko0 ] * ( aAlutInShiftNum - ko ) + aus_lut[ ko0 +1 ] * ko );
03239                                                 jj = jj - ( jj &gt;&gt; aAlutShift );
03240                                                 jj = ( jj + aAlutRound ) &gt;&gt; (aAlutInShift + aAlutShift);
03241                                         }
03242                                         *outputData[ii] = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a>)jj;
03243                         aAlutOffset += <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a21">adr_bereich_alut</a>;
03244                     }
03245                         }
03246                         <span class="keywordflow">else</span>{
03247                                 <span class="keywordflow">if</span>( aXlutWordSize &gt;= 16 ){
03248                                         <span class="keywordflow">for</span>( ii=0; ii&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>; ++ii){
03249                                                 jj = accu[ii];
03250                                                 jj = jj + ( jj &gt;&gt; aXlutWordSize );
03251                                 ko0 = (jj - ( jj &gt;&gt; ( <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a22">adr_breite_alut</a> ))) &gt;&gt; aAlutInShiftRemainder; <span class="comment">/*  aAlutInShift = aXlutWordSize + aElutWordSize - adr_breite_alut;*/</span>
03252                 
03253                                                 ko = ko0 &amp; (aAlutInShiftNum - 1 );
03254                                                 ko0 = ko0 &gt;&gt; aAlutInShift;
03255                                                 ko0 += aAlutOffset;
03256                                                 <span class="keywordflow">if</span>( aAlutWordSize &lt;= 8)
03257                                                 jj = ( ((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a>*)aus_lut)[ ko0 ] * ( aAlutInShiftNum - ko ) + ((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a>*)aus_lut)[ ko0 +1 ] * ko ) &lt;&lt; ( aAlutShift - aAlutInShift );
03258                                                 <span class="keywordflow">else</span>
03259                                                 jj = ( aus_lut[ ko0 ] * ( aAlutInShiftNum - ko ) + aus_lut[ ko0 +1 ] * ko ) &gt;&gt; (aAlutInShift- aAlutShift);
03260                                                 *((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)outputData[ii]) =  (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)jj;
03261                                                 aAlutOffset += <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a21">adr_bereich_alut</a>;
03262                                         }
03263                                 }
03264                                 <span class="keywordflow">else</span>{
03265                                         <span class="keywordflow">for</span>( ii=0; ii&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>; ++ii){
03266                                                 jj = accu[ii];
03267                                                 jj = jj + ( jj &gt;&gt; aXlutWordSize ) + ( jj &gt;&gt; 2*aXlutWordSize );
03268                                 ko0 = (jj - ( jj &gt;&gt; ( <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a22">adr_breite_alut</a> ))) ; <span class="comment">/*  aAlutInShift = aXlutWordSize + aElutWordSize - adr_breite_alut;*/</span>
03269                 
03270                                                 ko = ko0 &amp; (aAlutInShiftNum - 1 );
03271                                                 ko0 = ko0 &gt;&gt; aAlutInShift;
03272                                                 ko0 += aAlutOffset;
03273                                                 <span class="keywordflow">if</span>( aAlutWordSize &lt;= 8)
03274                                                 jj = ( ((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a>*)aus_lut)[ ko0 ] * ( aAlutInShiftNum - ko ) + ((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a>*)aus_lut)[ ko0 +1 ] * ko ) &lt;&lt; ( aAlutShift - aAlutInShift );
03275                                                 <span class="keywordflow">else</span>
03276                                                 jj = ( aus_lut[ ko0 ] * ( aAlutInShiftNum - ko ) + aus_lut[ ko0 +1 ] * ko ) &gt;&gt; (aAlutInShift- aAlutShift);
03277                                                 *((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)outputData[ii]) =  (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)jj;
03278                                                 aAlutOffset += <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a21">adr_bereich_alut</a>;
03279                                         }
03280                                 }
03281                         }
03282                         <span class="keywordflow">while</span> (--i){
03283                                 <span class="keywordflow">for</span>( jj=0; jj&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>; ++jj){
03284                                         inputData[jj] += (<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a> * 2);
03285                                 }
03286                                 <span class="keywordflow">for</span>( jj=0; jj&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>; ++jj){
03287                                         outputData[jj] += OutputIncrement;
03288                                 }
03289         
03290                                 {
03291                                         <span class="keywordflow">for</span>( jj=0; jj&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>; ++jj){
03292                                                 <span class="keywordflow">if</span>( *((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)inputData[jj]) ^ *(<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)(&amp;ein_Cache[jj]) )<span class="keywordflow">break</span>;
03293                                         }
03294                                 }
03295                                 <span class="keywordflow">if</span>( jj&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a> ) <span class="keywordflow">break</span>;
03296                                 <span class="keywordflow">if</span>( aOutputPackMode8Bit ){
03297                                         <span class="keywordflow">for</span>( jj=0; jj&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>; ++jj){
03298                                                 *outputData[jj] = outputData[jj][-(<span class="keywordtype">long</span>)(<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a> )];
03299                                         }
03300                                 }
03301                                 <span class="keywordflow">else</span>{
03302                                         <span class="keywordflow">for</span>( jj=0; jj&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>; ++jj){
03303                                                 *((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)outputData[jj]) = *(<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)(&amp;outputData[jj][-(<span class="keywordtype">long</span>)(<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a> * 2)]);
03304                                         }
03305                                 }
03306                         }
03307                 }
03308                 
03309                 <span class="keywordflow">if</span>( --LineCount ){
03310                         <span class="keywordflow">for</span>( jj=0; jj&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>; ++jj){
03311                                 inputData[jj] += inputDataRowOffset;
03312                         }
03313                         <span class="keywordflow">for</span>( jj=0; jj&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>; ++jj){
03314                                 outputData[jj] += outputDataRowOffset;
03315                         }
03316                 }
03317     }
03318     }
03319     <span class="keywordflow">else</span>{
03320 
03321     <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>  bit_breit_selektor;
03322     <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>  bit_maske_selektor;
03323     <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>  bit_breit_adr;
03324     <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>  bit_maske_adr;
03325     <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>  aAlutInShiftNum;
03326     <span class="keyword">register</span> <span class="keywordtype">long</span> aAlutInShift;
03327     <span class="keyword">register</span> <span class="keywordtype">long</span> aAlutInShiftRemainder;
03328     <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> aAlutRound;
03329     <span class="comment">/*register long aXlutPlaneShift = aXlutAdrShift*aXlutInDim;*/</span>
03330     bit_breit_selektor=aElutWordSize-aXlutAdrShift;
03331     <span class="keywordflow">if</span>( aElutWordSize-aXlutAdrShift &lt; 0 )
03332     {
03333 <span class="preprocessor">#ifdef DEBUG_OUTPUT</span>
03334 <span class="preprocessor"></span>        <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"¥ DoNDim-Error: bit_breit_selektor &lt; 0 (bit_breit_selektor = %d)\n"</span>,bit_breit_selektor);
03335 <span class="preprocessor">#endif</span>
03336 <span class="preprocessor"></span>        <span class="keywordflow">return</span> <a class="code" href="../../d2/d6/lh__open_2pi__app_8h.html#a149a30">cmparamErr</a>;
03337     }
03338     bit_maske_selektor=(1&lt;&lt;bit_breit_selektor)-1;
03339     bit_breit_adr=aXlutAdrShift;
03340     bit_maske_adr=((1&lt;&lt;bit_breit_adr)-1)&lt;&lt;bit_breit_selektor;
03341     aAlutInShift = (aXlutWordSize+bit_breit_selektor-<a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a22">adr_breite_alut</a>);
03342     <span class="comment">/*aAlutInShift = aXlutWordSize + aElutWordSize - adr_breite_alut;*/</span>
03343     aAlutInShiftRemainder = 0;
03344     <span class="keywordflow">if</span>( aAlutInShift &gt; 16 ){
03345         aAlutInShiftRemainder = aAlutInShift - 16;
03346         aAlutInShift = 16;
03347     }
03348         
03349     aAlutInShiftNum = (1&lt;&lt;aAlutInShift);
03350     
03351         aAlutRound = 1&lt;&lt;( aAlutInShift + aAlutShift - 1 );
03352         <span class="keywordflow">while</span> (LineCount){
03353                 i = Pixelcount;
03354                 
03355                 <span class="keywordflow">while</span> (i){
03356         
03357                 <span class="keywordtype">long</span> adr[8],<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[8];
03358                 <span class="comment">/*LH_UINT16 *ein_lut = (LH_UINT16 *)ein_lut;*/</span>
03359                 <a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> ein_reg[8];
03360                    <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>  adrAdr,ko,adrOffset;
03361                 <span class="comment">/*register unsigned long aIndex;*/</span>
03362         
03363                 adr0=0;
03364                 aElutOffset = 0;
03365                 jj=0;
03366                         ein_Cache[0]=jj=(*(<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)inputData[0]);
03367                         ko0 = jj - ( jj &gt;&gt; ( <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a19">adr_breite_elut</a> ));
03368                         ko = ko0 &amp; ( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a7">aElutShiftNum</a> - 1 );
03369                         ko0 = ko0 &gt;&gt; <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>;
03370                         ko0 += aElutOffset;
03371                            jj = ( ein_lut[ ko0 ] * ( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a7">aElutShiftNum</a> - ko ) + ein_lut[ ko0 +1 ] * ko ) &gt;&gt; <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>;
03372         
03373                         aElutOffset += <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a18">adr_bereich_elut</a>;
03374                         adr[0] = (jj &amp; bit_maske_selektor);
03375                         adr0 |= ((jj &amp; bit_maske_adr)&gt;&gt;bit_breit_selektor)&lt;&lt;((<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>-0-1)*bit_breit_adr);
03376                         ein_reg[0] = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)jj;
03377 
03378                         ein_Cache[1]=jj=(*(<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)inputData[1]);
03379                         ko0 = jj - ( jj &gt;&gt; ( <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a19">adr_breite_elut</a> ));
03380                         ko = ko0 &amp; ( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a7">aElutShiftNum</a> - 1 );
03381                         ko0 = ko0 &gt;&gt; <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>;
03382                         ko0 += aElutOffset;
03383                            jj = ( ein_lut[ ko0 ] * ( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a7">aElutShiftNum</a> - ko ) + ein_lut[ ko0 +1 ] * ko ) &gt;&gt; <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>;
03384         
03385                         aElutOffset += <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a18">adr_bereich_elut</a>;
03386                         adr[1] = (jj &amp; bit_maske_selektor);
03387                         adr0 |= ((jj &amp; bit_maske_adr)&gt;&gt;bit_breit_selektor)&lt;&lt;((<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>-1-1)*bit_breit_adr);
03388                         ein_reg[1] = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)jj;
03389 
03390                         ein_Cache[2]=jj=(*(<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)inputData[2]);
03391                         ko0 = jj - ( jj &gt;&gt; ( <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a19">adr_breite_elut</a> ));
03392                         ko = ko0 &amp; ( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a7">aElutShiftNum</a> - 1 );
03393                         ko0 = ko0 &gt;&gt; <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>;
03394                         ko0 += aElutOffset;
03395                            jj = ( ein_lut[ ko0 ] * ( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a7">aElutShiftNum</a> - ko ) + ein_lut[ ko0 +1 ] * ko ) &gt;&gt; <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>;
03396         
03397                         aElutOffset += <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a18">adr_bereich_elut</a>;
03398                         adr[2] = (jj &amp; bit_maske_selektor);
03399                         adr0 |= ((jj &amp; bit_maske_adr)&gt;&gt;bit_breit_selektor)&lt;&lt;((<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>-2-1)*bit_breit_adr);
03400                         ein_reg[2] = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)jj;
03401 
03402 <span class="preprocessor">#if NDIM_IN_DIM == 4</span>
03403 <span class="preprocessor"></span>                        ein_Cache[3]=jj=(*(<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)inputData[3]);
03404                         ko0 = jj - ( jj &gt;&gt; ( <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a19">adr_breite_elut</a> ));
03405                         ko = ko0 &amp; ( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a7">aElutShiftNum</a> - 1 );
03406                         ko0 = ko0 &gt;&gt; <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>;
03407                         ko0 += aElutOffset;
03408                            jj = ( ein_lut[ ko0 ] * ( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a7">aElutShiftNum</a> - ko ) + ein_lut[ ko0 +1 ] * ko ) &gt;&gt; <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>;
03409         
03410                         aElutOffset += <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a18">adr_bereich_elut</a>;
03411                         adr[3] = (jj &amp; bit_maske_selektor);
03412                         adr0 |= ((jj &amp; bit_maske_adr)&gt;&gt;bit_breit_selektor)&lt;&lt;((<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>-3-1)*bit_breit_adr);
03413                         ein_reg[3] = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)jj;
03414 <span class="preprocessor">#endif  </span>
03415 <span class="preprocessor"></span>                adr0 *= <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>;
03416         
03417                 {                                                               <span class="comment">/* a kind of */</span>
03418                     <span class="keyword">register</span> <span class="keywordtype">long</span> <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a>;
03419                     
03420                         
03421                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0] = 0;
03422                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1] = 1;
03423                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2] = 2;
03424 <span class="preprocessor">#if NDIM_IN_DIM == 4</span>
03425 <span class="preprocessor"></span>                                <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[3] = 3;
03426 <span class="preprocessor">#endif</span>
03427 <span class="preprocessor"></span>                                        <span class="keywordflow">if</span>( adr[0] &lt; adr[1] ){
03428                                                 <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a> = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0];
03429                                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0] = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1];
03430                                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1] = <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a>;
03431                                         }
03432 
03433                                         <span class="keywordflow">if</span>( adr[<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1]] &lt; adr[2] ){
03434                                                 <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a> = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1];
03435                                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1] = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2];
03436                                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2] = <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a>;
03437                                                 <span class="keywordflow">if</span>( adr[<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0]] &lt; adr[<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1]] ){
03438                                                         <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a> = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0];
03439                                                         <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0] = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1];
03440                                                         <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1] = <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a>;
03441                                                 }
03442                                         }
03443 
03444 <span class="preprocessor">#if NDIM_IN_DIM == 4</span>
03445 <span class="preprocessor"></span>                                        <span class="keywordflow">if</span>( adr[<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2]] &lt; adr[3] ){
03446                                                 <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a> = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2];
03447                                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2] = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[3];
03448                                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[3] = <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a>;
03449                                                 <span class="keywordflow">if</span>( adr[<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1]] &lt; adr[<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2]] ){
03450                                                         <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a> = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1];
03451                                                         <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1] = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2];
03452                                                         <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2] = <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a>;
03453                                                         <span class="keywordflow">if</span>( adr[<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0]] &lt; adr[<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1]] ){
03454                                                                 <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a> = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0];
03455                                                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0] = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1];
03456                                                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1] = <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a>;
03457                                                         }
03458                                                 }
03459                                         }
03460 <span class="preprocessor">#endif</span>
03461 <span class="preprocessor"></span>                }
03462         
03463                         accu[0]=0;
03464                         accu[1]=0;
03465                         accu[2]=0;
03466 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
03467 <span class="preprocessor"></span>                        accu[3]=0;
03468 <span class="preprocessor">#endif</span>
03469 <span class="preprocessor"></span>        
03470                 ko0 = bit_maske_selektor+1;
03471                 adrAdr=adr0;
03472                 adrOffset=0;
03473         
03474                 <span class="keywordflow">if</span>( aXlutWordSize  == 16 ){
03475                         jj = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0];
03476                         ko = ko0 - adr[jj];
03477                         ko0 = adr[jj];
03478         
03479                         <span class="keywordflow">if</span>( ein_reg[jj] &lt; bit_maske_adr )
03480                             adrOffset |= (1&lt;&lt;(<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>-1-jj)*bit_breit_adr);
03481         
03482                                                 accu[0]+=Xlut[adrAdr+(0)]*ko;
03483                                                 accu[1]+=Xlut[adrAdr+(1)]*ko;
03484                                                 accu[2]+=Xlut[adrAdr+(2)]*ko;
03485 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
03486 <span class="preprocessor"></span>                                                accu[3]+=Xlut[adrAdr+(3)]*ko;
03487 <span class="preprocessor">#endif</span>
03488 <span class="preprocessor"></span>                        adrAdr = (adr0 + <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>*adrOffset);
03489 
03490                         jj = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1];
03491                         ko = ko0 - adr[jj];
03492                         ko0 = adr[jj];
03493         
03494                         <span class="keywordflow">if</span>( ein_reg[jj] &lt; bit_maske_adr )
03495                             adrOffset |= (1&lt;&lt;(<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>-1-jj)*bit_breit_adr);
03496         
03497                                                 accu[0]+=Xlut[adrAdr+(0)]*ko;
03498                                                 accu[1]+=Xlut[adrAdr+(1)]*ko;
03499                                                 accu[2]+=Xlut[adrAdr+(2)]*ko;
03500 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
03501 <span class="preprocessor"></span>                                                accu[3]+=Xlut[adrAdr+(3)]*ko;
03502 <span class="preprocessor">#endif</span>
03503 <span class="preprocessor"></span>                        adrAdr = (adr0 + <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>*adrOffset);
03504 
03505                         jj = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2];
03506                         ko = ko0 - adr[jj];
03507                         ko0 = adr[jj];
03508         
03509                         <span class="keywordflow">if</span>( ein_reg[jj] &lt; bit_maske_adr )
03510                             adrOffset |= (1&lt;&lt;(<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>-1-jj)*bit_breit_adr);
03511         
03512                                                 accu[0]+=Xlut[adrAdr+(0)]*ko;
03513                                                 accu[1]+=Xlut[adrAdr+(1)]*ko;
03514                                                 accu[2]+=Xlut[adrAdr+(2)]*ko;
03515 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
03516 <span class="preprocessor"></span>                                                accu[3]+=Xlut[adrAdr+(3)]*ko;
03517 <span class="preprocessor">#endif</span>
03518 <span class="preprocessor"></span>                        adrAdr = (adr0 + <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>*adrOffset);
03519 
03520 <span class="preprocessor">#if NDIM_IN_DIM == 4</span>
03521 <span class="preprocessor"></span>                        jj = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[3];
03522                         ko = ko0 - adr[jj];
03523                         ko0 = adr[jj];
03524         
03525                         <span class="keywordflow">if</span>( ein_reg[jj] &lt; bit_maske_adr )
03526                             adrOffset |= (1&lt;&lt;(<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>-1-jj)*bit_breit_adr);
03527         
03528                                                 accu[0]+=Xlut[adrAdr+(0)]*ko;
03529                                                 accu[1]+=Xlut[adrAdr+(1)]*ko;
03530                                                 accu[2]+=Xlut[adrAdr+(2)]*ko;
03531 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
03532 <span class="preprocessor"></span>                                                accu[3]+=Xlut[adrAdr+(3)]*ko;
03533 <span class="preprocessor">#endif</span>
03534 <span class="preprocessor"></span>                        adrAdr = (adr0 + <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>*adrOffset);
03535 <span class="preprocessor">#endif</span>
03536 <span class="preprocessor"></span>                accu[0]+=Xlut[adrAdr+0]*ko0;
03537                 accu[1]+=Xlut[adrAdr+1]*ko0;
03538                 accu[2]+=Xlut[adrAdr+2]*ko0;
03539 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
03540 <span class="preprocessor"></span>                                accu[3]+=Xlut[adrAdr+3]*ko0;
03541 <span class="preprocessor">#endif</span>
03542 <span class="preprocessor"></span>                }
03543                 <span class="keywordflow">else</span>{
03544                         jj = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0];
03545                         ko = ko0 - adr[jj];
03546                         ko0 = adr[jj];
03547         
03548                         <span class="keywordflow">if</span>( ein_reg[jj] &lt; bit_maske_adr )
03549                             adrOffset |= (1&lt;&lt;(<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>-1-jj)*bit_breit_adr);
03550         
03551                             accu[0]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(0)]*ko;
03552                             accu[1]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(1)]*ko;
03553                             accu[2]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(2)]*ko;
03554 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
03555 <span class="preprocessor"></span>                            accu[3]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(3)]*ko;
03556 <span class="preprocessor">#endif</span>
03557 <span class="preprocessor"></span>        
03558                         adrAdr = (adr0 + <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>*adrOffset);
03559 
03560                         jj = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1];
03561                         ko = ko0 - adr[jj];
03562                         ko0 = adr[jj];
03563         
03564                         <span class="keywordflow">if</span>( ein_reg[jj] &lt; bit_maske_adr )
03565                             adrOffset |= (1&lt;&lt;(<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>-1-jj)*bit_breit_adr);
03566         
03567                             accu[0]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(0)]*ko;
03568                             accu[1]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(1)]*ko;
03569                             accu[2]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(2)]*ko;
03570 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
03571 <span class="preprocessor"></span>                            accu[3]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(3)]*ko;
03572 <span class="preprocessor">#endif</span>
03573 <span class="preprocessor"></span>        
03574                         adrAdr = (adr0 + <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>*adrOffset);
03575 
03576                         jj = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2];
03577                         ko = ko0 - adr[jj];
03578                         ko0 = adr[jj];
03579         
03580                         <span class="keywordflow">if</span>( ein_reg[jj] &lt; bit_maske_adr )
03581                             adrOffset |= (1&lt;&lt;(<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>-1-jj)*bit_breit_adr);
03582         
03583                             accu[0]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(0)]*ko;
03584                             accu[1]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(1)]*ko;
03585                             accu[2]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(2)]*ko;
03586 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
03587 <span class="preprocessor"></span>                            accu[3]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(3)]*ko;
03588 <span class="preprocessor">#endif</span>
03589 <span class="preprocessor"></span>        
03590                         adrAdr = (adr0 + <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>*adrOffset);
03591 
03592 <span class="preprocessor">#if NDIM_IN_DIM == 4</span>
03593 <span class="preprocessor"></span>                        jj = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[3];
03594                         ko = ko0 - adr[jj];
03595                         ko0 = adr[jj];
03596         
03597                         <span class="keywordflow">if</span>( ein_reg[jj] &lt; bit_maske_adr )
03598                             adrOffset |= (1&lt;&lt;(<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>-1-jj)*bit_breit_adr);
03599         
03600                             accu[0]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(0)]*ko;
03601                             accu[1]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(1)]*ko;
03602                             accu[2]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(2)]*ko;
03603 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
03604 <span class="preprocessor"></span>                            accu[3]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(3)]*ko;
03605 <span class="preprocessor">#endif</span>
03606 <span class="preprocessor"></span>        
03607                         adrAdr = (adr0 + <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>*adrOffset);
03608 <span class="preprocessor">#endif</span>
03609 <span class="preprocessor"></span>                                accu[0]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+0]*ko0;
03610                 accu[1]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+1]*ko0;
03611                 accu[2]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+2]*ko0;
03612 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
03613 <span class="preprocessor"></span>                                accu[3]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+3]*ko0;
03614 <span class="preprocessor">#endif</span>
03615 <span class="preprocessor"></span>                }
03616         
03617                 aAlutOffset = 0;
03618         
03619                 <span class="keywordflow">if</span>( aOutputPackMode8Bit ){
03620                         <span class="keywordflow">for</span>( ii=0; ii&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>; ++ii){
03621                                         jj = accu[ii];
03622                                         jj = jj + ( jj &gt;&gt; aXlutWordSize );
03623 
03624                                         ko0 = (jj - ( jj &gt;&gt; ( <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a22">adr_breite_alut</a> ))) &gt;&gt; aAlutInShiftRemainder;     <span class="comment">/*      aAlutInShift = aXlutWordSize + aElutWordSize - adr_breite_alut;*/</span>
03625 
03626                                         ko = ko0 &amp; (aAlutInShiftNum - 1 );
03627                                         ko0 = ko0 &gt;&gt; aAlutInShift;
03628                                         ko0 += aAlutOffset;
03629                                         <span class="keywordflow">if</span>( aAlutWordSize &lt;= 8)
03630                                         jj = ( ((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a>*)aus_lut)[ ko0 ] * ( aAlutInShiftNum - ko ) + ((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a>*)aus_lut)[ ko0 +1 ] * ko ) &gt;&gt; ( aAlutInShift );
03631                                         <span class="keywordflow">else</span>{
03632                                                 jj = ( aus_lut[ ko0 ] * ( aAlutInShiftNum - ko ) + aus_lut[ ko0 +1 ] * ko );
03633                                                 jj = jj - ( jj &gt;&gt; aAlutShift );
03634                                                 jj = ( jj + aAlutRound ) &gt;&gt; (aAlutInShift + aAlutShift);
03635                                         }
03636 
03637                                         *outputData[ii] = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a>)jj;
03638                         aAlutOffset += <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a21">adr_bereich_alut</a>;
03639                     }
03640                 }
03641                 <span class="keywordflow">else</span>{
03642                                 <span class="keywordflow">if</span>( aXlutWordSize &gt;= 16 ){
03643                                         <span class="keywordflow">for</span>( ii=0; ii&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>; ++ii){
03644                                                 jj = accu[ii];
03645                                                 jj = jj + ( jj &gt;&gt; aXlutWordSize );
03646                                 ko0 = (jj - ( jj &gt;&gt; ( <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a22">adr_breite_alut</a> ))) &gt;&gt; aAlutInShiftRemainder; <span class="comment">/*  aAlutInShift = aXlutWordSize + aElutWordSize - adr_breite_alut;*/</span>
03647                 
03648                                                 ko = ko0 &amp; (aAlutInShiftNum - 1 );
03649                                                 ko0 = ko0 &gt;&gt; aAlutInShift;
03650                                                 ko0 += aAlutOffset;
03651                                                 <span class="keywordflow">if</span>( aAlutWordSize &lt;= 8)
03652                                                 jj = ( ((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a>*)aus_lut)[ ko0 ] * ( aAlutInShiftNum - ko ) + ((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a>*)aus_lut)[ ko0 +1 ] * ko ) &lt;&lt; ( aAlutShift - aAlutInShift );
03653                                                 <span class="keywordflow">else</span>
03654                                                 jj = ( aus_lut[ ko0 ] * ( aAlutInShiftNum - ko ) + aus_lut[ ko0 +1 ] * ko ) &gt;&gt; (aAlutInShift- aAlutShift);
03655                                                 *((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)outputData[ii]) =  (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)jj;
03656                                                 aAlutOffset += <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a21">adr_bereich_alut</a>;
03657                                         }
03658                                 }
03659                                 <span class="keywordflow">else</span>{
03660                                         <span class="keywordflow">for</span>( ii=0; ii&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>; ++ii){
03661                                                 jj = accu[ii];
03662                                                 jj = jj + ( jj &gt;&gt; aXlutWordSize ) + ( jj &gt;&gt; 2*aXlutWordSize );
03663                                 ko0 = (jj - ( jj &gt;&gt; ( <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a22">adr_breite_alut</a> ))); <span class="comment">/*   aAlutInShift = aXlutWordSize + aElutWordSize - adr_breite_alut;*/</span>
03664                 
03665                                                 ko = ko0 &amp; (aAlutInShiftNum - 1 );
03666                                                 ko0 = ko0 &gt;&gt; aAlutInShift;
03667                                                 ko0 += aAlutOffset;
03668                                                 <span class="keywordflow">if</span>( aAlutWordSize &lt;= 8)
03669                                                 jj = ( ((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a>*)aus_lut)[ ko0 ] * ( aAlutInShiftNum - ko ) + ((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a>*)aus_lut)[ ko0 +1 ] * ko ) &lt;&lt; ( aAlutShift - aAlutInShift );
03670                                                 <span class="keywordflow">else</span>
03671                                                 jj = ( aus_lut[ ko0 ] * ( aAlutInShiftNum - ko ) + aus_lut[ ko0 +1 ] * ko ) &gt;&gt; (aAlutInShift- aAlutShift);
03672                                                 *((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)outputData[ii]) =  (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)jj;
03673                                                 aAlutOffset += <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a21">adr_bereich_alut</a>;
03674                                         }
03675                                 }
03676                 }
03677         
03678                         <span class="keywordflow">while</span> (--i){
03679                                 <span class="keywordflow">for</span>( jj=0; jj&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>; ++jj){
03680                                         inputData[jj] += (<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a> * 2);
03681                                 }
03682                                 <span class="keywordflow">for</span>( jj=0; jj&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>; ++jj){
03683                                         outputData[jj] += OutputIncrement;
03684                                 }
03685         
03686                                 {
03687                                         <span class="keywordflow">for</span>( jj=0; jj&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>; ++jj){
03688                                                 <span class="keywordflow">if</span>( *((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)inputData[jj]) ^ *(<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)(&amp;ein_Cache[jj]) )<span class="keywordflow">break</span>;
03689                                         }
03690                                 }
03691                                 <span class="keywordflow">if</span>( jj&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a> ) <span class="keywordflow">break</span>;
03692                                 <span class="keywordflow">if</span>( aOutputPackMode8Bit ){
03693                                         <span class="keywordflow">for</span>( jj=0; jj&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>; ++jj){
03694                                                 *outputData[jj] = outputData[jj][-(<span class="keywordtype">long</span>)(<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a> )];
03695                                         }
03696                                 }
03697                                 <span class="keywordflow">else</span>{
03698                                         <span class="keywordflow">for</span>( jj=0; jj&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>; ++jj){
03699                                                 *((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)outputData[jj]) = *(<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)(&amp;outputData[jj][-(<span class="keywordtype">long</span>)(<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a> * 2)]);
03700                                         }
03701                                 }
03702                         }
03703                 }
03704                 
03705                 <span class="keywordflow">if</span>( --LineCount ){
03706                         <span class="keywordflow">for</span>( jj=0; jj&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>; ++jj){
03707                                 inputData[jj] += inputDataRowOffset;
03708                         }
03709                         <span class="keywordflow">for</span>( jj=0; jj&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>; ++jj){
03710                                 outputData[jj] += outputDataRowOffset;
03711                         }
03712                 }
03713     }
03714     }
03715 
03716         <span class="comment">/* UNLOCK_DATA( aElutHdle ); */</span>
03717         <span class="comment">/* UNLOCK_DATA( aAlutHdle ); */</span>
03718         <span class="comment">/* UNLOCK_DATA( aXlutHdle ); */</span>
03719 
03720         <a class="code" href="../../d6/d9/lh__open_2general_8h.html#a2">LH_END_PROC</a>(<span class="stringliteral">"Calc424Dim_Data8To8_Lut16"</span>)
03721         return noErr;
03722 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a12" doxytag="lh_core/calcndim.c::CalcNDim_Data16To16_Lut16" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a11">CMError</a> CalcNDim_Data16To16_Lut16           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d7/d3/structCMCalcParam.html">CMCalcParamPtr</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>calcParam</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d0/d4/structCMLutParam.html">CMLutParamPtr</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>lutParam</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d9/d2/lh__core_2calcndim_8c-source.html#l00898">898</a> of file <a class="el" href="../../d9/d2/lh__core_2calcndim_8c-source.html">lh_core/calcndim.c</a>.
<p>
Referenced by <a class="el" href="../../d2/d3/lh__core_2runtime_8c-source.html#l02767">FindCalcRoutine()</a>.
<p>
<pre class="fragment"><div>00900 {
00901         <span class="keywordflow">return</span> <a class="code" href="../../d1/d4/w98_2lh__core_2calcndim_8h.html#a4">CalcNDim_Data8To8_Lut16</a>( calcParam, lutParam );
00902 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a16" doxytag="lh_core/calcndim.c::CalcNDim_Data16To16_Lut8" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a11">CMError</a> CalcNDim_Data16To16_Lut8           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d7/d3/structCMCalcParam.html">CMCalcParamPtr</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>calcParam</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d0/d4/structCMLutParam.html">CMLutParamPtr</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>lutParam</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d9/d2/lh__core_2calcndim_8c-source.html#l00934">934</a> of file <a class="el" href="../../d9/d2/lh__core_2calcndim_8c-source.html">lh_core/calcndim.c</a>.
<p>
Referenced by <a class="el" href="../../d2/d3/lh__core_2runtime_8c-source.html#l02767">FindCalcRoutine()</a>.
<p>
<pre class="fragment"><div>00936 {
00937         <span class="keywordflow">return</span> <a class="code" href="../../d1/d4/w98_2lh__core_2calcndim_8h.html#a4">CalcNDim_Data8To8_Lut16</a>( calcParam, lutParam );
00938 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a11" doxytag="lh_core/calcndim.c::CalcNDim_Data16To8_Lut16" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a11">CMError</a> CalcNDim_Data16To8_Lut16           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d7/d3/structCMCalcParam.html">CMCalcParamPtr</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>calcParam</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d0/d4/structCMLutParam.html">CMLutParamPtr</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>lutParam</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d9/d2/lh__core_2calcndim_8c-source.html#l00889">889</a> of file <a class="el" href="../../d9/d2/lh__core_2calcndim_8c-source.html">lh_core/calcndim.c</a>.
<p>
Referenced by <a class="el" href="../../d2/d3/lh__core_2runtime_8c-source.html#l02767">FindCalcRoutine()</a>.
<p>
<pre class="fragment"><div>00891 {
00892         <span class="keywordflow">return</span> <a class="code" href="../../d1/d4/w98_2lh__core_2calcndim_8h.html#a4">CalcNDim_Data8To8_Lut16</a>( calcParam, lutParam );
00893 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a14" doxytag="lh_core/calcndim.c::CalcNDim_Data16To8_Lut8" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a11">CMError</a> CalcNDim_Data16To8_Lut8           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d7/d3/structCMCalcParam.html">CMCalcParamPtr</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>calcParam</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d0/d4/structCMLutParam.html">CMLutParamPtr</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>lutParam</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d9/d2/lh__core_2calcndim_8c-source.html#l00916">916</a> of file <a class="el" href="../../d9/d2/lh__core_2calcndim_8c-source.html">lh_core/calcndim.c</a>.
<p>
Referenced by <a class="el" href="../../d2/d3/lh__core_2runtime_8c-source.html#l02767">FindCalcRoutine()</a>.
<p>
<pre class="fragment"><div>00918 {
00919         <span class="keywordflow">return</span> <a class="code" href="../../d1/d4/w98_2lh__core_2calcndim_8h.html#a4">CalcNDim_Data8To8_Lut16</a>( calcParam, lutParam );
00920 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a10" doxytag="lh_core/calcndim.c::CalcNDim_Data8To16_Lut16" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a11">CMError</a> CalcNDim_Data8To16_Lut16           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d7/d3/structCMCalcParam.html">CMCalcParamPtr</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>calcParam</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d0/d4/structCMLutParam.html">CMLutParamPtr</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>lutParam</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d9/d2/lh__core_2calcndim_8c-source.html#l00880">880</a> of file <a class="el" href="../../d9/d2/lh__core_2calcndim_8c-source.html">lh_core/calcndim.c</a>.
<p>
Referenced by <a class="el" href="../../d2/d3/lh__core_2runtime_8c-source.html#l02767">FindCalcRoutine()</a>.
<p>
<pre class="fragment"><div>00882 {
00883         <span class="keywordflow">return</span> <a class="code" href="../../d1/d4/w98_2lh__core_2calcndim_8h.html#a4">CalcNDim_Data8To8_Lut16</a>( calcParam, lutParam );
00884 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a15" doxytag="lh_core/calcndim.c::CalcNDim_Data8To16_Lut8" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a11">CMError</a> CalcNDim_Data8To16_Lut8           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d7/d3/structCMCalcParam.html">CMCalcParamPtr</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>calcParam</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d0/d4/structCMLutParam.html">CMLutParamPtr</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>lutParam</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d9/d2/lh__core_2calcndim_8c-source.html#l00925">925</a> of file <a class="el" href="../../d9/d2/lh__core_2calcndim_8c-source.html">lh_core/calcndim.c</a>.
<p>
Referenced by <a class="el" href="../../d2/d3/lh__core_2runtime_8c-source.html#l02767">FindCalcRoutine()</a>.
<p>
<pre class="fragment"><div>00927 {
00928         <span class="keywordflow">return</span> <a class="code" href="../../d1/d4/w98_2lh__core_2calcndim_8h.html#a4">CalcNDim_Data8To8_Lut16</a>( calcParam, lutParam );
00929 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a9" doxytag="lh_core/calcndim.c::CalcNDim_Data8To8_Lut16" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a11">CMError</a> CalcNDim_Data8To8_Lut16           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d7/d3/structCMCalcParam.html">CMCalcParamPtr</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>calcParam</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d0/d4/structCMLutParam.html">CMLutParamPtr</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>lutParam</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d9/d2/lh__core_2calcndim_8c-source.html#l00062">62</a> of file <a class="el" href="../../d9/d2/lh__core_2calcndim_8c-source.html">lh_core/calcndim.c</a>.
<p>
Referenced by <a class="el" href="../../d2/d3/lh__core_2runtime_8c-source.html#l02767">FindCalcRoutine()</a>.
<p>
<pre class="fragment"><div>00065 {
00066         <a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> * inputData[8], *outputData[8];
00067         <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a8">UINT32</a> InputIncrement, OutputIncrement, inputDataRowOffset, outputDataRowOffset, Pixelcount, LineCount;
00068         <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> adr0;
00069     <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> ko0;
00070     <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> accu[8];
00071     <span class="keyword">register</span> <span class="keywordtype">long</span> i;
00072     <span class="comment">/*long Offsets[8];*/</span>
00073     
00074     <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> nDim;
00075     <span class="keyword">register</span> <span class="keywordtype">long</span> <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>,aAlutShift,aElutOffset,aAlutOffset;
00076     <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> aElutAdrSize;
00077     <span class="keyword">register</span> <span class="keywordtype">long</span> aElutAdrShift;
00078     <span class="keyword">register</span> <span class="keywordtype">long</span> aElutWordSize;
00079     <span class="keyword">register</span> <span class="keywordtype">long</span> aAlutAdrSize;
00080     <span class="keyword">register</span> <span class="keywordtype">long</span> aAlutAdrShift;
00081     <span class="keyword">register</span> <span class="keywordtype">long</span> aAlutWordSize;
00082     <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> aXlutInDim;
00083     <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> aXlutOutDim;
00084     <span class="keyword">register</span> <span class="keywordtype">long</span> aXlutAdrSize;
00085     <span class="keyword">register</span> <span class="keywordtype">long</span> aXlutAdrShift;
00086     <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> aXlutWordSize;
00087     <span class="keyword">register</span> <span class="keywordtype">long</span> aInputPackMode8Bit;
00088     <span class="keyword">register</span> <span class="keywordtype">long</span> aOutputPackMode8Bit;
00089     <span class="keyword">register</span> <span class="keywordtype">long</span> <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a7">aElutShiftNum</a>;
00090         <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> ii,jj;
00091         <a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> ein_Cache[8];
00092         
00093         
00094         <a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> * aus_lut     = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>*)lutParam-&gt;<a class="code" href="../../d0/d4/structCMLutParam.html#o5">outputLut</a>;
00095         <a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> * ein_lut     = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>*)lutParam-&gt;<a class="code" href="../../d0/d4/structCMLutParam.html#o2">inputLut</a>;
00096         <a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> * Xlut        = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>*)lutParam-&gt;<a class="code" href="../../d0/d4/structCMLutParam.html#o10">colorLut</a>;
00097         
00098         <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a21">Boolean</a> aCopyAlpha;
00099    
00100 <span class="preprocessor">        #ifdef DEBUG_OUTPUT</span>
00101 <span class="preprocessor"></span>        <span class="keywordtype">long</span> err = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a58a55">noErr</a>;
00102 <span class="preprocessor">        #endif</span>
00103 <span class="preprocessor"></span>        <a class="code" href="../../d6/d9/lh__open_2general_8h.html#a1">LH_START_PROC</a>(<span class="stringliteral">"CalcNDim_Data8To8_Lut16"</span>)
00104 #<span class="keywordflow">if</span> <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a3">UNROLL_NDIM</a>
00105         <span class="keywordflow">if</span>( lutParam-&gt;<a class="code" href="../../d0/d4/structCMLutParam.html#o6">colorLutInDim</a> == 3 &amp;&amp;
00106                 calcParam-&gt;<a class="code" href="../../d7/d3/structCMCalcParam.html#o6">cmInputPixelOffset</a> == 6 ){
00107                 <span class="keywordflow">if</span>(     lutParam-&gt;<a class="code" href="../../d0/d4/structCMLutParam.html#o7">colorLutOutDim</a> == 3 &amp;&amp;
00108                         (       calcParam-&gt;<a class="code" href="../../d7/d3/structCMCalcParam.html#o7">cmOutputPixelOffset</a> == 3 ||
00109                                 calcParam-&gt;<a class="code" href="../../d7/d3/structCMCalcParam.html#o7">cmOutputPixelOffset</a> == 6)){
00110                         <span class="keywordflow">return</span> <a class="code" href="../../d9/d3/w98_2lh__core_2calcndim_8c.html#a5">Calc323Dim_Data8To8_Lut16</a>( calcParam, lutParam );
00111                 }
00112                 <span class="keywordflow">if</span>(     lutParam-&gt;<a class="code" href="../../d0/d4/structCMLutParam.html#o7">colorLutOutDim</a> == 4 &amp;&amp;
00113                         (       calcParam-&gt;<a class="code" href="../../d7/d3/structCMCalcParam.html#o7">cmOutputPixelOffset</a> == 4 ||
00114                                 calcParam-&gt;<a class="code" href="../../d7/d3/structCMCalcParam.html#o7">cmOutputPixelOffset</a> == 8) ){
00115                         <span class="keywordflow">return</span> <a class="code" href="../../d9/d3/w98_2lh__core_2calcndim_8c.html#a6">Calc324Dim_Data8To8_Lut16</a>( calcParam, lutParam );
00116                 }
00117         }
00118         <span class="keywordflow">if</span>( lutParam-&gt;<a class="code" href="../../d0/d4/structCMLutParam.html#o6">colorLutInDim</a> == 4 &amp;&amp;
00119                 calcParam-&gt;<a class="code" href="../../d7/d3/structCMCalcParam.html#o6">cmInputPixelOffset</a> == 8 ){
00120                 <span class="keywordflow">if</span>(     lutParam-&gt;<a class="code" href="../../d0/d4/structCMLutParam.html#o7">colorLutOutDim</a> == 3 &amp;&amp;
00121                         (       calcParam-&gt;<a class="code" href="../../d7/d3/structCMCalcParam.html#o7">cmOutputPixelOffset</a> == 3 ||
00122                                 calcParam-&gt;<a class="code" href="../../d7/d3/structCMCalcParam.html#o7">cmOutputPixelOffset</a> == 6) ){
00123                         <span class="keywordflow">return</span> <a class="code" href="../../d9/d3/w98_2lh__core_2calcndim_8c.html#a7">Calc423Dim_Data8To8_Lut16</a>( calcParam, lutParam );
00124                 }
00125                 <span class="keywordflow">if</span>(     lutParam-&gt;<a class="code" href="../../d0/d4/structCMLutParam.html#o7">colorLutOutDim</a> == 4 &amp;&amp;
00126                         (       calcParam-&gt;<a class="code" href="../../d7/d3/structCMCalcParam.html#o7">cmOutputPixelOffset</a> == 4 ||
00127                                 calcParam-&gt;<a class="code" href="../../d7/d3/structCMCalcParam.html#o7">cmOutputPixelOffset</a> == 8) ){
00128                         <span class="keywordflow">return</span> <a class="code" href="../../d9/d3/w98_2lh__core_2calcndim_8c.html#a8">Calc424Dim_Data8To8_Lut16</a>( calcParam, lutParam );
00129                 }
00130         }
00131 <span class="preprocessor">#endif</span>
00132 <span class="preprocessor"></span>        
00133         inputData[0] = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)calcParam-&gt;<a class="code" href="../../d7/d3/structCMCalcParam.html#o8">inputData</a>[0];
00134         inputData[1] = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)calcParam-&gt;<a class="code" href="../../d7/d3/structCMCalcParam.html#o8">inputData</a>[1];
00135         inputData[2] = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)calcParam-&gt;<a class="code" href="../../d7/d3/structCMCalcParam.html#o8">inputData</a>[2];
00136         inputData[3] = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)calcParam-&gt;<a class="code" href="../../d7/d3/structCMCalcParam.html#o8">inputData</a>[3];
00137         inputData[4] = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)calcParam-&gt;<a class="code" href="../../d7/d3/structCMCalcParam.html#o8">inputData</a>[4];
00138         inputData[5] = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)calcParam-&gt;<a class="code" href="../../d7/d3/structCMCalcParam.html#o8">inputData</a>[5];
00139         inputData[6] = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)calcParam-&gt;<a class="code" href="../../d7/d3/structCMCalcParam.html#o8">inputData</a>[6];
00140         inputData[7] = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)calcParam-&gt;<a class="code" href="../../d7/d3/structCMCalcParam.html#o8">inputData</a>[7];
00141 
00142         outputData[0] = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)calcParam-&gt;<a class="code" href="../../d7/d3/structCMCalcParam.html#o9">outputData</a>[0];
00143         outputData[1] = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)calcParam-&gt;<a class="code" href="../../d7/d3/structCMCalcParam.html#o9">outputData</a>[1];
00144         outputData[2] = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)calcParam-&gt;<a class="code" href="../../d7/d3/structCMCalcParam.html#o9">outputData</a>[2];
00145         outputData[3] = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)calcParam-&gt;<a class="code" href="../../d7/d3/structCMCalcParam.html#o9">outputData</a>[3];
00146         outputData[4] = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)calcParam-&gt;<a class="code" href="../../d7/d3/structCMCalcParam.html#o9">outputData</a>[4];
00147         outputData[5] = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)calcParam-&gt;<a class="code" href="../../d7/d3/structCMCalcParam.html#o9">outputData</a>[5];
00148         outputData[6] = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)calcParam-&gt;<a class="code" href="../../d7/d3/structCMCalcParam.html#o9">outputData</a>[6];
00149         outputData[7] = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)calcParam-&gt;<a class="code" href="../../d7/d3/structCMCalcParam.html#o9">outputData</a>[7];
00150         InputIncrement = calcParam-&gt;<a class="code" href="../../d7/d3/structCMCalcParam.html#o6">cmInputPixelOffset</a>;
00151         OutputIncrement = calcParam-&gt;<a class="code" href="../../d7/d3/structCMCalcParam.html#o7">cmOutputPixelOffset</a>;
00152         inputDataRowOffset = calcParam-&gt;<a class="code" href="../../d7/d3/structCMCalcParam.html#o4">cmInputBytesPerLine</a> - calcParam-&gt;<a class="code" href="../../d7/d3/structCMCalcParam.html#o2">cmPixelPerLine</a> * calcParam-&gt;<a class="code" href="../../d7/d3/structCMCalcParam.html#o6">cmInputPixelOffset</a> + InputIncrement;
00153         outputDataRowOffset = calcParam-&gt;<a class="code" href="../../d7/d3/structCMCalcParam.html#o5">cmOutputBytesPerLine</a> - calcParam-&gt;<a class="code" href="../../d7/d3/structCMCalcParam.html#o2">cmPixelPerLine</a> * calcParam-&gt;<a class="code" href="../../d7/d3/structCMCalcParam.html#o7">cmOutputPixelOffset</a> + OutputIncrement;
00154 
00155         Pixelcount = calcParam-&gt;<a class="code" href="../../d7/d3/structCMCalcParam.html#o2">cmPixelPerLine</a>;
00156         LineCount = calcParam-&gt;<a class="code" href="../../d7/d3/structCMCalcParam.html#o3">cmLineCount</a>;
00157 
00158         aElutAdrSize = lutParam-&gt;<a class="code" href="../../d0/d4/structCMLutParam.html#o0">inputLutEntryCount</a>;
00159         <span class="keywordflow">for</span> ( i = 1; (i &lt; 32) &amp;&amp; (aElutAdrSize &gt;&gt; i); i++)
00160                 aElutAdrShift = i;
00161         aElutWordSize = lutParam-&gt;<a class="code" href="../../d0/d4/structCMLutParam.html#o1">inputLutWordSize</a>;
00162         aAlutAdrSize = lutParam-&gt;<a class="code" href="../../d0/d4/structCMLutParam.html#o3">outputLutEntryCount</a>;
00163         <span class="keywordflow">for</span> ( i = 1; (i &lt; 32) &amp;&amp; (aAlutAdrSize &gt;&gt; i); i++)
00164                 aAlutAdrShift = i;
00165         aAlutWordSize = lutParam-&gt;<a class="code" href="../../d0/d4/structCMLutParam.html#o4">outputLutWordSize</a>;
00166         aXlutInDim = lutParam-&gt;<a class="code" href="../../d0/d4/structCMLutParam.html#o6">colorLutInDim</a>;
00167         aXlutOutDim = lutParam-&gt;<a class="code" href="../../d0/d4/structCMLutParam.html#o7">colorLutOutDim</a>;
00168         aXlutAdrSize = lutParam-&gt;<a class="code" href="../../d0/d4/structCMLutParam.html#o8">colorLutGridPoints</a>;
00169         <span class="keywordflow">for</span> ( i = 1; (i &lt; 32) &amp;&amp; (aXlutAdrSize &gt;&gt; i); i++)
00170                 aXlutAdrShift = i;
00171         aXlutWordSize = lutParam-&gt;<a class="code" href="../../d0/d4/structCMLutParam.html#o9">colorLutWordSize</a>;
00172 
00173         aInputPackMode8Bit = calcParam-&gt;<a class="code" href="../../d7/d3/structCMCalcParam.html#o0">cmInputColorSpace</a> &amp; <a class="code" href="../../d2/d6/lh__open_2pi__app_8h.html#a150a51">cm8PerChannelPacking</a> || calcParam-&gt;<a class="code" href="../../d7/d3/structCMCalcParam.html#o0">cmInputColorSpace</a> &amp; <a class="code" href="../../d2/d6/lh__open_2pi__app_8h.html#a150a46">cmLong8ColorPacking</a>;
00174         aOutputPackMode8Bit = calcParam-&gt;<a class="code" href="../../d7/d3/structCMCalcParam.html#o1">cmOutputColorSpace</a> &amp; <a class="code" href="../../d2/d6/lh__open_2pi__app_8h.html#a150a51">cm8PerChannelPacking</a> || calcParam-&gt;<a class="code" href="../../d7/d3/structCMCalcParam.html#o1">cmOutputColorSpace</a> &amp; <a class="code" href="../../d2/d6/lh__open_2pi__app_8h.html#a150a46">cmLong8ColorPacking</a>;
00175         
00176     <span class="comment">/*DebugPrint("DoNDim with %d input elements\n",aByteCount);*/</span>
00177 <span class="preprocessor">        #if FARBR_FILES</span>
00178 <span class="preprocessor"></span>        WriteLuts(      <span class="stringliteral">"DoNDim"</span>,1,aElutAdrSize,aElutWordSize,ein_lut,
00179                                 aXlutInDim,aXlutOutDim,aXlutAdrSize,aXlutWordSize,(LH_UINT16 *)Xlut,aAlutAdrSize,aAlutWordSize,(LH_UINT16 *)aus_lut);
00180 <span class="preprocessor">    #endif</span>
00181 <span class="preprocessor"></span>
00182         i=0;
00183                         
00184         
00185         <span class="keywordflow">if</span>( calcParam-&gt;<a class="code" href="../../d7/d3/structCMCalcParam.html#o10">copyAlpha</a> )aCopyAlpha = 1;
00186         <span class="keywordflow">else</span> aCopyAlpha = 0;
00187         <span class="keywordflow">if</span>( aXlutInDim &gt; 7 || aXlutOutDim &gt; 7 )aCopyAlpha = 0;
00188         <span class="keywordflow">if</span>( aInputPackMode8Bit != aOutputPackMode8Bit )aCopyAlpha = 0;
00189         
00190         nDim=aXlutInDim;
00191         
00192         <span class="keywordflow">if</span>( aInputPackMode8Bit ){
00193                 <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a> = aElutAdrShift-8;
00194                 <span class="keywordflow">if</span>( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a> &lt; 0 )
00195                 {
00196 <span class="preprocessor">                        #ifdef DEBUG_OUTPUT</span>
00197 <span class="preprocessor"></span>                        <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"¥ DoNDim-Error: aElutShift &lt; 0 (aElutShift = %d)\n"</span>,aElutShift);
00198 <span class="preprocessor">                        #endif</span>
00199 <span class="preprocessor"></span>                        <span class="keywordflow">return</span> <a class="code" href="../../d2/d6/lh__open_2pi__app_8h.html#a149a30">cmparamErr</a>;
00200                 }
00201         }
00202         <span class="keywordflow">else</span>{
00203                 <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a> = 16-aElutAdrShift;
00204                 <span class="keywordflow">if</span>( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a> &lt; 0 )
00205                 {
00206 <span class="preprocessor">                        #ifdef DEBUG_OUTPUT</span>
00207 <span class="preprocessor"></span>                        <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"¥ DoNDim-Error: aElutShift &lt; 0 (aElutShift = %d)\n"</span>,aElutShift);
00208 <span class="preprocessor">                        #endif</span>
00209 <span class="preprocessor"></span>                        <span class="keywordflow">return</span> <a class="code" href="../../d2/d6/lh__open_2pi__app_8h.html#a149a30">cmparamErr</a>;
00210                 }
00211         }
00212         
00213         <span class="keywordflow">if</span>( aOutputPackMode8Bit ){
00214                 aAlutShift = (aAlutWordSize-8);         
00215         }
00216         <span class="keywordflow">else</span>{
00217                 aAlutShift = (16 - aAlutWordSize);              
00218         }
00219         
00220 <span class="preprocessor">        #ifdef DEBUG_OUTPUT</span>
00221 <span class="preprocessor"></span>                <span class="keywordflow">if</span> ( DebugCheck(kThisFile, kDebugReserved1) ){
00222                     <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"aElutAdrSize=%lx,aElutAdrShift=%lx,aElutWordSize=%lx,ein_lut=%lx,\n"</span>,
00223                                                 aElutAdrSize,aElutAdrShift,aElutWordSize,ein_lut);
00224                         <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"aAlutAdrSize=%lx,aAlutAdrShift=%lx,aAlutWordSize=%lx,aus_lut=%lx,\n"</span>,
00225                                                 aAlutAdrSize,aAlutAdrShift,aAlutWordSize,aus_lut);
00226                         <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"aXlutInDim=%lx,aXlutOutDim=%lx,aXlutAdrSize=%lx,aXlutAdrShift=%lx,aXlutWordSize=%lx,Xlut=%lx,\n"</span>,
00227                                                 aXlutInDim,aXlutOutDim,aXlutAdrSize,aXlutAdrShift,aXlutWordSize,Xlut);
00228                         <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"aInputPackMode8Bit=%lx,aOutputPackMode8Bit=%lx\n"</span>,
00229                                                 aInputPackMode8Bit,aOutputPackMode8Bit );
00230                 }
00231 <span class="preprocessor">    #endif</span>
00232 <span class="preprocessor"></span>    <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a7">aElutShiftNum</a> = 1&lt;&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>;
00233     
00234     <span class="comment">/*if( 1 )*/</span>
00235     <span class="keywordflow">if</span>( aXlutAdrSize != (1&lt;&lt;aXlutAdrShift )){
00236     <span class="keyword">register</span> <span class="keywordtype">long</span> aXlutOffset;
00237 <span class="preprocessor">#if FARBR_DEBUG</span>
00238 <span class="preprocessor"></span>    <span class="keyword">register</span> <span class="keywordtype">long</span> aXlutPlaneOffset;
00239 <span class="preprocessor">#endif</span>
00240 <span class="preprocessor"></span>    <span class="keywordtype">long</span> theXlutOffsets[8]; 
00241     <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> aAlutInShift;
00242     <span class="keyword">register</span> <span class="keywordtype">long</span> aAlutInShiftRemainder;
00243     <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> aAlutInShiftNum;
00244     <span class="keyword">register</span> <span class="keywordtype">long</span> aElutWordSizeMask = (1&lt;&lt;aElutWordSize) - 1;
00245     <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> aAlutRound;
00246    aAlutInShift = aXlutWordSize + aElutWordSize - aAlutAdrShift;
00247     aAlutInShiftRemainder = 0;
00248     <span class="keywordflow">if</span>( aAlutInShift &gt; 16 ){
00249         aAlutInShiftRemainder = aAlutInShift - 16;
00250         aAlutInShift = 16;
00251     }
00252     aAlutInShiftNum = (1&lt;&lt;aAlutInShift);
00253 
00254 <span class="preprocessor">#ifdef DEBUG_OUTPUT</span>
00255 <span class="preprocessor"></span>        <span class="keywordflow">if</span> ( DebugCheck(kThisFile, kDebugMiscInfo) )
00256             <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"  DoNDim gripoints = %ld\n"</span>,aXlutAdrSize);
00257 <span class="preprocessor">#endif</span>
00258 <span class="preprocessor"></span>    <span class="keywordflow">if</span>( aElutWordSize &lt;= 0 ){
00259 <span class="preprocessor">#ifdef DEBUG_OUTPUT</span>
00260 <span class="preprocessor"></span>        <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"¥ DoNDim-Error: (1&lt;&lt;aElutWordSize)/aXlutAdrSize &lt;= 0 %d\n"</span>,(1&lt;&lt;aElutWordSize)/aXlutAdrSize);
00261 <span class="preprocessor">#endif</span>
00262 <span class="preprocessor"></span>        <span class="keywordflow">return</span> <a class="code" href="../../d2/d6/lh__open_2pi__app_8h.html#a149a30">cmparamErr</a>;
00263     }
00264     <span class="keywordflow">if</span>( aAlutInShift &lt;= 0 ){
00265 <span class="preprocessor">#ifdef DEBUG_OUTPUT</span>
00266 <span class="preprocessor"></span>        <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"¥ DoNDim-Error: aAlutInShift &lt;= 0 %d\n"</span>,aAlutInShift);
00267 <span class="preprocessor">#endif</span>
00268 <span class="preprocessor"></span>        <span class="keywordflow">return</span> <a class="code" href="../../d2/d6/lh__open_2pi__app_8h.html#a149a30">cmparamErr</a>;
00269     }
00270     aXlutOffset =aXlutOutDim;
00271     <span class="keywordflow">for</span>( i=0; i&lt;(<span class="keywordtype">long</span>)nDim; i++){
00272         theXlutOffsets[ nDim-1-i] = aXlutOffset;
00273         aXlutOffset *=aXlutAdrSize;
00274     }
00275         aAlutRound = 1&lt;&lt;( aAlutInShift + aAlutShift - 1 );
00276 
00277 <span class="preprocessor">#ifdef DEBUG_OUTPUT</span>
00278 <span class="preprocessor"></span>        <span class="keywordflow">if</span> ( DebugCheck(kThisFile, kDebugReserved1) )
00279             <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">" aElutWordSize((1&lt;&lt;aElutWordSize)-0) = %ld\n aAlutInShift:((1&lt;&lt;aXlutWordSize)*aElutWordSize+(aAlutAdrSize/2))/aAlutAdrSize = %ld\n"</span>,aElutWordSize,aAlutInShift);
00280 <span class="preprocessor">#endif</span>
00281 <span class="preprocessor"></span>    
00282         <span class="keywordflow">while</span> (LineCount){
00283                 i = Pixelcount;
00284                 
00285                 <span class="keywordflow">while</span> (i){
00286         
00287                 <span class="keywordtype">long</span> adr[8],<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[8];
00288                 <a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> ein_reg[8];
00289                 <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>  adrAdr,ko,adrOffset;
00290         
00291                 adr0=0;
00292                         aElutOffset = 0;
00293                         jj=0;
00294                         <span class="keywordflow">if</span>( aInputPackMode8Bit ){
00295                                 <span class="keywordflow">for</span>( ii=0; ii&lt;nDim; ii++){ 
00296                                 jj=ein_lut[((*(<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)&amp;ein_Cache[ii]=*inputData[ii])&lt;&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>)+aElutOffset];
00297                                 jj *= aXlutAdrSize;
00298                                 aElutOffset += aElutAdrSize;
00299                                 adr[ii] = jj &amp; aElutWordSizeMask;
00300                                 jj = jj &gt;&gt; aElutWordSize;
00301                                 adr0 += (jj)*theXlutOffsets[ii];
00302                                 ein_reg[ii] = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)jj;
00303                                 }
00304                         }
00305                         <span class="keywordflow">else</span>{
00306                                 <span class="keywordflow">for</span>( ii=0; ii&lt;nDim; ii++){ 
00307                                 jj=ein_Cache[ii]=(*(<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)inputData[ii]);
00308                                         ko0 = jj - ( jj &gt;&gt; ( aElutAdrShift ));
00309                                         ko = ko0 &amp; ( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a7">aElutShiftNum</a> - 1 );
00310                                         ko0 = ko0 &gt;&gt; <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>;
00311                                         ko0 += aElutOffset;
00312                                 jj = ( ein_lut[ ko0 ] * ( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a7">aElutShiftNum</a> - ko ) + ein_lut[ ko0 +1 ] * ko ) &gt;&gt; <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>;
00313         
00314                                 jj *= aXlutAdrSize;
00315                                 aElutOffset += aElutAdrSize;
00316                                 adr[ii] = jj &amp; aElutWordSizeMask;
00317                                 jj = jj &gt;&gt; aElutWordSize;
00318                                 adr0 += (jj)*theXlutOffsets[ii];
00319                                 ein_reg[ii] = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)jj;
00320                                 }
00321                         }
00322         
00323 <span class="preprocessor">        #if FARBR_DEBUG</span>
00324 <span class="preprocessor"></span>                aXlutPlaneOffset = nDim;
00325         <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"i=%ld o=%ld\n"</span>,i,o);
00326         <span class="keywordflow">if</span>( aInputPackMode &lt; k3ShortsUnpacked ){ <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"ein_arr=(d)"</span>);<span class="keywordflow">for</span>(ii=0; ii&lt;nDim; ++ii) <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"%ld "</span>,ein_arr[i+ii]); <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"\n"</span>);}
00327         <span class="keywordflow">else</span>{ <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"ein_arr=(d)"</span>);<span class="keywordflow">for</span>(ii=0; ii&lt;nDim; ++ii) <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"%ld "</span>,aEinArr[i+ii]); <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"\n"</span>);}
00328         <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"ein_reg=(d)"</span>);<span class="keywordflow">for</span>(ii=0; ii&lt;nDim; ++ii) <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"%ld "</span>,ein_reg[ii]/aXlutAdrSize); <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"\n"</span>);
00329             <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"adr=(d)"</span>);<span class="keywordflow">for</span>( ii=0; ii&lt;nDim; ++ii) <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"%ld "</span>,adr[ii] ); <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"\n"</span>);
00330 <span class="preprocessor">        #endif</span>
00331 <span class="preprocessor"></span>
00332         {                                                               <span class="comment">/* a kind of*/</span>
00333                         <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> Top, Gap;
00334                         <span class="keyword">register</span> <span class="keywordtype">long</span> <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a>,Switches;
00335                         
00336                         Gap = nDim;
00337                         
00338                         <span class="keywordflow">for</span>( ii=0; ii&lt;nDim; ++ii){
00339                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[ii] = ii;
00340                         }
00341                         <span class="keywordflow">do</span>{
00342                                 <span class="comment">/*Gap = (Gap * 10 ) / SHRINK_FACTOR;*/</span>
00343                                 Gap = (Gap * ((10*16)/<a class="code" href="../../d8/d3/lh__core_2calcndim_8c.html#a1">SHRINK_FACTOR</a>) ) &gt;&gt;4;
00344                                 <span class="keywordflow">if</span>( Gap == 0 ) Gap = 1;
00345                                 Switches = 0;
00346                                 Top = nDim - Gap;
00347                                 <span class="keywordflow">for</span>( ii=0; ii&lt;Top; ++ii){
00348                                         jj = ii + Gap;
00349                                         <span class="keywordflow">if</span>( adr[<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[ii]] &lt; adr[<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[jj]] ){
00350                                                 <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a> = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[ii];
00351                                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[ii] = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[jj];
00352                                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[jj] = <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a>;
00353                                                 Switches = 1;
00354                                         }
00355                                 }
00356                         }<span class="keywordflow">while</span>( Switches || Gap &gt; 1 );
00357                 }
00358 <span class="preprocessor">                #if FARBR_DEBUG</span>
00359 <span class="preprocessor"></span>            <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"Index="</span>);
00360             <span class="keywordflow">for</span>( ii=0; ii&lt;nDim; ++ii){
00361                 <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"%3ld "</span>,Index[ii] );
00362             }
00363             <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"\n"</span>);
00364 <span class="preprocessor">        #endif</span>
00365 <span class="preprocessor"></span>
00366         <span class="keywordflow">for</span>( jj=0; jj&lt;aXlutOutDim; ++jj)accu[jj]=0;
00367 
00368         ko0 = (1&lt;&lt;aElutWordSize);
00369         adrAdr=adr0;
00370         adrOffset=0;
00371         <span class="keywordflow">if</span>( aXlutWordSize  == 16 ){
00372             <span class="keywordflow">for</span>( ii=0; ii&lt;nDim; ++ii){
00373                 jj = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[ii];
00374                 ko = ko0 - adr[jj];
00375                 ko0 = adr[jj];
00376 
00377                 <span class="keywordflow">if</span>( ein_reg[jj] &lt; (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)(aXlutAdrSize-1) )
00378                     adrOffset += theXlutOffsets[jj];
00379 
00380                    <span class="keywordflow">for</span>( jj=0; jj&lt;aXlutOutDim; ++jj){                            
00381 <span class="preprocessor">#if FARBR_DEBUG</span>
00382 <span class="preprocessor"></span>                    <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"jj=(d)%ld adrAdr=%lx Address=%lx Xlut[Address]=(d)%ld ko=(d)%ld\n"</span>,jj,adrAdr,adrAdr+(jj*aXlutPlaneOffset),Xlut[adrAdr+(jj*aXlutPlaneOffset)],ko);
00383 <span class="preprocessor">#endif</span>
00384 <span class="preprocessor"></span>                    accu[jj]+=Xlut[adrAdr+(jj)]*ko;
00385                 }
00386 
00387                 adrAdr = (adr0 + adrOffset);
00388             }
00389                <span class="keywordflow">for</span>( jj=0; jj&lt;aXlutOutDim; ++jj){                                
00390 <span class="preprocessor">#if FARBR_DEBUG</span>
00391 <span class="preprocessor"></span>                    <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"jj=(d)%ld adrAdr=%lx Address=%lx Xlut[Address]=(d)%ld ko=(d)%ld\n"</span>,jj,adrAdr,adrAdr+(jj*aXlutPlaneOffset),Xlut[adrAdr+(jj*aXlutPlaneOffset)],ko0);
00392 <span class="preprocessor">#endif</span>
00393 <span class="preprocessor"></span>                accu[jj]+=Xlut[adrAdr+jj]*ko0;
00394             }
00395         }
00396         <span class="keywordflow">else</span>{
00397 
00398             <span class="keywordflow">for</span>( ii=0; ii&lt;nDim; ++ii){
00399                 jj = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[ii];
00400                 ko = ko0 - adr[jj];
00401                 ko0 = adr[jj];
00402 
00403                 <span class="keywordflow">if</span>( ein_reg[jj] &lt; (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)(aXlutAdrSize-1) )
00404                     adrOffset += theXlutOffsets[jj];
00405 
00406                    <span class="keywordflow">for</span>( jj=0; jj&lt;aXlutOutDim; ++jj){                            
00407 <span class="preprocessor">#if FARBR_DEBUG</span>
00408 <span class="preprocessor"></span>                    <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"jj=(d)%ld adrAdr=%lx Address=%lx Xlut[Address]=(d)%ld ko=(d)%ld\n"</span>,jj,adrAdr,adrAdr+(jj*aXlutPlaneOffset),Xlut[adrAdr+(jj*aXlutPlaneOffset)],ko);
00409 <span class="preprocessor">#endif</span>
00410 <span class="preprocessor"></span>                    accu[jj]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(jj)]*ko;
00411                 }
00412 
00413                 adrAdr = (adr0 + adrOffset);
00414             }
00415                <span class="keywordflow">for</span>( jj=0; jj&lt;aXlutOutDim; ++jj){                                
00416 <span class="preprocessor">#if FARBR_DEBUG</span>
00417 <span class="preprocessor"></span>                    <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"jj=(d)%ld adrAdr=%lx Address=%lx Xlut[Address]=(d)%ld ko=(d)%ld\n"</span>,jj,adrAdr,adrAdr+(jj*aXlutPlaneOffset),Xlut[adrAdr+(jj*aXlutPlaneOffset)],ko0);
00418 <span class="preprocessor">#endif</span>
00419 <span class="preprocessor"></span>                accu[jj]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+jj]*ko0;
00420                 <span class="comment">/*ii = accu[jj]+((LH_UINT8 *)Xlut)[adrAdr+jj]*ko0;</span>
00421 <span class="comment">                accu[jj] = ii +( ii &gt;&gt; 8 );*/</span>
00422             }
00423         }
00424 
00425 <span class="preprocessor">#if FARBR_DEBUG</span>
00426 <span class="preprocessor"></span>        <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"accu=(d)"</span>);<span class="keywordflow">for</span>( ii=0; ii&lt;aXlutOutDim; ++ii) <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"%3ld "</span>,accu[ii] ); <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"\n"</span>);
00427 <span class="preprocessor">#endif</span>
00428 <span class="preprocessor"></span>                aAlutOffset = 0;
00429 
00430                 <span class="keywordflow">if</span>( aOutputPackMode8Bit ){
00431                         <span class="keywordflow">for</span>( ii=0; ii&lt;aXlutOutDim; ++ii){
00432 <span class="preprocessor">        #if FARBR_DEBUG</span>
00433 <span class="preprocessor"></span>                        ii = ((accu[ii]) &gt;&gt; aAlutInShift)+aAlutOffset;
00434                         <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"adr:((accu[ii]) &gt;&gt; aAlutInShift)+aAlutOffset = %ld\n"</span>,ii);
00435                         <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"aus_lut[%ld]=%ld aus_lut[%ld]=%ld aus_lut[%ld]=%ld \n"</span>,ii-1,aus_lut[ii-1],ii,aus_lut[ii],ii+1,aus_lut[ii+1]);
00436 <span class="preprocessor">        #endif</span>
00437 <span class="preprocessor"></span>                                        jj = accu[ii];
00438                                         jj = jj + ( jj &gt;&gt; aXlutWordSize );
00439 
00440                                         ko0 = (jj - ( jj &gt;&gt; ( aAlutAdrShift ))) &gt;&gt; aAlutInShiftRemainder;       <span class="comment">/*      aAlutInShift = aXlutWordSize + aElutWordSize - aAlutAdrShift;*/</span>
00441 
00442                                         ko = ko0 &amp; (aAlutInShiftNum - 1 );
00443                                         ko0 = ko0 &gt;&gt; aAlutInShift;
00444                                         ko0 += aAlutOffset;
00445                                         <span class="keywordflow">if</span>( aAlutWordSize &lt;= 8)
00446                                         jj = ( ((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a>*)aus_lut)[ ko0 ] * ( aAlutInShiftNum - ko ) + ((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a>*)aus_lut)[ ko0 +1 ] * ko ) &gt;&gt; ( aAlutInShift );
00447                                         <span class="keywordflow">else</span>{
00448                                         jj = ( aus_lut[ ko0 ] * ( aAlutInShiftNum - ko ) + aus_lut[ ko0 +1 ] * ko );
00449                                                 jj = jj - ( jj &gt;&gt; aAlutShift );
00450                                                 jj = ( jj + aAlutRound ) &gt;&gt; (aAlutInShift + aAlutShift);
00451                                         }
00452                                         *outputData[ii] = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a>)jj;
00453                         aAlutOffset += aAlutAdrSize;
00454                     }
00455                 }
00456                 <span class="keywordflow">else</span>{
00457                                 <span class="keywordflow">if</span>( aXlutWordSize &gt;= 16 ){
00458                                         <span class="keywordflow">for</span>( ii=0; ii&lt;aXlutOutDim; ++ii){
00459                                                 jj = accu[ii];
00460                                                 jj = jj + ( jj &gt;&gt; aXlutWordSize );
00461                                 ko0 = (jj - ( jj &gt;&gt; ( aAlutAdrShift ))) &gt;&gt; aAlutInShiftRemainder; <span class="comment">/*    aAlutInShift = aXlutWordSize + aElutWordSize - aAlutAdrShift;*/</span>
00462                 
00463                                                 ko = ko0 &amp; (aAlutInShiftNum - 1 );
00464                                                 ko0 = ko0 &gt;&gt; aAlutInShift;
00465                                                 ko0 += aAlutOffset;
00466                                                 <span class="keywordflow">if</span>( aAlutWordSize &lt;= 8)
00467                                                 jj = ( ((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a>*)aus_lut)[ ko0 ] * ( aAlutInShiftNum - ko ) + ((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a>*)aus_lut)[ ko0 +1 ] * ko ) &lt;&lt; ( aAlutShift - aAlutInShift );
00468                                                 <span class="keywordflow">else</span>
00469                                                 jj = ( aus_lut[ ko0 ] * ( aAlutInShiftNum - ko ) + aus_lut[ ko0 +1 ] * ko ) &gt;&gt; (aAlutInShift- aAlutShift);
00470                                                 *((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)outputData[ii]) =  (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)jj;
00471                                                 aAlutOffset += aAlutAdrSize;
00472                                         }
00473                                 }
00474                                 <span class="keywordflow">else</span>{
00475                                         <span class="keywordflow">for</span>( ii=0; ii&lt;aXlutOutDim; ++ii){
00476                                                 jj = accu[ii];
00477                                                 jj = jj + ( jj &gt;&gt; aXlutWordSize ) + ( jj &gt;&gt; 2*aXlutWordSize );
00478                                 ko0 = (jj - ( jj &gt;&gt; ( aAlutAdrShift ))) ; <span class="comment">/*    aAlutInShift = aXlutWordSize + aElutWordSize - aAlutAdrShift;*/</span>
00479                 
00480                                                 ko = ko0 &amp; (aAlutInShiftNum - 1 );
00481                                                 ko0 = ko0 &gt;&gt; aAlutInShift;
00482                                                 ko0 += aAlutOffset;
00483                                                 <span class="keywordflow">if</span>( aAlutWordSize &lt;= 8)
00484                                                 jj = ( ((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a>*)aus_lut)[ ko0 ] * ( aAlutInShiftNum - ko ) + ((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a>*)aus_lut)[ ko0 +1 ] * ko ) &lt;&lt; ( aAlutShift - aAlutInShift );
00485                                                 <span class="keywordflow">else</span>
00486                                                 jj = ( aus_lut[ ko0 ] * ( aAlutInShiftNum - ko ) + aus_lut[ ko0 +1 ] * ko ) &gt;&gt; (aAlutInShift- aAlutShift);
00487                                                 *((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)outputData[ii]) =  (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)jj;
00488                                                 aAlutOffset += aAlutAdrSize;
00489                                         }
00490                                 }
00491                 }
00492 <span class="preprocessor">                #if FARBR_DEBUG</span>
00493 <span class="preprocessor"></span>                    <span class="keywordflow">if</span>( aOutputPackMode8Bit ){<a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"outputData=(d)"</span>);<span class="keywordflow">for</span>( ii=0; ii&lt;aXlutOutDim; ++ii) <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"%3ld "</span>,outputData[ii+o] ); <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"\n"</span>);}
00494                     <span class="keywordflow">else</span>{<a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"outputData=(d)"</span>);<span class="keywordflow">for</span>( ii=0; ii&lt;aXlutOutDim; ++ii) <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"%3ld "</span>,aAusArr[ii+o] ); <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"\n"</span>);}
00495 <span class="preprocessor">                        #endif</span>
00496 <span class="preprocessor"></span>                        <span class="keywordflow">if</span>( aCopyAlpha ){
00497                                 <span class="keywordflow">if</span>( aOutputPackMode8Bit )
00498                                         *outputData[aXlutOutDim] = *inputData[aXlutInDim];
00499                                 <span class="keywordflow">else</span>
00500                                         *((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)outputData[aXlutOutDim]) = *((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)inputData[aXlutInDim]);
00501                         }
00502                         <span class="keywordflow">while</span> (--i){
00503                                 <span class="keywordflow">for</span>( jj=0; jj&lt;aXlutInDim; ++jj){
00504                                         inputData[jj] += InputIncrement;
00505                                 }
00506                                 <span class="keywordflow">for</span>( jj=0; jj&lt;aXlutOutDim; ++jj){
00507                                         outputData[jj] += OutputIncrement;
00508                                 }
00509                                 <span class="keywordflow">if</span>( aCopyAlpha ){
00510                                         inputData[aXlutInDim] += InputIncrement;
00511                                         outputData[aXlutOutDim] += OutputIncrement;
00512                                 }
00513         
00514                                 <span class="keywordflow">if</span>( aInputPackMode8Bit ){
00515                                         <span class="keywordflow">for</span>( jj=0; jj&lt;aXlutInDim; ++jj){
00516                                                 <span class="keywordflow">if</span>( *inputData[jj] ^ *(<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)(&amp;ein_Cache[jj]) )<span class="keywordflow">break</span>;
00517                                         }
00518                                 }
00519                                 <span class="keywordflow">else</span>{
00520                                         <span class="keywordflow">for</span>( jj=0; jj&lt;aXlutInDim; ++jj){
00521                                                 <span class="keywordflow">if</span>( *((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)inputData[jj]) ^ ein_Cache[jj] )<span class="keywordflow">break</span>;
00522                                         }
00523                                 }
00524                                 <span class="keywordflow">if</span>( jj&lt;aXlutInDim ) <span class="keywordflow">break</span>;
00525                                 <span class="keywordflow">if</span>( aOutputPackMode8Bit ){
00526                                         <span class="keywordflow">for</span>( jj=0; jj&lt;aXlutOutDim; ++jj){
00527                                                 *outputData[jj] = outputData[jj][-(<span class="keywordtype">long</span>)OutputIncrement];
00528                                         }
00529                                         <span class="keywordflow">if</span>( aCopyAlpha ){
00530                                                 *outputData[aXlutOutDim] = *inputData[aXlutInDim];
00531                                         }
00532                                 }
00533                                 <span class="keywordflow">else</span>{
00534                                         <span class="keywordflow">for</span>( jj=0; jj&lt;aXlutOutDim; ++jj){
00535                                                 *((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)outputData[jj]) = *(<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)(&amp;outputData[jj][-(<span class="keywordtype">long</span>)OutputIncrement]);
00536                                         }
00537                                         <span class="keywordflow">if</span>( aCopyAlpha ){
00538                                                 *((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)outputData[aXlutOutDim]) = *((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)inputData[aXlutInDim]);
00539                                         }
00540                                 }
00541                         }
00542                 }
00543                 
00544                 <span class="keywordflow">if</span>( --LineCount ){
00545                         <span class="keywordflow">for</span>( jj=0; jj&lt;aXlutInDim; ++jj){
00546                                 inputData[jj] += inputDataRowOffset;
00547                         }
00548                         <span class="keywordflow">for</span>( jj=0; jj&lt;aXlutOutDim; ++jj){
00549                                 outputData[jj] += outputDataRowOffset;
00550                         }
00551                         <span class="keywordflow">if</span>( aCopyAlpha ){
00552                                 inputData[aXlutInDim] += inputDataRowOffset;
00553                                 outputData[aXlutOutDim] += outputDataRowOffset;
00554                         }
00555                 }
00556     }
00557     }
00558     <span class="keywordflow">else</span>{
00559 
00560     <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>  bit_breit_selektor;
00561     <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>  bit_maske_selektor;
00562     <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>  bit_breit_adr;
00563     <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>  bit_maske_adr;
00564     <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>  aAlutInShiftNum;
00565     <span class="keyword">register</span> <span class="keywordtype">long</span> aAlutInShift;
00566     <span class="keyword">register</span> <span class="keywordtype">long</span> aAlutInShiftRemainder;
00567     <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> aAlutRound;
00568     <span class="comment">/*register long aXlutPlaneShift = aXlutAdrShift*aXlutInDim;*/</span>
00569     bit_breit_selektor=aElutWordSize-aXlutAdrShift;
00570     <span class="keywordflow">if</span>( aElutWordSize-aXlutAdrShift &lt; 0 )
00571     {
00572 <span class="preprocessor">#ifdef DEBUG_OUTPUT</span>
00573 <span class="preprocessor"></span>        <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"¥ DoNDim-Error: bit_breit_selektor &lt; 0 (bit_breit_selektor = %d)\n"</span>,bit_breit_selektor);
00574 <span class="preprocessor">#endif</span>
00575 <span class="preprocessor"></span>        <span class="keywordflow">return</span> <a class="code" href="../../d2/d6/lh__open_2pi__app_8h.html#a149a30">cmparamErr</a>;
00576     }
00577     bit_maske_selektor=(1&lt;&lt;bit_breit_selektor)-1;
00578     bit_breit_adr=aXlutAdrShift;
00579     bit_maske_adr=((1&lt;&lt;bit_breit_adr)-1)&lt;&lt;bit_breit_selektor;
00580     aAlutInShift = (aXlutWordSize+bit_breit_selektor-aAlutAdrShift);
00581     <span class="comment">/*aAlutInShift = aXlutWordSize + aElutWordSize - aAlutAdrShift;*/</span>
00582     aAlutInShiftRemainder = 0;
00583     <span class="keywordflow">if</span>( aAlutInShift &gt; 16 ){
00584         aAlutInShiftRemainder = aAlutInShift - 16;
00585         aAlutInShift = 16;
00586     }
00587         
00588     aAlutInShiftNum = (1&lt;&lt;aAlutInShift);
00589     
00590         aAlutRound = 1&lt;&lt;( aAlutInShift + aAlutShift - 1 );
00591         <span class="keywordflow">while</span> (LineCount){
00592                 i = Pixelcount;
00593                 
00594                 <span class="keywordflow">while</span> (i){
00595         
00596                 <span class="keywordtype">long</span> adr[8],<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[8];
00597                 <span class="comment">/*LH_UINT16 *ein_lut = (LH_UINT16 *)ein_lut;*/</span>
00598                 <a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> ein_reg[8];
00599                    <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>  adrAdr,ko,adrOffset;
00600                 <span class="comment">/*register unsigned long aIndex;*/</span>
00601         
00602                 adr0=0;
00603                 aElutOffset = 0;
00604                 jj=0;
00605                         <span class="keywordflow">if</span>( aInputPackMode8Bit ){
00606                     <span class="keywordflow">for</span>( ii=0; ii&lt;nDim; ii++){ 
00607                         jj=ein_lut[((*(<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)&amp;ein_Cache[ii]=*inputData[ii])&lt;&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>)+aElutOffset];
00608                         aElutOffset += aElutAdrSize;
00609                         adr[ii] = (jj &amp; bit_maske_selektor);
00610                         adr0 |= ((jj &amp; bit_maske_adr)&gt;&gt;bit_breit_selektor)&lt;&lt;((nDim-ii-1)*bit_breit_adr);
00611                         ein_reg[ii] = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)jj;
00612                     }
00613                 }
00614                 <span class="keywordflow">else</span>{
00615                     <span class="keywordflow">for</span>( ii=0; ii&lt;nDim; ii++){ 
00616                         jj=ein_Cache[ii]=(*(<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)inputData[ii]);
00617                         ko0 = jj - ( jj &gt;&gt; ( aElutAdrShift ));
00618                         ko = ko0 &amp; ( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a7">aElutShiftNum</a> - 1 );
00619                         ko0 = ko0 &gt;&gt; <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>;
00620                         ko0 += aElutOffset;
00621                            jj = ( ein_lut[ ko0 ] * ( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a7">aElutShiftNum</a> - ko ) + ein_lut[ ko0 +1 ] * ko ) &gt;&gt; <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>;
00622         
00623                         aElutOffset += aElutAdrSize;
00624                         adr[ii] = (jj &amp; bit_maske_selektor);
00625                         adr0 |= ((jj &amp; bit_maske_adr)&gt;&gt;bit_breit_selektor)&lt;&lt;((nDim-ii-1)*bit_breit_adr);
00626                         ein_reg[ii] = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)jj;
00627                     }
00628                 }
00629         
00630                 adr0 *= aXlutOutDim;
00631 <span class="preprocessor">        #if FARBR_DEBUG</span>
00632 <span class="preprocessor"></span>                <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"i=%ld o=%ld\n"</span>,i,o);
00633                 <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"adr0=%ld\n"</span>,adr0);
00634                 <span class="keywordflow">if</span>( aInputPackMode &lt; k3ShortsUnpacked ){ <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"ein_arr=(d)"</span>);<span class="keywordflow">for</span>(ii=0; ii&lt;nDim; ++ii) <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"%ld "</span>,ein_arr[i+ii]); <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"\n"</span>);}
00635                 <span class="keywordflow">else</span>{ <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"ein_arr=(d)"</span>);<span class="keywordflow">for</span>(ii=0; ii&lt;nDim; ++ii) <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"%ld "</span>,aEinArr[i+ii]); <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"\n"</span>);}
00636                 <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"ein_reg=(d)"</span>);<span class="keywordflow">for</span>(ii=0; ii&lt;nDim; ++ii) <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"%ld "</span>,ein_reg[ii]); <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"\n"</span>);
00637                 <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"adr=(d)"</span>);<span class="keywordflow">for</span>( ii=0; ii&lt;nDim; ++ii) <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"%ld "</span>,adr[ii] ); <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"\n"</span>);
00638 <span class="preprocessor">        #endif</span>
00639 <span class="preprocessor"></span>        
00640                    {                                                            <span class="comment">/* a kind of */</span>
00641                     <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> Top, Gap;
00642                     <span class="keyword">register</span> <span class="keywordtype">long</span> <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a>,Switches;
00643                     
00644                     Gap = nDim;
00645                     
00646                     <span class="keywordflow">for</span>( ii=0; ii&lt;nDim; ++ii){
00647                         <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[ii] = ii;
00648                     }
00649                     <span class="keywordflow">do</span>{
00650                         <span class="comment">/*Gap = (Gap * 10 ) / SHRINK_FACTOR;*/</span>
00651                         Gap = (Gap * ((10*16)/<a class="code" href="../../d8/d3/lh__core_2calcndim_8c.html#a1">SHRINK_FACTOR</a>) ) &gt;&gt;4;
00652                         <span class="keywordflow">if</span>( Gap == 0 ) Gap = 1;
00653                         Switches = 0;
00654                         Top = nDim - Gap;
00655                         <span class="keywordflow">for</span>( ii=0; ii&lt;Top; ++ii){
00656                             jj = ii + Gap;
00657                             <span class="keywordflow">if</span>( adr[<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[ii]] &lt; adr[<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[jj]] ){
00658                                 <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a> = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[ii];
00659                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[ii] = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[jj];
00660                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[jj] = <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a>;
00661                                 Switches = 1;
00662                             }
00663                         }
00664                     }<span class="keywordflow">while</span>( Switches || Gap &gt; 1 );
00665                 }
00666 <span class="preprocessor">        #if FARBR_DEBUG</span>
00667 <span class="preprocessor"></span>                <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"Index="</span>);
00668                 <span class="keywordflow">for</span>( ii=0; ii&lt;nDim; ++ii){
00669                     <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"%3ld "</span>,Index[ii] );
00670                 }
00671                 <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"\n"</span>);
00672 <span class="preprocessor">        #endif</span>
00673 <span class="preprocessor"></span>        
00674                    <span class="keywordflow">for</span>( jj=0; jj&lt;aXlutOutDim; ++jj)accu[jj]=0;
00675         
00676                 ko0 = bit_maske_selektor+1;
00677                 adrAdr=adr0;
00678                 adrOffset=0;
00679         
00680                 <span class="keywordflow">if</span>( aXlutWordSize  == 16 ){
00681                     <span class="keywordflow">for</span>( ii=0; ii&lt;nDim; ++ii){
00682                         jj = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[ii];
00683                         ko = ko0 - adr[jj];
00684                         ko0 = adr[jj];
00685         
00686                         <span class="keywordflow">if</span>( ein_reg[jj] &lt; bit_maske_adr )
00687                             adrOffset |= (1&lt;&lt;(nDim-1-jj)*bit_breit_adr);
00688         
00689                            <span class="keywordflow">for</span>( jj=0; jj&lt;aXlutOutDim; ++jj){                            
00690 <span class="preprocessor">        #if FARBR_DEBUG</span>
00691 <span class="preprocessor"></span>                            <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"jj=(d)%ld adrAdr=%lx Address=%lx Xlut[Address]=(d)%ld ko=(d)%ld\n"</span>,jj,adrAdr,adrAdr+(jj),Xlut[adrAdr+(jj)],ko);
00692 <span class="preprocessor">        #endif</span>
00693 <span class="preprocessor"></span>                            accu[jj]+=Xlut[adrAdr+(jj)]*ko;
00694                         }
00695         
00696                         adrAdr = (adr0 + aXlutOutDim*adrOffset);
00697                     }
00698                        <span class="keywordflow">for</span>( jj=0; jj&lt;aXlutOutDim; ++jj){                                
00699 <span class="preprocessor">        #if FARBR_DEBUG</span>
00700 <span class="preprocessor"></span>                            <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"jj=(d)%ld adrAdr=%lx Address=%lx Xlut[Address]=(d)%ld ko=(d)%ld\n"</span>,jj,adrAdr,adrAdr+(jj),Xlut[adrAdr+(jj)],ko0);
00701 <span class="preprocessor">        #endif</span>
00702 <span class="preprocessor"></span>                        accu[jj]+=Xlut[adrAdr+(jj)]*ko0;
00703                     }
00704                 }
00705                 <span class="keywordflow">else</span>{
00706         
00707                     <span class="keywordflow">for</span>( ii=0; ii&lt;nDim; ++ii){
00708                         jj = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[ii];
00709                         ko = ko0 - adr[jj];
00710                         ko0 = adr[jj];
00711         
00712                         <span class="keywordflow">if</span>( ein_reg[jj] &lt; bit_maske_adr )
00713                             adrOffset |= (1&lt;&lt;(nDim-1-jj)*bit_breit_adr);
00714         
00715                            <span class="keywordflow">for</span>( jj=0; jj&lt;aXlutOutDim; ++jj){                            
00716 <span class="preprocessor">        #if FARBR_DEBUG</span>
00717 <span class="preprocessor"></span>                            <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"jj=(d)%ld adrAdr=%lx Address=%lx Xlut[Address]=(d)%ld ko=(d)%ld\n"</span>,jj,adrAdr,adrAdr+(jj),Xlut[adrAdr+(jj)],ko);
00718 <span class="preprocessor">        #endif</span>
00719 <span class="preprocessor"></span>                            accu[jj]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(jj)]*ko;
00720                         }
00721         
00722                         adrAdr = (adr0 + aXlutOutDim*adrOffset);
00723                     }
00724                        <span class="keywordflow">for</span>( jj=0; jj&lt;aXlutOutDim; ++jj){                                
00725 <span class="preprocessor">        #if FARBR_DEBUG</span>
00726 <span class="preprocessor"></span>                            <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"jj=(d)%ld adrAdr=%lx Address=%lx Xlut[Address]=(d)%ld ko=(d)%ld\n"</span>,jj,adrAdr,adrAdr+(jj),Xlut[adrAdr+(jj)],ko0);
00727 <span class="preprocessor">        #endif</span>
00728 <span class="preprocessor"></span>                        accu[jj]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(jj)]*ko0;
00729                     }
00730                 }
00731         
00732 <span class="preprocessor">        #if FARBR_DEBUG</span>
00733 <span class="preprocessor"></span>                <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"accu=(d)"</span>);<span class="keywordflow">for</span>( ii=0; ii&lt;aXlutOutDim; ++ii) <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"%3ld "</span>,accu[ii] ); <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"\n"</span>);
00734 <span class="preprocessor">        #endif</span>
00735 <span class="preprocessor"></span>                aAlutOffset = 0;
00736         
00737                 <span class="keywordflow">if</span>( aOutputPackMode8Bit ){
00738                         <span class="keywordflow">for</span>( ii=0; ii&lt;aXlutOutDim; ++ii){
00739 <span class="preprocessor">        #if FARBR_DEBUG</span>
00740 <span class="preprocessor"></span>                        ii = ((accu[ii]) &gt;&gt; aAlutInShift)+aAlutOffset;
00741                         <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"adr:((accu[ii]) &gt;&gt; aAlutInShift)+aAlutOffset = %ld\n"</span>,ii);
00742                         <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"aus_lut[%ld]=%ld aus_lut[%ld]=%ld aus_lut[%ld]=%ld \n"</span>,ii-1,aus_lut[ii-1],ii,aus_lut[ii],ii+1,aus_lut[ii+1]);
00743 <span class="preprocessor">        #endif</span>
00744 <span class="preprocessor"></span>                                        jj = accu[ii];
00745                                         jj = jj + ( jj &gt;&gt; aXlutWordSize );
00746 
00747                                         ko0 = (jj - ( jj &gt;&gt; ( aAlutAdrShift ))) &gt;&gt; aAlutInShiftRemainder;       <span class="comment">/*      aAlutInShift = aXlutWordSize + aElutWordSize - aAlutAdrShift;*/</span>
00748 
00749                                         ko = ko0 &amp; (aAlutInShiftNum - 1 );
00750                                         ko0 = ko0 &gt;&gt; aAlutInShift;
00751                                         ko0 += aAlutOffset;
00752                                         <span class="keywordflow">if</span>( aAlutWordSize &lt;= 8)
00753                                         jj = ( ((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a>*)aus_lut)[ ko0 ] * ( aAlutInShiftNum - ko ) + ((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a>*)aus_lut)[ ko0 +1 ] * ko ) &gt;&gt; ( aAlutInShift );
00754                                         <span class="keywordflow">else</span>{
00755                                                 jj = ( aus_lut[ ko0 ] * ( aAlutInShiftNum - ko ) + aus_lut[ ko0 +1 ] * ko );
00756                                                 jj = jj - ( jj &gt;&gt; aAlutShift );
00757                                                 jj = ( jj + aAlutRound ) &gt;&gt; (aAlutInShift + aAlutShift);
00758                                         }
00759 
00760                                         *outputData[ii] = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a>)jj;
00761                         aAlutOffset += aAlutAdrSize;
00762                     }
00763                 }
00764                 <span class="keywordflow">else</span>{
00765                                 <span class="keywordflow">if</span>( aXlutWordSize &gt;= 16 ){
00766                                         <span class="keywordflow">for</span>( ii=0; ii&lt;aXlutOutDim; ++ii){
00767                                                 jj = accu[ii];
00768                                                 jj = jj + ( jj &gt;&gt; aXlutWordSize );
00769                                 ko0 = (jj - ( jj &gt;&gt; ( aAlutAdrShift ))) &gt;&gt; aAlutInShiftRemainder; <span class="comment">/*    aAlutInShift = aXlutWordSize + aElutWordSize - aAlutAdrShift;*/</span>
00770                 
00771                                                 ko = ko0 &amp; (aAlutInShiftNum - 1 );
00772                                                 ko0 = ko0 &gt;&gt; aAlutInShift;
00773                                                 ko0 += aAlutOffset;
00774                                                 <span class="keywordflow">if</span>( aAlutWordSize &lt;= 8)
00775                                                 jj = ( ((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a>*)aus_lut)[ ko0 ] * ( aAlutInShiftNum - ko ) + ((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a>*)aus_lut)[ ko0 +1 ] * ko ) &lt;&lt; ( aAlutShift - aAlutInShift );
00776                                                 <span class="keywordflow">else</span>
00777                                                 jj = ( aus_lut[ ko0 ] * ( aAlutInShiftNum - ko ) + aus_lut[ ko0 +1 ] * ko ) &gt;&gt; (aAlutInShift- aAlutShift);
00778                                                 *((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)outputData[ii]) =  (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)jj;
00779                                                 aAlutOffset += aAlutAdrSize;
00780                                         }
00781                                 }
00782                                 <span class="keywordflow">else</span>{
00783                                         <span class="keywordflow">for</span>( ii=0; ii&lt;aXlutOutDim; ++ii){
00784                                                 jj = accu[ii];
00785                                                 jj = jj + ( jj &gt;&gt; aXlutWordSize ) + ( jj &gt;&gt; 2*aXlutWordSize );
00786                                 ko0 = (jj - ( jj &gt;&gt; ( aAlutAdrShift ))); <span class="comment">/*     aAlutInShift = aXlutWordSize + aElutWordSize - aAlutAdrShift;*/</span>
00787                 
00788                                                 ko = ko0 &amp; (aAlutInShiftNum - 1 );
00789                                                 ko0 = ko0 &gt;&gt; aAlutInShift;
00790                                                 ko0 += aAlutOffset;
00791                                                 <span class="keywordflow">if</span>( aAlutWordSize &lt;= 8)
00792                                                 jj = ( ((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a>*)aus_lut)[ ko0 ] * ( aAlutInShiftNum - ko ) + ((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a>*)aus_lut)[ ko0 +1 ] * ko ) &lt;&lt; ( aAlutShift - aAlutInShift );
00793                                                 <span class="keywordflow">else</span>
00794                                                 jj = ( aus_lut[ ko0 ] * ( aAlutInShiftNum - ko ) + aus_lut[ ko0 +1 ] * ko ) &gt;&gt; (aAlutInShift- aAlutShift);
00795                                                 *((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)outputData[ii]) =  (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)jj;
00796                                                 aAlutOffset += aAlutAdrSize;
00797                                         }
00798                                 }
00799                 }
00800         
00801 <span class="preprocessor">        #if FARBR_DEBUG</span>
00802 <span class="preprocessor"></span>                <span class="keywordflow">if</span>( aOutputPackMode &lt; k3ShortsUnpacked ){<a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"aus_arr=(d)"</span>);<span class="keywordflow">for</span>( ii=0; ii&lt;aXlutOutDim; ++ii) <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"%3ld "</span>,aus_arr[ii+o] ); <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"\n"</span>);}
00803                 <span class="keywordflow">else</span>{<a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"aus_arr=(d)"</span>);<span class="keywordflow">for</span>( ii=0; ii&lt;aXlutOutDim; ++ii) <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"%3ld "</span>,aAusArr[ii+o] ); <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"\n"</span>);}
00804 <span class="preprocessor">        #endif</span>
00805 <span class="preprocessor"></span>                        <span class="keywordflow">if</span>( aCopyAlpha ){
00806                                 <span class="keywordflow">if</span>( aOutputPackMode8Bit )
00807                                         *outputData[aXlutOutDim] = *inputData[aXlutInDim];
00808                                 <span class="keywordflow">else</span>
00809                                         *((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)outputData[aXlutOutDim]) = *((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)inputData[aXlutInDim]);
00810                         }
00811                         <span class="keywordflow">while</span> (--i){
00812                                 <span class="keywordflow">for</span>( jj=0; jj&lt;aXlutInDim; ++jj){
00813                                         inputData[jj] += InputIncrement;
00814                                 }
00815                                 <span class="keywordflow">for</span>( jj=0; jj&lt;aXlutOutDim; ++jj){
00816                                         outputData[jj] += OutputIncrement;
00817                                 }
00818                                 <span class="keywordflow">if</span>( aCopyAlpha ){
00819                                         inputData[aXlutInDim] += InputIncrement;
00820                                         outputData[aXlutOutDim] += OutputIncrement;
00821                                 }
00822         
00823                                 <span class="keywordflow">if</span>( aInputPackMode8Bit ){
00824                                         <span class="keywordflow">for</span>( jj=0; jj&lt;aXlutInDim; ++jj){
00825                                                 <span class="keywordflow">if</span>( *inputData[jj] ^ *(<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)(&amp;ein_Cache[jj]) )<span class="keywordflow">break</span>;
00826                                         }
00827                                 }
00828                                 <span class="keywordflow">else</span>{
00829                                         <span class="keywordflow">for</span>( jj=0; jj&lt;aXlutInDim; ++jj){
00830                                                 <span class="keywordflow">if</span>( *((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)inputData[jj]) ^ ein_Cache[jj] )<span class="keywordflow">break</span>;
00831                                         }
00832                                 }
00833                                 <span class="keywordflow">if</span>( jj&lt;aXlutInDim ) <span class="keywordflow">break</span>;
00834                                 <span class="keywordflow">if</span>( aOutputPackMode8Bit ){
00835                                         <span class="keywordflow">for</span>( jj=0; jj&lt;aXlutOutDim; ++jj){
00836                                                 *outputData[jj] = outputData[jj][-(<span class="keywordtype">long</span>)OutputIncrement];
00837                                         }
00838                                         <span class="keywordflow">if</span>( aCopyAlpha ){
00839                                                 *outputData[aXlutOutDim] = *inputData[aXlutInDim];
00840                                         }
00841                                 }
00842                                 <span class="keywordflow">else</span>{
00843                                         <span class="keywordflow">for</span>( jj=0; jj&lt;aXlutOutDim; ++jj){
00844                                                 *((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)outputData[jj]) = *(<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)(&amp;outputData[jj][-(<span class="keywordtype">long</span>)OutputIncrement]);
00845                                         }
00846                                         <span class="keywordflow">if</span>( aCopyAlpha ){
00847                                                 *((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)outputData[aXlutOutDim]) = *((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)inputData[aXlutInDim]);
00848                                         }
00849                                 }
00850                         }
00851                 }
00852                 
00853                 <span class="keywordflow">if</span>( --LineCount ){
00854                         <span class="keywordflow">for</span>( jj=0; jj&lt;aXlutInDim; ++jj){
00855                                 inputData[jj] += inputDataRowOffset;
00856                         }
00857                         <span class="keywordflow">for</span>( jj=0; jj&lt;aXlutOutDim; ++jj){
00858                                 outputData[jj] += outputDataRowOffset;
00859                         }
00860                         <span class="keywordflow">if</span>( aCopyAlpha ){
00861                                 inputData[aXlutInDim] += inputDataRowOffset;
00862                                 outputData[aXlutOutDim] += outputDataRowOffset;
00863                         }
00864                 }
00865     }
00866     }
00867 
00868         <span class="comment">/* UNLOCK_DATA( aElutHdle ); */</span>
00869         <span class="comment">/* UNLOCK_DATA( aAlutHdle ); */</span>
00870         <span class="comment">/* UNLOCK_DATA( aXlutHdle ); */</span>
00871 
00872         <a class="code" href="../../d6/d9/lh__open_2general_8h.html#a2">LH_END_PROC</a>(<span class="stringliteral">"CalcNDim_Data8To8_Lut16"</span>)
00873         return noErr;
00874 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a13" doxytag="lh_core/calcndim.c::CalcNDim_Data8To8_Lut8" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a11">CMError</a> CalcNDim_Data8To8_Lut8           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d7/d3/structCMCalcParam.html">CMCalcParamPtr</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>calcParam</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d0/d4/structCMLutParam.html">CMLutParamPtr</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>lutParam</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d9/d2/lh__core_2calcndim_8c-source.html#l00907">907</a> of file <a class="el" href="../../d9/d2/lh__core_2calcndim_8c-source.html">lh_core/calcndim.c</a>.
<p>
Referenced by <a class="el" href="../../d2/d3/lh__core_2runtime_8c-source.html#l02767">FindCalcRoutine()</a>.
<p>
<pre class="fragment"><div>00909 {
00910         <span class="keywordflow">return</span> <a class="code" href="../../d1/d4/w98_2lh__core_2calcndim_8h.html#a4">CalcNDim_Data8To8_Lut16</a>( calcParam, lutParam );
00911 }
</div></pre>    </td>
  </tr>
</table>
<hr size="1"><address style="align: right;"><small>Generated on Sat May 15 19:43:01 2004 for test by
<a href="http://www.doxygen.org/index.html">
<img src="../../doxygen.png" alt="doxygen" align="middle" border=0 ></a> 1.3.7 </small></address>
</body>
</html>
