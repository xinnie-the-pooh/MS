<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>test: w98/lh_core/memlink.c File Reference</title>
<link href="../../doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.7 -->
<div class="qindex"><a class="qindex" href="../../main.html">Main&nbsp;Page</a> | <a class="qindex" href="../../hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="../../annotated.html">Class&nbsp;List</a> | <a class="qindex" href="../../files.html">File&nbsp;List</a> | <a class="qindex" href="../../functions.html">Class&nbsp;Members</a> | <a class="qindex" href="../../globals.html">File&nbsp;Members</a></div>
<h1>memlink.c File Reference</h1><code>#include "General.h"</code><br>
<code>#include "MemLink.h"</code><br>
<code>#include &lt;time.h&gt;</code><br>

<p>
<a href="../../d2/d5/w98_2lh__core_2memlink_8c-source.html">Go to the source code of this file.</a><table border=0 cellpadding=0 cellspacing=0>
<tr><td></td></tr>
<tr><td colspan=2><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d1/d6/w98_2lh__core_2memlink_8c.html#a0">CMHelperICC2int16Const</a>(a, b)&nbsp;&nbsp;&nbsp;(*((<a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a7">UINT16</a> *)(a))) = (<a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a7">UINT16</a>)(b);</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d1/d6/w98_2lh__core_2memlink_8c.html#a1">CMHelperICC2int32Const</a>(a, b)&nbsp;&nbsp;&nbsp;(*((<a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a8">UINT32</a> *)(a))) = (<a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a8">UINT32</a>)(b);</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d1/d6/w98_2lh__core_2memlink_8c.html#a2">Round</a>(a)&nbsp;&nbsp;&nbsp;(((a)&gt;0.)?((a)+.5):((a)-.5))</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d1/d6/w98_2lh__core_2memlink_8c.html#a3">MyTagCount</a>&nbsp;&nbsp;&nbsp;9</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d1/d6/w98_2lh__core_2memlink_8c.html#a4">MyTagCountLink</a>&nbsp;&nbsp;&nbsp;5</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d1/d6/w98_2lh__core_2memlink_8c.html#a5">LINK_BUFFER_MAX</a>&nbsp;&nbsp;&nbsp;3000</td></tr>

<tr><td colspan=2><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a11">CMError</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d1/d6/w98_2lh__core_2memlink_8c.html#a6">MyAdd_NL_Header</a> (<a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a8">UINT32</a> theSize, <a class="el" href="../../d1/d2/structicHeader.html">icHeader</a> *linkHeader, <a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a8">UINT32</a> aIntent, <a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a8">UINT32</a> aClass, <a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a8">UINT32</a> aColorSpace, <a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a8">UINT32</a> aConnectionSpace)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a11">CMError</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d1/d6/w98_2lh__core_2memlink_8c.html#a7">MyAdd_NL_HeaderMS</a> (<a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a8">UINT32</a> theSize, <a class="el" href="../../d1/d2/structicHeader.html">icHeader</a> *linkHeader, unsigned long aIntent, <a class="el" href="../../d5/d7/mscmm_8w98_2lh__core_2profile_8h.html#a186">icColorSpaceSignature</a> sCS, <a class="el" href="../../d5/d7/mscmm_8w98_2lh__core_2profile_8h.html#a186">icColorSpaceSignature</a> dCS)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a11">CMError</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d1/d6/w98_2lh__core_2memlink_8c.html#a8">MyAdd_NL_DescriptionTag</a> (<a class="el" href="../../d6/d8/structLHTextDescriptionType.html">LHTextDescriptionType</a> *descPtr, unsigned char *theText)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a11">CMError</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d1/d6/w98_2lh__core_2memlink_8c.html#a9">MyAdd_NL_ColorantTag</a> (<a class="el" href="../../d9/d6/structicXYZType.html">icXYZType</a> *descPtr, <a class="el" href="../../d8/d6/structicXYZNumber.html">MyXYZNumber</a> *aColor)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a11">CMError</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d1/d6/w98_2lh__core_2memlink_8c.html#a10">MyAdd_NL_CurveTag</a> (<a class="el" href="../../d5/d1/structicCurveType.html">icCurveType</a> *descPtr, unsigned short Gamma)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a11">CMError</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d1/d6/w98_2lh__core_2memlink_8c.html#a11">MyAdd_NL_CopyrightTag</a> (unsigned char *copyrightText, <a class="el" href="../../d7/d8/structLHTextType.html">LHTextType</a> *aLHTextType)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a11">CMError</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d1/d6/w98_2lh__core_2memlink_8c.html#a12">Fill_mft1_InputTable</a> (<a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a28">Ptr</a> theElut, <a class="el" href="../../d8/d2/structicLut8.html">icLut8</a> *lutPtr, <a class="el" href="../../d4/d7/w98_2lh__core_2typedefs_8h.html#a13">CMMModelPtr</a> modelData)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a11">CMError</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d1/d6/w98_2lh__core_2memlink_8c.html#a13">Fill_mft1_OutputTable</a> (<a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a28">Ptr</a> theAlut, <a class="el" href="../../d8/d2/structicLut8.html">icLut8</a> *lutPtr, long offset, <a class="el" href="../../d4/d7/w98_2lh__core_2typedefs_8h.html#a13">CMMModelPtr</a> modelData)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a11">CMError</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d1/d6/w98_2lh__core_2memlink_8c.html#a14">Fill_mft2_InputTable</a> (<a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a28">Ptr</a> theElut, <a class="el" href="../../d6/d2/structicLut16.html">icLut16</a> *lutPtr, <a class="el" href="../../d4/d7/w98_2lh__core_2typedefs_8h.html#a13">CMMModelPtr</a> modelData)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a11">CMError</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d1/d6/w98_2lh__core_2memlink_8c.html#a15">Fill_mft2_OutputTable</a> (<a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a28">Ptr</a> theAlut, <a class="el" href="../../d6/d2/structicLut16.html">icLut16</a> *lutPtr, long offset, <a class="el" href="../../d4/d7/w98_2lh__core_2typedefs_8h.html#a13">CMMModelPtr</a> modelData)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a11">CMError</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d1/d6/w98_2lh__core_2memlink_8c.html#a16">Fill_mft2_ColorTable</a> (<a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a28">Ptr</a> theClut, <a class="el" href="../../d6/d2/structicLut16.html">icLut16</a> *lutPtr, long offset, long count)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a11">CMError</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d1/d6/w98_2lh__core_2memlink_8c.html#a17">MyAdd_NL_AToB0Tag_mft1</a> (<a class="el" href="../../d4/d7/w98_2lh__core_2typedefs_8h.html#a13">CMMModelPtr</a> cw, <a class="el" href="../../d9/d2/structicLut8Type.html">icLut8Type</a> *lutPtr, long colorLutSize)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a8">UINT32</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d1/d6/w98_2lh__core_2memlink_8c.html#a18">GetSizes</a> (<a class="el" href="../../d4/d7/w98_2lh__core_2typedefs_8h.html#a13">CMMModelPtr</a> cw, <a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a8">UINT32</a> *clutSize)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a11">CMError</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d1/d6/w98_2lh__core_2memlink_8c.html#a19">MyAdd_NL_AToB0Tag_mft2</a> (<a class="el" href="../../d4/d7/w98_2lh__core_2typedefs_8h.html#a13">CMMModelPtr</a> cw, <a class="el" href="../../d7/d2/structicLut16Type.html">icLut16Type</a> *lutPtr, long colorLutSize)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a11">CMError</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d1/d6/w98_2lh__core_2memlink_8c.html#a20">MyGetColorSpaces</a> (<a class="el" href="../../d9/d3/structCMConcatProfileSet.html">CMConcatProfileSet</a> *profileSet, <a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a8">UINT32</a> *sCS, <a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a8">UINT32</a> *dCS)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a11">CMError</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d1/d6/w98_2lh__core_2memlink_8c.html#a21">MyAdd_NL_SequenceDescTag</a> (<a class="el" href="../../d9/d3/structCMConcatProfileSet.html">CMConcatProfileSet</a> *profileSet, <a class="el" href="../../d8/d3/structicProfileSequenceDescType.html">icProfileSequenceDescType</a> *pSeqPtr, long *aSize)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d8/d6/structicXYZNumber.html">MyXYZNumber</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d1/d6/w98_2lh__core_2memlink_8c.html#a22">MakeXYZNumber</a> (<a class="el" href="../../d8/d6/structicXYZNumber.html">MyXYZNumber</a> *x)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d1/d6/w98_2lh__core_2memlink_8c.html#a23">MakeMyDoubleXYZ</a> (<a class="el" href="../../d8/d6/structicXYZNumber.html">MyXYZNumber</a> *x, <a class="el" href="../../d5/d1/structMyDoubleXYZ.html">MyDoubleXYZ</a> *ret)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a21">Boolean</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d1/d6/w98_2lh__core_2memlink_8c.html#a24">doubMatrixInvert</a> (double inpMat[3][3], double outMat[3][3])</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d1/d6/w98_2lh__core_2memlink_8c.html#a25">TransposeMatrix</a> (double inpMat[3][3])</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>double&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d1/d6/w98_2lh__core_2memlink_8c.html#a26">GetMatrixedVal</a> (double m[3][3], long color, <a class="el" href="../../d5/d1/structMyDoubleXYZ.html">MyDoubleXYZ</a> *aXYZ)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d1/d6/w98_2lh__core_2memlink_8c.html#a27">NormalizeColor</a> (<a class="el" href="../../d8/d6/structicXYZNumber.html">MyXYZNumber</a> *r, <a class="el" href="../../d8/d6/structicXYZNumber.html">MyXYZNumber</a> *g, <a class="el" href="../../d8/d6/structicXYZNumber.html">MyXYZNumber</a> *b, <a class="el" href="../../d5/d1/structMyDoubleXYZ.html">MyDoubleXYZ</a> *Illuminant, <a class="el" href="../../d8/d6/structicXYZNumber.html">MyXYZNumber</a> *resR, <a class="el" href="../../d8/d6/structicXYZNumber.html">MyXYZNumber</a> *resG, <a class="el" href="../../d8/d6/structicXYZNumber.html">MyXYZNumber</a> *resB)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d1/d6/w98_2lh__core_2memlink_8c.html#a28">NormalizeWithWhiteAdaption</a> (<a class="el" href="../../d8/d6/structicXYZNumber.html">MyXYZNumber</a> *r, <a class="el" href="../../d8/d6/structicXYZNumber.html">MyXYZNumber</a> *g, <a class="el" href="../../d8/d6/structicXYZNumber.html">MyXYZNumber</a> *b, <a class="el" href="../../d5/d1/structMyDoubleXYZ.html">MyDoubleXYZ</a> *Illuminant, <a class="el" href="../../d8/d6/structicXYZNumber.html">MyXYZNumber</a> *resR, <a class="el" href="../../d8/d6/structicXYZNumber.html">MyXYZNumber</a> *resG, <a class="el" href="../../d8/d6/structicXYZNumber.html">MyXYZNumber</a> *resB)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a11">CMError</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d1/d6/w98_2lh__core_2memlink_8c.html#a29">DeviceLinkFill</a> (<a class="el" href="../../d4/d7/w98_2lh__core_2typedefs_8h.html#a13">CMMModelPtr</a> cw, <a class="el" href="../../d9/d3/structCMConcatProfileSet.html">CMConcatProfileSet</a> *profileSet, <a class="el" href="../../d6/d3/structicProfile.html">icProfile</a> **theProf, unsigned long aIntent)</td></tr>

</table>
<hr><h2>Define Documentation</h2>
<a class="anchor" name="a0" doxytag="w98/lh_core/memlink.c::CMHelperICC2int16Const" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define CMHelperICC2int16Const          </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">a,         <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>b&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap>&nbsp;&nbsp;&nbsp;(*((<a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a7">UINT16</a> *)(a))) = (<a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a7">UINT16</a>)(b);</td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d2/d5/w98_2lh__core_2memlink_8c-source.html#l00041">41</a> of file <a class="el" href="../../d2/d5/w98_2lh__core_2memlink_8c-source.html">w98/lh_core/memlink.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a1" doxytag="w98/lh_core/memlink.c::CMHelperICC2int32Const" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define CMHelperICC2int32Const          </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">a,         <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>b&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap>&nbsp;&nbsp;&nbsp;(*((<a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a8">UINT32</a> *)(a))) = (<a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a8">UINT32</a>)(b);</td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d2/d5/w98_2lh__core_2memlink_8c-source.html#l00043">43</a> of file <a class="el" href="../../d2/d5/w98_2lh__core_2memlink_8c-source.html">w98/lh_core/memlink.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a5" doxytag="w98/lh_core/memlink.c::LINK_BUFFER_MAX" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define LINK_BUFFER_MAX&nbsp;&nbsp;&nbsp;3000          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d2/d5/w98_2lh__core_2memlink_8c-source.html#l01280">1280</a> of file <a class="el" href="../../d2/d5/w98_2lh__core_2memlink_8c-source.html">w98/lh_core/memlink.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a3" doxytag="w98/lh_core/memlink.c::MyTagCount" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define MyTagCount&nbsp;&nbsp;&nbsp;9          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d2/d5/w98_2lh__core_2memlink_8c-source.html#l00942">942</a> of file <a class="el" href="../../d2/d5/w98_2lh__core_2memlink_8c-source.html">w98/lh_core/memlink.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a4" doxytag="w98/lh_core/memlink.c::MyTagCountLink" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define MyTagCountLink&nbsp;&nbsp;&nbsp;5          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d2/d5/w98_2lh__core_2memlink_8c-source.html#l01279">1279</a> of file <a class="el" href="../../d2/d5/w98_2lh__core_2memlink_8c-source.html">w98/lh_core/memlink.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a2" doxytag="w98/lh_core/memlink.c::Round" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define Round          </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">a&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap>&nbsp;&nbsp;&nbsp;(((a)&gt;0.)?((a)+.5):((a)-.5))</td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d2/d5/w98_2lh__core_2memlink_8c-source.html#l00864">864</a> of file <a class="el" href="../../d2/d5/w98_2lh__core_2memlink_8c-source.html">w98/lh_core/memlink.c</a>.    </td>
  </tr>
</table>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="a29" doxytag="w98/lh_core/memlink.c::DeviceLinkFill" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a11">CMError</a> DeviceLinkFill           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d4/d7/w98_2lh__core_2typedefs_8h.html#a13">CMMModelPtr</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>cw</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d9/d3/structCMConcatProfileSet.html">CMConcatProfileSet</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>profileSet</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d6/d3/structicProfile.html">icProfile</a> **&nbsp;</td>
          <td class="mdname" nowrap> <em>theProf</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>unsigned long&nbsp;</td>
          <td class="mdname" nowrap> <em>aIntent</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d2/d5/w98_2lh__core_2memlink_8c-source.html#l01282">1282</a> of file <a class="el" href="../../d2/d5/w98_2lh__core_2memlink_8c-source.html">w98/lh_core/memlink.c</a>.
<p>
References <a class="el" href="../../d7/d6/lh__open_2pi__mem_8c-source.html#l00337">BlockMove()</a>, <a class="el" href="../../d3/d5/lh__open_2pi__app_8h-source.html#l00023">CMError</a>, <a class="el" href="../../d1/d5/lh__core_2memlink_8c-source.html#l00043">CMHelperICC2int32Const</a>, <a class="el" href="../../d4/d6/lh__core_2typedefs_8h-source.html#l00188">CMMModelPtr</a>, <a class="el" href="../../d2/d6/lh__open_2pi__app_8h.html#a149a31">cmProfileError</a>, <a class="el" href="../../d6/d6/mscmm_8w98_2lh__core_2profile_8h-source.html#l00906">icTagList::count</a>, <a class="el" href="../../d7/d6/lh__open_2pi__mem_8c-source.html#l00099">DisposeIfPtr()</a>, <a class="el" href="../../d0/d7/w98_2mscmm_2memprof_8h.html#a7">GetSizes()</a>, <a class="el" href="../../d8/d3/aug98_2dll32_2icc_8h-source.html#l00139">icSigAToB0Tag</a>, <a class="el" href="../../d8/d3/aug98_2dll32_2icc_8h-source.html#l00151">icSigCopyrightTag</a>, <a class="el" href="../../d8/d3/aug98_2dll32_2icc_8h-source.html#l00267">icSigLinkClass</a>, <a class="el" href="../../d8/d3/aug98_2dll32_2icc_8h-source.html#l00161">icSigMediaWhitePointTag</a>, <a class="el" href="../../d8/d3/aug98_2dll32_2icc_8h-source.html#l00166">icSigProfileDescriptionTag</a>, <a class="el" href="../../d8/d3/aug98_2dll32_2icc_8h-source.html#l00167">icSigProfileSequenceDescTag</a>, <a class="el" href="../../d1/d5/lh__core_2memlink_8c-source.html#l01279">LINK_BUFFER_MAX</a>, <a class="el" href="../../d1/d5/lh__core_2memlink_8c-source.html#l00521">MyAdd_NL_AToB0Tag_mft1()</a>, <a class="el" href="../../d1/d5/lh__core_2memlink_8c-source.html#l00619">MyAdd_NL_AToB0Tag_mft2()</a>, <a class="el" href="../../d1/d5/lh__core_2memlink_8c-source.html#l00222">MyAdd_NL_ColorantTag()</a>, <a class="el" href="../../d1/d5/lh__core_2memlink_8c-source.html#l00245">MyAdd_NL_CopyrightTag()</a>, <a class="el" href="../../d1/d5/lh__core_2memlink_8c-source.html#l00178">MyAdd_NL_DescriptionTag()</a>, <a class="el" href="../../d1/d5/lh__core_2memlink_8c-source.html#l00053">MyAdd_NL_Header()</a>, <a class="el" href="../../d1/d5/lh__core_2memlink_8c-source.html#l00724">MyAdd_NL_SequenceDescTag()</a>, <a class="el" href="../../d3/d6/w98_2lh__core_2memlink_8h.html#a4">MyGetColorSpaces()</a>, <a class="el" href="../../d1/d5/lh__core_2memlink_8c-source.html#l01278">MyTagCountLink</a>, <a class="el" href="../../d4/d6/lh__open_2pi__basic_8h.html#a58a55">noErr</a>, <a class="el" href="../../d3/d7/lh__core_2typedefs_8h.html#a20a16">NoNamedColorProfile</a>, <a class="el" href="../../d6/d6/mscmm_8w98_2lh__core_2profile_8h-source.html#l00899">icTag::offset</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00071">OSErr</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00070">OSType</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00052">Ptr</a>, <a class="el" href="../../d6/d6/mscmm_8w98_2lh__core_2profile_8h-source.html#l00898">icTag::sig</a>, <a class="el" href="../../d6/d6/mscmm_8w98_2lh__core_2profile_8h-source.html#l00901">icTag::size</a>, <a class="el" href="../../d7/d6/lh__open_2pi__mem_8c-source.html#l00047">SmartNewPtr()</a>, <a class="el" href="../../d7/d6/lh__open_2pi__mem_8c-source.html#l00072">SmartNewPtrClear()</a>, <a class="el" href="../../d6/d6/mscmm_8w98_2lh__core_2profile_8h-source.html#l00937">icProfile::tagList</a>, <a class="el" href="../../d6/d6/mscmm_8w98_2lh__core_2profile_8h-source.html#l00907">icTagList::tags</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00032">UINT32</a>, <a class="el" href="../../d4/d6/lh__open_2pi__basic_8h.html#a58a56">unimpErr</a>, and <a class="el" href="../../d9/d6/w98_2mscmm_2icm32_8c.html#a26">WriteProf()</a>.
<p>
<pre class="fragment"><div>01286 {
01287         <a class="code" href="../../d2/d6/lh__open_2pi__app_8h.html#a11">CMError</a>                 err = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a58a56">unimpErr</a>;
01288         <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a35">OSErr</a>                   aOSerr = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a58a56">unimpErr</a>;
01289 <span class="preprocessor">#ifdef __MWERKS__</span>
01290 <span class="preprocessor"></span>        <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>   theText[] = <span class="stringliteral">"\pDeviceLink profile  "</span>;
01291         <span class="keywordtype">char</span>                    copyrightText[] = <span class="stringliteral">"\p©1996 by Heidelberger Druckmaschinen AG  U.J.K."</span>;
01292 <span class="preprocessor">#elif __IS_MSDOS</span>
01293 <span class="preprocessor"></span>        <span class="keywordtype">char</span>                    theText[] = <span class="stringliteral">"\030DeviceLink profile     "</span>;
01294         <span class="keywordtype">char</span>                    copyrightText[] = <span class="stringliteral">"\060©1996 by Heidelberger Druckmaschinen AG  U.J.K."</span>;
01295 <span class="preprocessor">#else</span>
01296 <span class="preprocessor"></span>        <span class="keywordtype">char</span>                    theText[] = <span class="stringliteral">"\030DeviceLink profile     "</span>;
01297         <span class="keywordtype">char</span>                    copyrightText[] = <span class="stringliteral">"\060©1996 by Heidelberger Druckmaschinen AG  U.J.K."</span>;
01298 <span class="preprocessor">#endif</span>
01299 <span class="preprocessor"></span>        <a class="code" href="../../d6/d3/structicProfile.html">icProfile</a>               *aProf=0;
01300         <span class="keywordtype">long</span>                    theTagTabSize;
01301         <span class="keywordtype">long</span>                    theHeaderSize;
01302         <span class="keywordtype">long</span>                    theDescSize;
01303         <span class="keywordtype">long</span>                    theMediaSize;
01304         <span class="keywordtype">long</span>                    theSequenceDescSize;
01305         <span class="keywordtype">long</span>                    theA2B0Size;
01306         <span class="keywordtype">long</span>                    theCopyRightSize;
01307         <span class="keywordtype">long</span>                    currentSize=0;
01308         <span class="keywordtype">long</span>                    theTotalSize=0;
01309         <a class="code" href="../../d5/d4/structicTag.html">icTag</a>                   aTag;
01310         <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a8">UINT32</a>                  sCS,dCS,clutSize;
01311         <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a28">Ptr</a>                             aPtr=0;
01312 
01313         <a class="code" href="../../d5/d1/structMyDoubleXYZ.html">MyDoubleXYZ</a> D50XYZ = { 0.9642, 1.0000, 0.8249 };
01314         <a class="code" href="../../d8/d6/structicXYZNumber.html">MyXYZNumber</a> D50 = { (<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>)(0.9642 * 65536), (<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>)(1.0000 * 65536), (<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>)(0.8249 * 65536)};
01315         theHeaderSize = <span class="keyword">sizeof</span>(<a class="code" href="../../d1/d2/structicHeader.html">icHeader</a>);
01316         theDescSize   =                                                                           <span class="keyword">sizeof</span>(<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a34">OSType</a>)                        <span class="comment">/* type descriptor */</span>
01317                                                                                                                 + <span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>)         <span class="comment">/* reserved */</span>
01318                                                                                                                 + <span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>)         <span class="comment">/* ASCII length */</span>
01319                                                                                                                 + theText[0]                            <span class="comment">/* ASCII profile description */</span>
01320                                                                                                                 + <span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>)         <span class="comment">/* Unicode code */</span>
01321                                                                                                                 + <span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>)         <span class="comment">/* Unicode character count */</span>
01322                                                                                                                 + <span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>)        <span class="comment">/* Macintosh script code */</span>
01323                                                                                                                 + <span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)         <span class="comment">/* Macintosh string length */</span>
01324                                                                                                                 + 67                                            <span class="comment">/* Macintosh string */</span>
01325                                                                                                                 ;
01326         theCopyRightSize   =                                                              <span class="keyword">sizeof</span>(<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a34">OSType</a>)                        <span class="comment">/* type descriptor */</span>
01327                                                                                                                 + <span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>)         <span class="comment">/* reserved */</span>
01328                                                                                                                 + copyrightText[0]                      <span class="comment">/* ASCII profile description */</span>
01329                                                                                                                 ;
01330         theMediaSize = <span class="keyword">sizeof</span>( <a class="code" href="../../d9/d6/structicXYZType.html">icXYZType</a> );;
01331 
01332         theTagTabSize = <a class="code" href="../../d0/d6/lh__core_2memlink_8c.html#a4">MyTagCountLink</a> * <span class="keyword">sizeof</span>( <a class="code" href="../../d5/d4/structicTag.html">icTag</a> ) + <span class="keyword">sizeof</span>( <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> );
01333         
01334         *theProf = 0;
01335         
01336         <span class="keywordflow">if</span>( cw-&gt;hasNamedColorProf != <a class="code" href="../../d3/d7/lh__core_2typedefs_8h.html#a20a16">NoNamedColorProfile</a> ){
01337                 err = <a class="code" href="../../d2/d6/lh__open_2pi__app_8h.html#a149a31">cmProfileError</a>;
01338                 <span class="keywordflow">goto</span> CleanupAndExit;
01339         }
01340         err = <a class="code" href="../../d3/d6/w98_2lh__core_2memlink_8h.html#a4">MyGetColorSpaces</a>( profileSet, &amp;sCS, &amp;dCS );
01341         <span class="keywordflow">if</span> (err)
01342                 <span class="keywordflow">goto</span> CleanupAndExit;
01343                 
01344         aProf = (<a class="code" href="../../d6/d3/structicProfile.html">icProfile</a> *)<a class="code" href="../../d9/d7/w98_2lh__open_2pi__mem_8h.html#a6">SmartNewPtrClear</a>( LINK_BUFFER_MAX, &amp;aOSerr );
01345         err = aOSerr;
01346         <span class="keywordflow">if</span> (err)
01347                 <span class="keywordflow">goto</span> CleanupAndExit;
01348 
01349         err = <a class="code" href="../../d3/d6/w98_2lh__core_2memlink_8h.html#a6">MyAdd_NL_Header</a>(theTotalSize, (<a class="code" href="../../d1/d2/structicHeader.html">icHeader</a>*)((Ptr)aProf+currentSize), aIntent, icSigLinkClass, sCS, dCS );
01350         <span class="keywordflow">if</span> (err)
01351                 <span class="keywordflow">goto</span> CleanupAndExit;
01352                 
01353         <span class="comment">/*----------------------------------------------------------------------------------------- cmProfileDescriptionTag */</span>
01354         currentSize = theHeaderSize + theTagTabSize;
01355         <a class="code" href="../../d0/d6/lh__core_2memlink_8c.html#a1">CMHelperICC2int32Const</a>(&amp;(aProf-&gt;<a class="code" href="../../d6/d3/structicProfile.html#o3">tagList</a>.<a class="code" href="../../d7/d4/structicTagList.html#o0">count</a> ), MyTagCountLink);
01356 
01357         <a class="code" href="../../d0/d6/lh__core_2memlink_8c.html#a1">CMHelperICC2int32Const</a>(&amp;(aTag.<a class="code" href="../../d5/d4/structicTag.html#o0">sig</a> ), icSigProfileDescriptionTag);
01358         <a class="code" href="../../d0/d6/lh__core_2memlink_8c.html#a1">CMHelperICC2int32Const</a>(&amp;(aTag.<a class="code" href="../../d5/d4/structicTag.html#o1">offset</a> ), currentSize);
01359         <a class="code" href="../../d0/d6/lh__core_2memlink_8c.html#a1">CMHelperICC2int32Const</a>(&amp;(aTag.<a class="code" href="../../d5/d4/structicTag.html#o2">size</a> ), theDescSize);
01360         aProf-&gt;<a class="code" href="../../d6/d3/structicProfile.html#o3">tagList</a>.<a class="code" href="../../d7/d4/structicTagList.html#o1">tags</a>[0] = aTag;
01361         err =<a class="code" href="../../d3/d6/w98_2lh__core_2memlink_8h.html#a7">MyAdd_NL_DescriptionTag</a>    ( (<a class="code" href="../../d6/d8/structLHTextDescriptionType.html">LHTextDescriptionType</a> *)((Ptr)aProf+currentSize), (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)theText );
01362         <span class="keywordflow">if</span> (err)
01363                 <span class="keywordflow">goto</span> CleanupAndExit;
01364         currentSize += theDescSize;
01365         currentSize = ( currentSize + 3 ) &amp; ~ 3;
01366 
01367         <a class="code" href="../../d0/d6/lh__core_2memlink_8c.html#a1">CMHelperICC2int32Const</a>(&amp;(aTag.<a class="code" href="../../d5/d4/structicTag.html#o0">sig</a> ), icSigMediaWhitePointTag);
01368         <a class="code" href="../../d0/d6/lh__core_2memlink_8c.html#a1">CMHelperICC2int32Const</a>(&amp;(aTag.<a class="code" href="../../d5/d4/structicTag.html#o1">offset</a> ), currentSize );
01369         <a class="code" href="../../d0/d6/lh__core_2memlink_8c.html#a1">CMHelperICC2int32Const</a>(&amp;(aTag.<a class="code" href="../../d5/d4/structicTag.html#o2">size</a> ), theMediaSize);
01370         aProf-&gt;<a class="code" href="../../d6/d3/structicProfile.html#o3">tagList</a>.<a class="code" href="../../d7/d4/structicTagList.html#o1">tags</a>[1] = aTag;
01371         <a class="code" href="../../d3/d6/w98_2lh__core_2memlink_8h.html#a8">MyAdd_NL_ColorantTag</a>((<a class="code" href="../../d9/d6/structicXYZType.html">icXYZType</a> *)((Ptr)aProf+currentSize), &amp;D50);
01372         currentSize += theMediaSize;
01373         currentSize = ( currentSize + 3 ) &amp; ~ 3;
01374 
01375         <a class="code" href="../../d0/d6/lh__core_2memlink_8c.html#a1">CMHelperICC2int32Const</a>(&amp;(aTag.<a class="code" href="../../d5/d4/structicTag.html#o0">sig</a> ), icSigCopyrightTag);
01376         <a class="code" href="../../d0/d6/lh__core_2memlink_8c.html#a1">CMHelperICC2int32Const</a>(&amp;(aTag.<a class="code" href="../../d5/d4/structicTag.html#o1">offset</a> ), currentSize );
01377         <a class="code" href="../../d0/d6/lh__core_2memlink_8c.html#a1">CMHelperICC2int32Const</a>(&amp;(aTag.<a class="code" href="../../d5/d4/structicTag.html#o2">size</a> ), theCopyRightSize);
01378         aProf-&gt;<a class="code" href="../../d6/d3/structicProfile.html#o3">tagList</a>.<a class="code" href="../../d7/d4/structicTagList.html#o1">tags</a>[2] = aTag;
01379         err = <a class="code" href="../../d3/d6/w98_2lh__core_2memlink_8h.html#a10">MyAdd_NL_CopyrightTag</a>( (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)copyrightText, (<a class="code" href="../../d7/d8/structLHTextType.html">LHTextType</a> *)((Ptr)aProf+currentSize));
01380         <span class="keywordflow">if</span> (err)
01381                 <span class="keywordflow">goto</span> CleanupAndExit;
01382         currentSize += theCopyRightSize;
01383         currentSize = ( currentSize + 3 ) &amp; ~ 3;
01384                 
01385         err = <a class="code" href="../../d3/d6/w98_2lh__core_2memlink_8h.html#a11">MyAdd_NL_SequenceDescTag</a>( profileSet, (<a class="code" href="../../d8/d3/structicProfileSequenceDescType.html">icProfileSequenceDescType</a> *)((Ptr)aProf+currentSize), &amp;theSequenceDescSize );
01386         <a class="code" href="../../d0/d6/lh__core_2memlink_8c.html#a1">CMHelperICC2int32Const</a>(&amp;(aTag.<a class="code" href="../../d5/d4/structicTag.html#o0">sig</a> ), icSigProfileSequenceDescTag);
01387         <a class="code" href="../../d0/d6/lh__core_2memlink_8c.html#a1">CMHelperICC2int32Const</a>(&amp;(aTag.<a class="code" href="../../d5/d4/structicTag.html#o1">offset</a> ), currentSize );
01388         <a class="code" href="../../d0/d6/lh__core_2memlink_8c.html#a1">CMHelperICC2int32Const</a>(&amp;(aTag.<a class="code" href="../../d5/d4/structicTag.html#o2">size</a> ), theSequenceDescSize);
01389         aProf-&gt;<a class="code" href="../../d6/d3/structicProfile.html#o3">tagList</a>.<a class="code" href="../../d7/d4/structicTagList.html#o1">tags</a>[3] = aTag;
01390         currentSize += theSequenceDescSize;
01391         currentSize = ( currentSize + 3 ) &amp; ~ 3;
01392 
01393     theA2B0Size = <a class="code" href="../../d0/d7/w98_2mscmm_2memprof_8h.html#a7">GetSizes</a>( (CMMModelPtr)cw, &amp;clutSize );
01394 
01395         <a class="code" href="../../d0/d6/lh__core_2memlink_8c.html#a1">CMHelperICC2int32Const</a>(&amp;(aTag.<a class="code" href="../../d5/d4/structicTag.html#o0">sig</a> ), icSigAToB0Tag);
01396         <a class="code" href="../../d0/d6/lh__core_2memlink_8c.html#a1">CMHelperICC2int32Const</a>(&amp;(aTag.<a class="code" href="../../d5/d4/structicTag.html#o1">offset</a> ), currentSize );
01397         <a class="code" href="../../d0/d6/lh__core_2memlink_8c.html#a1">CMHelperICC2int32Const</a>(&amp;(aTag.<a class="code" href="../../d5/d4/structicTag.html#o2">size</a> ), theA2B0Size);
01398         aProf-&gt;<a class="code" href="../../d6/d3/structicProfile.html#o3">tagList</a>.<a class="code" href="../../d7/d4/structicTagList.html#o1">tags</a>[4] = aTag;
01399 
01400 <span class="preprocessor">#if __IS_MSDOS</span>
01401 <span class="preprocessor"></span>        aPtr = GlobalAllocPtr( GHND, theA2B0Size+currentSize );
01402         <span class="keywordflow">if</span>( aPtr == 0 ){
01403                 err = GetLastError();
01404                 <span class="keywordflow">goto</span> CleanupAndExit;
01405         }
01406 <span class="preprocessor">#else   </span>
01407 <span class="preprocessor"></span>        aPtr =  <a class="code" href="../../d9/d7/w98_2lh__open_2pi__mem_8h.html#a5">SmartNewPtr</a>( theA2B0Size+currentSize, &amp;aOSerr );
01408         err = aOSerr;
01409         <span class="keywordflow">if</span>( err ){
01410                 <span class="keywordflow">goto</span> CleanupAndExit;
01411         }
01412 <span class="preprocessor">#endif</span>
01413 <span class="preprocessor"></span>
01414 
01415         <span class="keywordflow">if</span> ( cw-&gt;lutParam.colorLutWordSize == 8 )
01416         err = <a class="code" href="../../d3/d6/w98_2lh__core_2memlink_8h.html#a12">MyAdd_NL_AToB0Tag_mft1</a>( (CMMModelPtr)cw, (<a class="code" href="../../d9/d2/structicLut8Type.html">icLut8Type</a> *)(aPtr+currentSize), clutSize );
01417     <span class="keywordflow">else</span>
01418         err = <a class="code" href="../../d3/d6/w98_2lh__core_2memlink_8h.html#a13">MyAdd_NL_AToB0Tag_mft2</a>( (CMMModelPtr)cw, (<a class="code" href="../../d7/d2/structicLut16Type.html">icLut16Type</a> *)(aPtr+currentSize), clutSize );
01419 
01420         <span class="keywordflow">if</span> (err)
01421                 <span class="keywordflow">goto</span> CleanupAndExit;
01422 
01423         <a class="code" href="../../d9/d7/w98_2lh__open_2pi__mem_8h.html#a10">BlockMove</a>( (Ptr)aProf, aPtr, currentSize );
01424         aProf = (<a class="code" href="../../d6/d3/structicProfile.html">icProfile</a> *)<a class="code" href="../../d9/d7/w98_2lh__open_2pi__mem_8h.html#a4">DisposeIfPtr</a>( (Ptr)aProf );
01425 
01426         <a class="code" href="../../d0/d6/lh__core_2memlink_8c.html#a1">CMHelperICC2int32Const</a>( aPtr, theA2B0Size+currentSize );
01427 
01428         *theProf = (<a class="code" href="../../d6/d3/structicProfile.html">icProfile</a> *)aPtr;
01429 <span class="preprocessor">#ifdef WRITE_PROFILE</span>
01430 <span class="preprocessor"></span>        <a class="code" href="../../d9/d6/w98_2mscmm_2icm32_8c.html#a26">WriteProf</a>( <span class="stringliteral">"DeviceLinkFill.pf"</span>, (<a class="code" href="../../d6/d3/structicProfile.html">icProfile</a> *)aPtr, theA2B0Size+currentSize );
01431 <span class="preprocessor">#endif</span>
01432 <span class="preprocessor"></span>        <span class="keywordflow">return</span> <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a58a55">noErr</a>;
01433         
01434 CleanupAndExit:
01435         *theProf = (<a class="code" href="../../d6/d3/structicProfile.html">icProfile</a> *)<a class="code" href="../../d9/d7/w98_2lh__open_2pi__mem_8h.html#a4">DisposeIfPtr</a>( (Ptr)aProf );
01436 <span class="preprocessor">#if __IS_MSDOS</span>
01437 <span class="preprocessor"></span>        <span class="keywordflow">if</span>( aPtr )GlobalFreePtr( aPtr );
01438 <span class="preprocessor">#else</span>
01439 <span class="preprocessor"></span>        aPtr = <a class="code" href="../../d9/d7/w98_2lh__open_2pi__mem_8h.html#a4">DisposeIfPtr</a>( (Ptr)aPtr );
01440 <span class="preprocessor">#endif</span>
01441 <span class="preprocessor"></span>        <span class="keywordflow">return</span> err;
01442 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a24" doxytag="w98/lh_core/memlink.c::doubMatrixInvert" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a21">Boolean</a> doubMatrixInvert           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">double&nbsp;</td>
          <td class="mdname" nowrap> <em>inpMat</em>[3][3], </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>double&nbsp;</td>
          <td class="mdname" nowrap> <em>outMat</em>[3][3]</td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d0/d6/lh__core_2fragment_8c-source.html#l00389">389</a> of file <a class="el" href="../../d0/d6/lh__core_2fragment_8c-source.html">lh_core/fragment.c</a>.
<p>
References <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00050">Boolean</a>, <a class="el" href="../../d3/d5/lh__open_2pi__app_8h-source.html#l00023">CMError</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00625">FALSE</a>, <a class="el" href="../../d7/d8/lh__open_2general_8h-source.html#l00053">LH_END_PROC</a>, <a class="el" href="../../d7/d8/lh__open_2general_8h-source.html#l00052">LH_START_PROC</a>, <a class="el" href="../../d4/d6/lh__open_2pi__basic_8h.html#a58a55">noErr</a>, and <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>.
<p>
Referenced by <a class="el" href="../../d0/d6/lh__core_2fragment_8c-source.html#l00317">CombiMatrix()</a>, <a class="el" href="../../d1/d0/lh__core_2genluts_8c-source.html#l01324">Extract_TRC_Matrix()</a>, <a class="el" href="../../d0/d6/lh__core_2fragment_8c-source.html#l01334">MakeGamut16or32ForMonitor()</a>, and <a class="el" href="../../d1/d5/lh__core_2memlink_8c-source.html#l00905">NormalizeWithWhiteAdaption()</a>.
<p>
<pre class="fragment"><div>00390 {
00391         <span class="keywordtype">double</span>  detm, hilf1, hilf2, hilf3, hilf4, hilf5, hilf6;
00392         <span class="keywordtype">double</span>  *a;
00393         <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a21">Boolean</a> success = <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
00394 <span class="preprocessor">#ifdef DEBUG_OUTPUT</span>
00395 <span class="preprocessor"></span>        <a class="code" href="../../d2/d6/lh__open_2pi__app_8h.html#a11">CMError</a> err=<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a58a55">noErr</a>;
00396 <span class="preprocessor">#endif</span>
00397 <span class="preprocessor"></span>        <a class="code" href="../../d6/d9/lh__open_2general_8h.html#a1">LH_START_PROC</a>(<span class="stringliteral">"doubMatrixInvert"</span>)
00398         a = (<span class="keywordtype">double</span> *)MatHin;
00399         
00400         hilf1 = a[0] * a[4];
00401         hilf2 = a[1] * a[5];
00402         hilf3 = a[2] * a[3];
00403         hilf4 = a[2] * a[4];
00404         hilf5 = a[1] * a[3];
00405         hilf6 = a[0] * a[5];
00406         
00407         detm = hilf1 * a[8] + hilf2 * a[6]
00408                  + hilf3 * a[7] - hilf4 * a[6]
00409                  - hilf5 * a[8] - hilf6 * a[7];
00410         
00411         <span class="comment">/*      if(fabs(detm) &lt; 1.E-9) */</span>
00412         if ( (detm &lt; 1.E-9) &amp;&amp; (detm &gt; -1.E-9) )
00413         success = FALSE;
00414         else
00415         {
00416                 detm = 1. / detm;
00417                 
00418                 MatRueck[0][0] = (a[4] * a[8] - a[5] * a[7]) * detm;
00419                 MatRueck[0][1] = (a[7] * a[2] - a[8] * a[1]) * detm;
00420                 MatRueck[0][2] = (hilf2       - hilf4      ) * detm;
00421         
00422                 MatRueck[1][0] = (a[5] * a[6] - a[3] * a[8]) * detm;
00423                 MatRueck[1][1] = (a[8] * a[0] - a[6] * a[2]) * detm;
00424                 MatRueck[1][2] = (hilf3       - hilf6      ) * detm;
00425         
00426                 MatRueck[2][0] = (a[3] * a[7] - a[4] * a[6]) * detm;
00427                 MatRueck[2][1] = (a[6] * a[1] - a[7] * a[0]) * detm;
00428                 MatRueck[2][2] = (hilf1       - hilf5      ) * detm;
00429         }
00430         
00431         <a class="code" href="../../d6/d9/lh__open_2general_8h.html#a2">LH_END_PROC</a>(<span class="stringliteral">"doubMatrixInvert"</span>)
00432     return(success);
00433 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a12" doxytag="w98/lh_core/memlink.c::Fill_mft1_InputTable" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a11">CMError</a> Fill_mft1_InputTable           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a28">Ptr</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>theElut</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d8/d2/structicLut8.html">icLut8</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>lutPtr</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d4/d7/w98_2lh__core_2typedefs_8h.html#a13">CMMModelPtr</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>modelData</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Referenced by <a class="el" href="../../d1/d5/lh__core_2memlink_8c-source.html#l00521">MyAdd_NL_AToB0Tag_mft1()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a13" doxytag="w98/lh_core/memlink.c::Fill_mft1_OutputTable" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a11">CMError</a> Fill_mft1_OutputTable           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a28">Ptr</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>theAlut</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d8/d2/structicLut8.html">icLut8</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>lutPtr</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>long&nbsp;</td>
          <td class="mdname" nowrap> <em>offset</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d4/d7/w98_2lh__core_2typedefs_8h.html#a13">CMMModelPtr</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>modelData</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Referenced by <a class="el" href="../../d1/d5/lh__core_2memlink_8c-source.html#l00521">MyAdd_NL_AToB0Tag_mft1()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a16" doxytag="w98/lh_core/memlink.c::Fill_mft2_ColorTable" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a11">CMError</a> Fill_mft2_ColorTable           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a28">Ptr</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>theClut</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d6/d2/structicLut16.html">icLut16</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>lutPtr</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>long&nbsp;</td>
          <td class="mdname" nowrap> <em>offset</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>long&nbsp;</td>
          <td class="mdname" nowrap> <em>count</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Referenced by <a class="el" href="../../d1/d5/lh__core_2memlink_8c-source.html#l00619">MyAdd_NL_AToB0Tag_mft2()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a14" doxytag="w98/lh_core/memlink.c::Fill_mft2_InputTable" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a11">CMError</a> Fill_mft2_InputTable           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a28">Ptr</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>theElut</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d6/d2/structicLut16.html">icLut16</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>lutPtr</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d4/d7/w98_2lh__core_2typedefs_8h.html#a13">CMMModelPtr</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>modelData</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Referenced by <a class="el" href="../../d1/d5/lh__core_2memlink_8c-source.html#l00619">MyAdd_NL_AToB0Tag_mft2()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a15" doxytag="w98/lh_core/memlink.c::Fill_mft2_OutputTable" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a11">CMError</a> Fill_mft2_OutputTable           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a28">Ptr</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>theAlut</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d6/d2/structicLut16.html">icLut16</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>lutPtr</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>long&nbsp;</td>
          <td class="mdname" nowrap> <em>offset</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d4/d7/w98_2lh__core_2typedefs_8h.html#a13">CMMModelPtr</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>modelData</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Referenced by <a class="el" href="../../d1/d5/lh__core_2memlink_8c-source.html#l00619">MyAdd_NL_AToB0Tag_mft2()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a26" doxytag="w98/lh_core/memlink.c::GetMatrixedVal" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> double GetMatrixedVal           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">double&nbsp;</td>
          <td class="mdname" nowrap> <em>m</em>[3][3], </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>long&nbsp;</td>
          <td class="mdname" nowrap> <em>color</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d5/d1/structMyDoubleXYZ.html">MyDoubleXYZ</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>aXYZ</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Referenced by <a class="el" href="../../d1/d5/lh__core_2memlink_8c-source.html#l00905">NormalizeWithWhiteAdaption()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a18" doxytag="w98/lh_core/memlink.c::GetSizes" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a8">UINT32</a> GetSizes           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d4/d7/w98_2lh__core_2typedefs_8h.html#a13">CMMModelPtr</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>cw</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a8">UINT32</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>clutSize</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a23" doxytag="w98/lh_core/memlink.c::MakeMyDoubleXYZ" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void MakeMyDoubleXYZ           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d8/d6/structicXYZNumber.html">MyXYZNumber</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>x</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d5/d1/structMyDoubleXYZ.html">MyDoubleXYZ</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>ret</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a22" doxytag="w98/lh_core/memlink.c::MakeXYZNumber" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d8/d6/structicXYZNumber.html">MyXYZNumber</a> MakeXYZNumber           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d8/d6/structicXYZNumber.html">MyXYZNumber</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>x</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a17" doxytag="w98/lh_core/memlink.c::MyAdd_NL_AToB0Tag_mft1" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a11">CMError</a> MyAdd_NL_AToB0Tag_mft1           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d4/d7/w98_2lh__core_2typedefs_8h.html#a13">CMMModelPtr</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>cw</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d9/d2/structicLut8Type.html">icLut8Type</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>lutPtr</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>long&nbsp;</td>
          <td class="mdname" nowrap> <em>colorLutSize</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d2/d5/w98_2lh__core_2memlink_8c-source.html#l00522">522</a> of file <a class="el" href="../../d2/d5/w98_2lh__core_2memlink_8c-source.html">w98/lh_core/memlink.c</a>.
<p>
References <a class="el" href="../../d6/d6/mscmm_8w98_2lh__core_2profile_8h-source.html#l00790">icLut8Type::base</a>, <a class="el" href="../../d7/d8/lh__open_2general_8h-source.html#l00056">BlockMoveData</a>, <a class="el" href="../../d6/d6/mscmm_8w98_2lh__core_2profile_8h-source.html#l00591">icLut8::clutPoints</a>, <a class="el" href="../../d3/d5/lh__open_2pi__app_8h-source.html#l00023">CMError</a>, <a class="el" href="../../d1/d5/lh__core_2memlink_8c-source.html#l00043">CMHelperICC2int32Const</a>, <a class="el" href="../../d6/d6/mscmm_8w98_2lh__core_2profile_8h-source.html#l00602">icLut8::data</a>, <a class="el" href="../../d6/d5/lh__core_2defines_8h-source.html#l00038">DATA_2_PTR</a>, <a class="el" href="../../d8/d1/drivesup_8c-source.html#l00052">DebugPrint</a>, <a class="el" href="../../d6/d6/mscmm_8w98_2lh__core_2profile_8h-source.html#l00593">icLut8::e00</a>, <a class="el" href="../../d6/d6/mscmm_8w98_2lh__core_2profile_8h-source.html#l00594">icLut8::e01</a>, <a class="el" href="../../d6/d6/mscmm_8w98_2lh__core_2profile_8h-source.html#l00595">icLut8::e02</a>, <a class="el" href="../../d6/d6/mscmm_8w98_2lh__core_2profile_8h-source.html#l00596">icLut8::e10</a>, <a class="el" href="../../d6/d6/mscmm_8w98_2lh__core_2profile_8h-source.html#l00597">icLut8::e11</a>, <a class="el" href="../../d6/d6/mscmm_8w98_2lh__core_2profile_8h-source.html#l00598">icLut8::e12</a>, <a class="el" href="../../d6/d6/mscmm_8w98_2lh__core_2profile_8h-source.html#l00599">icLut8::e20</a>, <a class="el" href="../../d6/d6/mscmm_8w98_2lh__core_2profile_8h-source.html#l00600">icLut8::e21</a>, <a class="el" href="../../d6/d6/mscmm_8w98_2lh__core_2profile_8h-source.html#l00601">icLut8::e22</a>, <a class="el" href="../../d1/d6/w98_2lh__core_2memlink_8c.html#a12">Fill_mft1_InputTable()</a>, <a class="el" href="../../d1/d6/w98_2lh__core_2memlink_8c.html#a13">Fill_mft1_OutputTable()</a>, <a class="el" href="../../d8/d3/aug98_2dll32_2icc_8h-source.html#l00221">icSigLut8Type</a>, <a class="el" href="../../d6/d6/mscmm_8w98_2lh__core_2profile_8h-source.html#l00589">icLut8::inputChan</a>, <a class="el" href="../../d7/d8/lh__open_2general_8h-source.html#l00053">LH_END_PROC</a>, <a class="el" href="../../d7/d8/lh__open_2general_8h-source.html#l00052">LH_START_PROC</a>, <a class="el" href="../../d6/d5/lh__core_2defines_8h-source.html#l00041">LOCK_DATA</a>, <a class="el" href="../../d6/d6/mscmm_8w98_2lh__core_2profile_8h-source.html#l00791">icLut8Type::lut</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00070">OSType</a>, <a class="el" href="../../d6/d6/mscmm_8w98_2lh__core_2profile_8h-source.html#l00590">icLut8::outputChan</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00052">Ptr</a>, <a class="el" href="../../d0/d7/udf_8h-source.html#l00235">UINT16</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00030">UINT8</a>, and <a class="el" href="../../d6/d5/lh__core_2defines_8h-source.html#l00042">UNLOCK_DATA</a>.
<p>
Referenced by <a class="el" href="../../d9/d4/mscmm_2membaspr_8c-source.html#l00040">DeviceLinkFill()</a>, and <a class="el" href="../../d8/d5/mscmm_2memprof_8c-source.html#l00085">MyNewDeviceLinkFill()</a>.
<p>
<pre class="fragment"><div>00523 {
00524         <a class="code" href="../../d2/d6/lh__open_2pi__app_8h.html#a11">CMError</a>                 err;
00525         <a class="code" href="../../d8/d2/structicLut8.html">icLut8</a>                  *tempLutPtr;
00526         <span class="keywordtype">long</span>                    offset;
00527         <a class="code" href="../../d9/d7/udf_8h.html#a24">UINT16</a>                  inputChannels;
00528         <a class="code" href="../../d9/d7/udf_8h.html#a24">UINT16</a>                  outputChannels;
00529         <a class="code" href="../../d9/d7/udf_8h.html#a24">UINT16</a>                  gridPoints;
00530         
00531         <a class="code" href="../../d6/d9/lh__open_2general_8h.html#a1">LH_START_PROC</a>(<span class="stringliteral">"Add_NL_AToB0Tag_mft1"</span>)
00532 
00533         LOCK_DATA(cw-&gt;lutParam.inputLut);
00534         LOCK_DATA(cw-&gt;lutParam.colorLut);
00535         LOCK_DATA(cw-&gt;lutParam.outputLut);
00536         
00537         inputChannels  = (UINT16)cw-&gt;lutParam.colorLutInDim;
00538         outputChannels = (UINT16)cw-&gt;lutParam.colorLutOutDim;
00539         gridPoints         = (UINT16)cw-&gt;lutParam.colorLutGridPoints;
00540         
00541         tempLutPtr      = &amp;lutPtr-&gt;lut;
00542         CMHelperICC2int32Const(&amp;(lutPtr-&gt;base ), icSigLut8Type);
00543         CMHelperICC2int32Const((OSType*)&amp;(lutPtr-&gt;base )+1, 0);
00544         tempLutPtr-&gt;inputChan   = (UINT8)inputChannels;
00545         tempLutPtr-&gt;outputChan  = (UINT8)outputChannels;
00546         tempLutPtr-&gt;clutPoints  = (UINT8)gridPoints;
00547         tempLutPtr-&gt;e00 = tempLutPtr-&gt;e01 = tempLutPtr-&gt;e02 = 0;
00548         tempLutPtr-&gt;e10 = tempLutPtr-&gt;e11 = tempLutPtr-&gt;e12 = 0;
00549         tempLutPtr-&gt;e20 = tempLutPtr-&gt;e21 = tempLutPtr-&gt;e22 = 0;
00550         CMHelperICC2int32Const(&amp;(tempLutPtr-&gt;e00        ), 0x10000);
00551         CMHelperICC2int32Const(&amp;(tempLutPtr-&gt;e11        ), 0x10000);
00552         CMHelperICC2int32Const(&amp;(tempLutPtr-&gt;e22        ), 0x10000);
00553 
00554         err = Fill_mft1_InputTable((Ptr)DATA_2_PTR(cw-&gt;lutParam.inputLut), tempLutPtr, cw);
00555         if (err)
00556                 goto CleanupAndExit;
00557 
00558         offset = 256 * inputChannels;
00559         BlockMoveData( DATA_2_PTR(cw-&gt;lutParam.colorLut), &amp; tempLutPtr-&gt;data[0] + offset, colorLutSize);
00560 
00561         offset = offset + colorLutSize;
00562         err = Fill_mft1_OutputTable((Ptr)DATA_2_PTR(cw-&gt;lutParam.outputLut),  tempLutPtr, offset, cw);
00563         if (err)
00564                 goto CleanupAndExit;
00565 
00566 CleanupAndExit:
00567 
00568         #ifdef DEBUG_OUTPUT
00569         if ( err  )
00570                 DebugPrint("¥ MyAdd_NL_AToB0Tag_mft1-Error: result = %d\n",err);
00571         #endif
00572         UNLOCK_DATA(cw-&gt;lutParam.inputLut);
00573         UNLOCK_DATA(cw-&gt;lutParam.colorLut);
00574         UNLOCK_DATA(cw-&gt;lutParam.outputLut);
00575         LH_END_PROC("Add_NL_AToB0Tag_mft1")
00576         return err;
00577 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a19" doxytag="w98/lh_core/memlink.c::MyAdd_NL_AToB0Tag_mft2" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a11">CMError</a> MyAdd_NL_AToB0Tag_mft2           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d4/d7/w98_2lh__core_2typedefs_8h.html#a13">CMMModelPtr</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>cw</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d7/d2/structicLut16Type.html">icLut16Type</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>lutPtr</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>long&nbsp;</td>
          <td class="mdname" nowrap> <em>colorLutSize</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d2/d5/w98_2lh__core_2memlink_8c-source.html#l00620">620</a> of file <a class="el" href="../../d2/d5/w98_2lh__core_2memlink_8c-source.html">w98/lh_core/memlink.c</a>.
<p>
References <a class="el" href="../../d6/d6/mscmm_8w98_2lh__core_2profile_8h-source.html#l00784">icLut16Type::base</a>, <a class="el" href="../../d6/d6/mscmm_8w98_2lh__core_2profile_8h-source.html#l00564">icLut16::clutPoints</a>, <a class="el" href="../../d3/d5/lh__open_2pi__app_8h-source.html#l00023">CMError</a>, <a class="el" href="../../d1/d5/lh__core_2memlink_8c-source.html#l00041">CMHelperICC2int16Const</a>, <a class="el" href="../../d1/d5/lh__core_2memlink_8c-source.html#l00043">CMHelperICC2int32Const</a>, <a class="el" href="../../d6/d5/lh__core_2defines_8h-source.html#l00038">DATA_2_PTR</a>, <a class="el" href="../../d8/d1/drivesup_8c-source.html#l00052">DebugPrint</a>, <a class="el" href="../../d6/d6/mscmm_8w98_2lh__core_2profile_8h-source.html#l00566">icLut16::e00</a>, <a class="el" href="../../d6/d6/mscmm_8w98_2lh__core_2profile_8h-source.html#l00567">icLut16::e01</a>, <a class="el" href="../../d6/d6/mscmm_8w98_2lh__core_2profile_8h-source.html#l00568">icLut16::e02</a>, <a class="el" href="../../d6/d6/mscmm_8w98_2lh__core_2profile_8h-source.html#l00569">icLut16::e10</a>, <a class="el" href="../../d6/d6/mscmm_8w98_2lh__core_2profile_8h-source.html#l00570">icLut16::e11</a>, <a class="el" href="../../d6/d6/mscmm_8w98_2lh__core_2profile_8h-source.html#l00571">icLut16::e12</a>, <a class="el" href="../../d6/d6/mscmm_8w98_2lh__core_2profile_8h-source.html#l00572">icLut16::e20</a>, <a class="el" href="../../d6/d6/mscmm_8w98_2lh__core_2profile_8h-source.html#l00573">icLut16::e21</a>, <a class="el" href="../../d6/d6/mscmm_8w98_2lh__core_2profile_8h-source.html#l00574">icLut16::e22</a>, <a class="el" href="../../d1/d6/w98_2lh__core_2memlink_8c.html#a16">Fill_mft2_ColorTable()</a>, <a class="el" href="../../d1/d6/w98_2lh__core_2memlink_8c.html#a14">Fill_mft2_InputTable()</a>, <a class="el" href="../../d1/d6/w98_2lh__core_2memlink_8c.html#a15">Fill_mft2_OutputTable()</a>, <a class="el" href="../../d8/d3/aug98_2dll32_2icc_8h-source.html#l00220">icSigLut16Type</a>, <a class="el" href="../../d6/d6/mscmm_8w98_2lh__core_2profile_8h-source.html#l00562">icLut16::inputChan</a>, <a class="el" href="../../d6/d6/mscmm_8w98_2lh__core_2profile_8h-source.html#l00575">icLut16::inputEnt</a>, <a class="el" href="../../d7/d8/lh__open_2general_8h-source.html#l00053">LH_END_PROC</a>, <a class="el" href="../../d7/d8/lh__open_2general_8h-source.html#l00052">LH_START_PROC</a>, <a class="el" href="../../d6/d5/lh__core_2defines_8h-source.html#l00041">LOCK_DATA</a>, <a class="el" href="../../d6/d6/mscmm_8w98_2lh__core_2profile_8h-source.html#l00785">icLut16Type::lut</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00070">OSType</a>, <a class="el" href="../../d6/d6/mscmm_8w98_2lh__core_2profile_8h-source.html#l00563">icLut16::outputChan</a>, <a class="el" href="../../d6/d6/mscmm_8w98_2lh__core_2profile_8h-source.html#l00576">icLut16::outputEnt</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00052">Ptr</a>, <a class="el" href="../../d0/d7/udf_8h-source.html#l00235">UINT16</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00030">UINT8</a>, and <a class="el" href="../../d6/d5/lh__core_2defines_8h-source.html#l00042">UNLOCK_DATA</a>.
<p>
Referenced by <a class="el" href="../../d9/d4/mscmm_2membaspr_8c-source.html#l00040">DeviceLinkFill()</a>, and <a class="el" href="../../d8/d5/mscmm_2memprof_8c-source.html#l00085">MyNewDeviceLinkFill()</a>.
<p>
<pre class="fragment"><div>00621 {
00622         <a class="code" href="../../d2/d6/lh__open_2pi__app_8h.html#a11">CMError</a>                 err;
00623         <a class="code" href="../../d6/d2/structicLut16.html">icLut16</a>                 *tempLutPtr;
00624         <span class="keywordtype">long</span>                    offset;
00625         <a class="code" href="../../d9/d7/udf_8h.html#a24">UINT16</a>                  inputChannels;
00626         <a class="code" href="../../d9/d7/udf_8h.html#a24">UINT16</a>                  outputChannels;
00627         <a class="code" href="../../d9/d7/udf_8h.html#a24">UINT16</a>                  gridPoints;
00628         
00629         <a class="code" href="../../d6/d9/lh__open_2general_8h.html#a1">LH_START_PROC</a>(<span class="stringliteral">"Add_NL_AToB0Tag_mft2"</span>)
00630 
00631         LOCK_DATA(cw-&gt;lutParam.inputLut);
00632         LOCK_DATA(cw-&gt;lutParam.colorLut);
00633         LOCK_DATA(cw-&gt;lutParam.outputLut);
00634         
00635         inputChannels  = (UINT16)cw-&gt;lutParam.colorLutInDim;
00636         outputChannels = (UINT16)cw-&gt;lutParam.colorLutOutDim;
00637         gridPoints         = (UINT16)cw-&gt;lutParam.colorLutGridPoints;
00638         
00639         tempLutPtr      = &amp;lutPtr-&gt;lut;
00640         CMHelperICC2int32Const(&amp;(lutPtr-&gt;base ), icSigLut16Type);
00641         CMHelperICC2int32Const((OSType*)&amp;(lutPtr-&gt;base )+1, 0);
00642         tempLutPtr-&gt;inputChan   = (UINT8)inputChannels;
00643         tempLutPtr-&gt;outputChan  = (UINT8)outputChannels;
00644         tempLutPtr-&gt;clutPoints  = (UINT8)((gridPoints&gt;255)?255:gridPoints);
00645         tempLutPtr-&gt;e00 = tempLutPtr-&gt;e01 = tempLutPtr-&gt;e02 = 0;
00646         tempLutPtr-&gt;e10 = tempLutPtr-&gt;e11 = tempLutPtr-&gt;e12 = 0;
00647         tempLutPtr-&gt;e20 = tempLutPtr-&gt;e21 = tempLutPtr-&gt;e22 = 0;
00648         CMHelperICC2int32Const(&amp;(tempLutPtr-&gt;e00        ), 0x10000);
00649         CMHelperICC2int32Const(&amp;(tempLutPtr-&gt;e11        ), 0x10000);
00650         CMHelperICC2int32Const(&amp;(tempLutPtr-&gt;e22        ), 0x10000);
00651 
00652         tempLutPtr-&gt;inputEnt    = (UINT16)cw-&gt;lutParam.inputLutEntryCount;
00653         tempLutPtr-&gt;outputEnt   = (UINT16)cw-&gt;lutParam.outputLutEntryCount;
00654         err = Fill_mft2_InputTable((Ptr)DATA_2_PTR(cw-&gt;lutParam.inputLut), tempLutPtr, cw);
00655         if (err)
00656                 goto CleanupAndExit;
00657 
00658         offset = cw-&gt;lutParam.inputLutEntryCount * inputChannels;
00659         Fill_mft2_ColorTable( (Ptr)DATA_2_PTR(cw-&gt;lutParam.colorLut), tempLutPtr, offset, colorLutSize);
00660 
00661         offset = offset + colorLutSize;
00662         err = Fill_mft2_OutputTable((Ptr)DATA_2_PTR(cw-&gt;lutParam.outputLut),  tempLutPtr, offset, cw);
00663         if (err)
00664                 goto CleanupAndExit;
00665 
00666         CMHelperICC2int16Const(&amp;(tempLutPtr-&gt;inputEnt   ), (UINT16)cw-&gt;lutParam.inputLutEntryCount);
00667         CMHelperICC2int16Const(&amp;(tempLutPtr-&gt;outputEnt  ), (UINT16)cw-&gt;lutParam.outputLutEntryCount);
00668 
00669 CleanupAndExit:
00670 
00671         #ifdef DEBUG_OUTPUT
00672         if ( err  )
00673                 DebugPrint("¥ MyAdd_NL_AToB0Tag_mft2-Error: result = %d\n",err);
00674         #endif
00675         UNLOCK_DATA(cw-&gt;lutParam.inputLut);
00676         UNLOCK_DATA(cw-&gt;lutParam.colorLut);
00677         UNLOCK_DATA(cw-&gt;lutParam.outputLut);
00678         LH_END_PROC("Add_NL_AToB0Tag_mft2")
00679         return err;
00680 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a9" doxytag="w98/lh_core/memlink.c::MyAdd_NL_ColorantTag" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a11">CMError</a> MyAdd_NL_ColorantTag           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d9/d6/structicXYZType.html">icXYZType</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>descPtr</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d8/d6/structicXYZNumber.html">MyXYZNumber</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>aColor</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d2/d5/w98_2lh__core_2memlink_8c-source.html#l00222">222</a> of file <a class="el" href="../../d2/d5/w98_2lh__core_2memlink_8c-source.html">w98/lh_core/memlink.c</a>.
<p>
References <a class="el" href="../../d6/d6/mscmm_8w98_2lh__core_2profile_8h-source.html#l00886">icXYZType::base</a>, <a class="el" href="../../d3/d5/lh__open_2pi__app_8h-source.html#l00023">CMError</a>, <a class="el" href="../../d7/d8/lh__open_2general_8h-source.html#l00090">CMHelperICC2int32</a>, <a class="el" href="../../d1/d5/lh__core_2memlink_8c-source.html#l00043">CMHelperICC2int32Const</a>, <a class="el" href="../../d6/d6/mscmm_8w98_2lh__core_2profile_8h-source.html#l00541">icXYZArray::data</a>, <a class="el" href="../../d6/d6/mscmm_8w98_2lh__core_2profile_8h-source.html#l00887">icXYZType::data</a>, <a class="el" href="../../d8/d3/aug98_2dll32_2icc_8h-source.html#l00237">icSigXYZType</a>, <a class="el" href="../../d3/d5/lh__core_2memlink_8h-source.html#l00004">MyXYZNumber</a>, <a class="el" href="../../d4/d6/lh__open_2pi__basic_8h.html#a58a55">noErr</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00071">OSErr</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00070">OSType</a>, <a class="el" href="../../d6/d6/mscmm_8w98_2lh__core_2profile_8h-source.html#l00534">icXYZNumber::X</a>, <a class="el" href="../../d6/d6/mscmm_8w98_2lh__core_2profile_8h-source.html#l00535">icXYZNumber::Y</a>, and <a class="el" href="../../d6/d6/mscmm_8w98_2lh__core_2profile_8h-source.html#l00536">icXYZNumber::Z</a>.
<p>
Referenced by <a class="el" href="../../d9/d4/mscmm_2membaspr_8c-source.html#l00040">DeviceLinkFill()</a>, and <a class="el" href="../../d8/d5/mscmm_2memprof_8c-source.html#l00085">MyNewDeviceLinkFill()</a>.
<p>
<pre class="fragment"><div>00223 {
00224         <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a35">OSErr</a>                                   err = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a58a55">noErr</a>;
00225         
00226         <a class="code" href="../../d0/d6/lh__core_2memlink_8c.html#a1">CMHelperICC2int32Const</a>(&amp;(descPtr-&gt;<a class="code" href="../../d9/d6/structicXYZType.html#o0">base</a> ), icSigXYZType);
00227         <a class="code" href="../../d0/d6/lh__core_2memlink_8c.html#a1">CMHelperICC2int32Const</a>((OSType*)&amp;(descPtr-&gt;<a class="code" href="../../d9/d6/structicXYZType.html#o0">base</a> )+1, 0);
00228         <a class="code" href="../../d6/d9/lh__open_2general_8h.html#a7">CMHelperICC2int32</a>(&amp;(descPtr-&gt;<a class="code" href="../../d9/d6/structicXYZType.html#o1">data</a>.<a class="code" href="../../d7/d6/structicXYZArray.html#o0">data</a>[0].<a class="code" href="../../d8/d6/structicXYZNumber.html#o0">X</a>      ), &amp;aColor-&gt;<a class="code" href="../../d8/d6/structicXYZNumber.html#o0">X</a>);
00229         <a class="code" href="../../d6/d9/lh__open_2general_8h.html#a7">CMHelperICC2int32</a>(&amp;(descPtr-&gt;<a class="code" href="../../d9/d6/structicXYZType.html#o1">data</a>.<a class="code" href="../../d7/d6/structicXYZArray.html#o0">data</a>[0].<a class="code" href="../../d8/d6/structicXYZNumber.html#o1">Y</a>      ), &amp;aColor-&gt;<a class="code" href="../../d8/d6/structicXYZNumber.html#o1">Y</a>);
00230         <a class="code" href="../../d6/d9/lh__open_2general_8h.html#a7">CMHelperICC2int32</a>(&amp;(descPtr-&gt;<a class="code" href="../../d9/d6/structicXYZType.html#o1">data</a>.<a class="code" href="../../d7/d6/structicXYZArray.html#o0">data</a>[0].<a class="code" href="../../d8/d6/structicXYZNumber.html#o2">Z</a>      ), &amp;aColor-&gt;<a class="code" href="../../d8/d6/structicXYZNumber.html#o2">Z</a>);
00231         <span class="keywordflow">return</span> err;
00232 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a11" doxytag="w98/lh_core/memlink.c::MyAdd_NL_CopyrightTag" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a11">CMError</a> MyAdd_NL_CopyrightTag           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">unsigned char *&nbsp;</td>
          <td class="mdname" nowrap> <em>copyrightText</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d7/d8/structLHTextType.html">LHTextType</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>aLHTextType</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d2/d5/w98_2lh__core_2memlink_8c-source.html#l00245">245</a> of file <a class="el" href="../../d2/d5/w98_2lh__core_2memlink_8c-source.html">w98/lh_core/memlink.c</a>.
<p>
References <a class="el" href="../../d4/d5/w98_2lh__core_2memlink_8h-source.html#l00007">LHTextType::base</a>, <a class="el" href="../../d7/d6/lh__open_2pi__mem_8c-source.html#l00337">BlockMove()</a>, <a class="el" href="../../d3/d5/lh__open_2pi__app_8h-source.html#l00023">CMError</a>, <a class="el" href="../../d1/d5/lh__core_2memlink_8c-source.html#l00043">CMHelperICC2int32Const</a>, <a class="el" href="../../d8/d1/drivesup_8c-source.html#l00052">DebugPrint</a>, <a class="el" href="../../d8/d3/aug98_2dll32_2icc_8h-source.html#l00228">icSigTextType</a>, <a class="el" href="../../d4/d6/lh__open_2pi__basic_8h.html#a58a55">noErr</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00071">OSErr</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00070">OSType</a>, and <a class="el" href="../../d4/d5/w98_2lh__core_2memlink_8h-source.html#l00009">LHTextType::text</a>.
<p>
Referenced by <a class="el" href="../../d9/d4/mscmm_2membaspr_8c-source.html#l00040">DeviceLinkFill()</a>, and <a class="el" href="../../d8/d5/mscmm_2memprof_8c-source.html#l00085">MyNewDeviceLinkFill()</a>.
<p>
<pre class="fragment"><div>00246 {
00247     <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a35">OSErr</a>                       err=<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a58a55">noErr</a>;
00248 
00249     copyrightText[copyrightText[0]] = 0x00;
00250     <a class="code" href="../../d0/d6/lh__core_2memlink_8c.html#a1">CMHelperICC2int32Const</a>(&amp;(aLHTextType-&gt;<a class="code" href="../../d7/d8/structLHTextType.html#o0">base</a> ), icSigTextType);
00251         <a class="code" href="../../d0/d6/lh__core_2memlink_8c.html#a1">CMHelperICC2int32Const</a>((OSType*)&amp;(aLHTextType-&gt;<a class="code" href="../../d7/d8/structLHTextType.html#o0">base</a> )+1, 0);
00252     <a class="code" href="../../d9/d7/w98_2lh__open_2pi__mem_8h.html#a10">BlockMove</a>(&amp;copyrightText[1], &amp;aLHTextType-&gt;<a class="code" href="../../d7/d8/structLHTextType.html#o2">text</a>[0], copyrightText[0]);
00253 
00254 <span class="preprocessor">#ifdef DEBUG_OUTPUT</span>
00255 <span class="preprocessor"></span>    <span class="keywordflow">if</span> ( err &amp;&amp; DebugCheck(kThisFile, kDebugErrorInfo) )
00256         <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"¥ MyAdd_NL_CopyrightTag-Error: result = %d\n"</span>,err);
00257 <span class="preprocessor">#endif</span>
00258 <span class="preprocessor"></span>    <span class="keywordflow">return</span> err;
00259 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a10" doxytag="w98/lh_core/memlink.c::MyAdd_NL_CurveTag" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a11">CMError</a> MyAdd_NL_CurveTag           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d5/d1/structicCurveType.html">icCurveType</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>descPtr</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>unsigned short&nbsp;</td>
          <td class="mdname" nowrap> <em>Gamma</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d2/d5/w98_2lh__core_2memlink_8c-source.html#l00234">234</a> of file <a class="el" href="../../d2/d5/w98_2lh__core_2memlink_8c-source.html">w98/lh_core/memlink.c</a>.
<p>
References <a class="el" href="../../d6/d6/mscmm_8w98_2lh__core_2profile_8h-source.html#l00766">icCurveType::base</a>, <a class="el" href="../../d3/d5/lh__open_2pi__app_8h-source.html#l00023">CMError</a>, <a class="el" href="../../d7/d8/lh__open_2general_8h-source.html#l00088">CMHelperICC2int16</a>, <a class="el" href="../../d1/d5/lh__core_2memlink_8c-source.html#l00043">CMHelperICC2int32Const</a>, <a class="el" href="../../d6/d6/mscmm_8w98_2lh__core_2profile_8h-source.html#l00546">icCurve::count</a>, <a class="el" href="../../d6/d6/mscmm_8w98_2lh__core_2profile_8h-source.html#l00767">icCurveType::curve</a>, <a class="el" href="../../d6/d6/mscmm_8w98_2lh__core_2profile_8h-source.html#l00547">icCurve::data</a>, <a class="el" href="../../d8/d3/aug98_2dll32_2icc_8h-source.html#l00217">icSigCurveType</a>, <a class="el" href="../../d4/d6/lh__open_2pi__basic_8h.html#a58a55">noErr</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00071">OSErr</a>, and <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00070">OSType</a>.
<p>
<pre class="fragment"><div>00235 {
00236         <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a35">OSErr</a>                                   err = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a58a55">noErr</a>;
00237         
00238         <a class="code" href="../../d0/d6/lh__core_2memlink_8c.html#a1">CMHelperICC2int32Const</a>(&amp;(descPtr-&gt;<a class="code" href="../../d5/d1/structicCurveType.html#o0">base</a> ), icSigCurveType);
00239         <a class="code" href="../../d0/d6/lh__core_2memlink_8c.html#a1">CMHelperICC2int32Const</a>((OSType*)&amp;(descPtr-&gt;<a class="code" href="../../d5/d1/structicCurveType.html#o0">base</a> )+1, 0);
00240         <a class="code" href="../../d0/d6/lh__core_2memlink_8c.html#a1">CMHelperICC2int32Const</a>(&amp;(descPtr-&gt;<a class="code" href="../../d5/d1/structicCurveType.html#o1">curve</a>.<a class="code" href="../../d4/d1/structicCurve.html#o0">count</a> ), 1);
00241         <a class="code" href="../../d6/d9/lh__open_2general_8h.html#a6">CMHelperICC2int16</a>(&amp;(descPtr-&gt;<a class="code" href="../../d5/d1/structicCurveType.html#o1">curve</a>.<a class="code" href="../../d4/d1/structicCurve.html#o1">data</a>[0] ), &amp;Gamma );
00242         <span class="keywordflow">return</span> err;
00243 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a8" doxytag="w98/lh_core/memlink.c::MyAdd_NL_DescriptionTag" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a11">CMError</a> MyAdd_NL_DescriptionTag           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d6/d8/structLHTextDescriptionType.html">LHTextDescriptionType</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>descPtr</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>unsigned char *&nbsp;</td>
          <td class="mdname" nowrap> <em>theText</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d2/d5/w98_2lh__core_2memlink_8c-source.html#l00178">178</a> of file <a class="el" href="../../d2/d5/w98_2lh__core_2memlink_8c-source.html">w98/lh_core/memlink.c</a>.
<p>
References <a class="el" href="../../d4/d5/w98_2lh__core_2memlink_8h-source.html#l00015">LHTextDescriptionType::ASCIICount</a>, <a class="el" href="../../d4/d5/w98_2lh__core_2memlink_8h-source.html#l00016">LHTextDescriptionType::ASCIIName</a>, <a class="el" href="../../d7/d6/lh__open_2pi__mem_8c-source.html#l00337">BlockMove()</a>, <a class="el" href="../../d3/d5/lh__open_2pi__app_8h-source.html#l00023">CMError</a>, <a class="el" href="../../d1/d5/lh__core_2memlink_8c-source.html#l00043">CMHelperICC2int32Const</a>, <a class="el" href="../../d8/d3/aug98_2dll32_2icc_8h-source.html#l00229">icSigTextDescriptionType</a>, <a class="el" href="../../d4/d6/lh__open_2pi__basic_8h.html#a58a55">noErr</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00071">OSErr</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00052">Ptr</a>, <a class="el" href="../../d4/d5/w98_2lh__core_2memlink_8h-source.html#l00014">LHTextDescriptionType::reserved</a>, and <a class="el" href="../../d4/d5/w98_2lh__core_2memlink_8h-source.html#l00013">LHTextDescriptionType::typeDescriptor</a>.
<p>
Referenced by <a class="el" href="../../d9/d4/mscmm_2membaspr_8c-source.html#l00040">DeviceLinkFill()</a>, and <a class="el" href="../../d8/d5/mscmm_2memprof_8c-source.html#l00085">MyNewDeviceLinkFill()</a>.
<p>
<pre class="fragment"><div>00179 {
00180         <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a28">Ptr</a>                                             thePtr;
00181         <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a35">OSErr</a>                                   err = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a58a55">noErr</a>;
00182         
00183         theText[theText[0]] = 0x00;
00184         
00185         <span class="comment">/*descPtr = (LHTextDescriptionType*)NewPtrClear( theSize );      */</span>
00186         <span class="keywordflow">if</span> (descPtr == 0)
00187                 <span class="keywordflow">return</span> -1;
00188         
00189         <span class="comment">/*------------------------------------------------------------------------ ASCII */</span>
00190         <a class="code" href="../../d0/d6/lh__core_2memlink_8c.html#a1">CMHelperICC2int32Const</a>(&amp;(descPtr-&gt;<a class="code" href="../../d6/d8/structLHTextDescriptionType.html#o0">typeDescriptor</a> ), icSigTextDescriptionType);
00191         <a class="code" href="../../d0/d6/lh__core_2memlink_8c.html#a1">CMHelperICC2int32Const</a>(&amp;(descPtr-&gt;<a class="code" href="../../d6/d8/structLHTextDescriptionType.html#o1">reserved</a> ), 0);
00192         <a class="code" href="../../d0/d6/lh__core_2memlink_8c.html#a1">CMHelperICC2int32Const</a>(&amp;(descPtr-&gt;<a class="code" href="../../d6/d8/structLHTextDescriptionType.html#o2">ASCIICount</a>     ), (<span class="keywordtype">long</span>)theText[0]);
00193         thePtr = (<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a28">Ptr</a>) &amp;descPtr-&gt;<a class="code" href="../../d6/d8/structLHTextDescriptionType.html#o3">ASCIIName</a>[0];
00194         <a class="code" href="../../d9/d7/w98_2lh__open_2pi__mem_8h.html#a10">BlockMove</a>(&amp;theText[1], thePtr, theText[0]);
00195         thePtr += theText[0];
00196         
00197         <span class="comment">/*------------------------------------------------------------------------ Unicode */</span>
00199         <span class="comment">/*thePtr+=sizeof(unsigned long); */</span>
00200         *thePtr++ = 0;
00201         *thePtr++ = 0;
00202         *thePtr++ = 0;
00203         *thePtr++ = 0;
00205         <span class="comment">/*thePtr+=sizeof(unsigned long); */</span>
00206         *thePtr++ = 0;
00207         *thePtr++ = 0;
00208         *thePtr++ = 0;
00209         *thePtr++ = 0;
00210         <span class="comment">/*BlockMove(&amp;theText[1], thePtr, theText[0]);           //Unicode string  */</span>
00211         <span class="comment">/*thePtr += theText[0]; */</span>
00212         
00213         <span class="comment">/*------------------------------------------------------------------------ Macintosh */</span>
00216         *thePtr++ = 0;
00217         *thePtr++ = 0;
00218         <a class="code" href="../../d9/d7/w98_2lh__open_2pi__mem_8h.html#a10">BlockMove</a>(&amp;theText[0], thePtr, theText[0]+1);   
00219         <span class="keywordflow">return</span> err;
00220 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a6" doxytag="w98/lh_core/memlink.c::MyAdd_NL_Header" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a11">CMError</a> MyAdd_NL_Header           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a8">UINT32</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>theSize</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d1/d2/structicHeader.html">icHeader</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>linkHeader</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a8">UINT32</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>aIntent</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a8">UINT32</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>aClass</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a8">UINT32</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>aColorSpace</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a8">UINT32</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>aConnectionSpace</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d2/d5/w98_2lh__core_2memlink_8c-source.html#l00053">53</a> of file <a class="el" href="../../d2/d5/w98_2lh__core_2memlink_8c-source.html">w98/lh_core/memlink.c</a>.
<p>
References <a class="el" href="../../d6/d6/mscmm_8w98_2lh__core_2profile_8h-source.html#l00924">icHeader::attributes</a>, <a class="el" href="../../d3/d5/lh__open_2pi__app_8h-source.html#l00023">CMError</a>, <a class="el" href="../../d7/d8/lh__open_2general_8h-source.html#l00088">CMHelperICC2int16</a>, <a class="el" href="../../d1/d5/lh__core_2memlink_8c-source.html#l00043">CMHelperICC2int32Const</a>, <a class="el" href="../../d6/d6/mscmm_8w98_2lh__core_2profile_8h-source.html#l00913">icHeader::cmmId</a>, <a class="el" href="../../d6/d6/mscmm_8w98_2lh__core_2profile_8h-source.html#l00916">icHeader::colorSpace</a>, <a class="el" href="../../d6/d6/mscmm_8w98_2lh__core_2profile_8h-source.html#l00927">icHeader::creator</a>, <a class="el" href="../../d6/d6/mscmm_8w98_2lh__core_2profile_8h-source.html#l00918">icHeader::date</a>, <a class="el" href="../../d6/d6/mscmm_8w98_2lh__core_2profile_8h-source.html#l00526">icDateTimeNumber::day</a>, <a class="el" href="../../d6/d5/w98_2lh__open_2pi__basic_8h-source.html#l00149">DateTimeRec::day</a>, <a class="el" href="../../d6/d6/mscmm_8w98_2lh__core_2profile_8h-source.html#l00915">icHeader::deviceClass</a>, <a class="el" href="../../d6/d6/mscmm_8w98_2lh__core_2profile_8h-source.html#l00921">icHeader::flags</a>, <a class="el" href="../../d7/d9/w98_2lh__open_2general_8h.html#a90">GetDateTime()</a>, <a class="el" href="../../d6/d5/w98_2lh__open_2pi__basic_8h-source.html#l00150">DateTimeRec::hour</a>, <a class="el" href="../../d6/d6/mscmm_8w98_2lh__core_2profile_8h-source.html#l00527">icDateTimeNumber::hours</a>, <a class="el" href="../../d8/d3/aug98_2dll32_2icc_8h-source.html#l00092">icMagicNumber</a>, <a class="el" href="../../d8/d3/aug98_2dll32_2icc_8h-source.html#l00276">icSigMicrosoft</a>, <a class="el" href="../../d8/d3/aug98_2dll32_2icc_8h-source.html#l00093">icVersionNumber</a>, <a class="el" href="../../d6/d6/mscmm_8w98_2lh__core_2profile_8h-source.html#l00926">icHeader::illuminant</a>, <a class="el" href="../../d6/d6/mscmm_8w98_2lh__core_2profile_8h-source.html#l00919">icHeader::magic</a>, <a class="el" href="../../d6/d6/mscmm_8w98_2lh__core_2profile_8h-source.html#l00922">icHeader::manufacturer</a>, <a class="el" href="../../d6/d5/w98_2lh__open_2pi__basic_8h-source.html#l00151">DateTimeRec::minute</a>, <a class="el" href="../../d6/d6/mscmm_8w98_2lh__core_2profile_8h-source.html#l00528">icDateTimeNumber::minutes</a>, <a class="el" href="../../d6/d6/mscmm_8w98_2lh__core_2profile_8h-source.html#l00923">icHeader::model</a>, <a class="el" href="../../d6/d6/mscmm_8w98_2lh__core_2profile_8h-source.html#l00525">icDateTimeNumber::month</a>, <a class="el" href="../../d6/d5/w98_2lh__open_2pi__basic_8h-source.html#l00148">DateTimeRec::month</a>, <a class="el" href="../../d4/d6/lh__open_2pi__basic_8h.html#a58a55">noErr</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00071">OSErr</a>, <a class="el" href="../../d6/d6/mscmm_8w98_2lh__core_2profile_8h-source.html#l00917">icHeader::pcs</a>, <a class="el" href="../../d6/d6/mscmm_8w98_2lh__core_2profile_8h-source.html#l00920">icHeader::platform</a>, <a class="el" href="../../d6/d6/mscmm_8w98_2lh__core_2profile_8h-source.html#l00925">icHeader::renderingIntent</a>, <a class="el" href="../../d6/d5/w98_2lh__open_2pi__basic_8h-source.html#l00152">DateTimeRec::second</a>, <a class="el" href="../../d6/d6/mscmm_8w98_2lh__core_2profile_8h-source.html#l00529">icDateTimeNumber::seconds</a>, <a class="el" href="../../d7/d9/w98_2lh__open_2general_8h.html#a91">SecondsToDate()</a>, <a class="el" href="../../d6/d6/mscmm_8w98_2lh__core_2profile_8h-source.html#l00912">icHeader::size</a>, <a class="el" href="../../d6/d6/mscmm_8w98_2lh__core_2profile_8h-source.html#l00914">icHeader::version</a>, <a class="el" href="../../d6/d6/mscmm_8w98_2lh__core_2profile_8h-source.html#l00534">icXYZNumber::X</a>, <a class="el" href="../../d6/d6/mscmm_8w98_2lh__core_2profile_8h-source.html#l00535">icXYZNumber::Y</a>, <a class="el" href="../../d6/d6/mscmm_8w98_2lh__core_2profile_8h-source.html#l00524">icDateTimeNumber::year</a>, <a class="el" href="../../d6/d5/w98_2lh__open_2pi__basic_8h-source.html#l00147">DateTimeRec::year</a>, and <a class="el" href="../../d6/d6/mscmm_8w98_2lh__core_2profile_8h-source.html#l00536">icXYZNumber::Z</a>.
<p>
Referenced by <a class="el" href="../../d9/d4/mscmm_2membaspr_8c-source.html#l00040">DeviceLinkFill()</a>.
<p>
<pre class="fragment"><div>00055 {
00056         <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a35">OSErr</a>                                   err = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a58a55">noErr</a>;
00057 <span class="preprocessor">#if ! __IS_MSDOS</span>
00058 <span class="preprocessor"></span>        <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>                   secs;
00059 <span class="preprocessor">#endif</span>
00060 <span class="preprocessor"></span>        <a class="code" href="../../d5/d7/structDateTimeRec.html">DateTimeRec</a>                             datetimeRec;
00061         <span class="comment">/*icHeader      linkHeader; */</span>
00062 
00063 <span class="preprocessor">#if __IS_MSDOS</span>
00064 <span class="preprocessor"></span>        SYSTEMTIME aSystemTime;
00065         GetLocalTime( (SYSTEMTIME *)&amp;aSystemTime);
00066         datetimeRec.<a class="code" href="../../d5/d7/structDateTimeRec.html#o0">year</a>         = aSystemTime.wYear;   datetimeRec.<a class="code" href="../../d5/d7/structDateTimeRec.html#o1">month</a>        = aSystemTime.wMonth;
00067         datetimeRec.<a class="code" href="../../d5/d7/structDateTimeRec.html#o2">day</a>          = aSystemTime.wDay;    datetimeRec.<a class="code" href="../../d5/d7/structDateTimeRec.html#o3">hour</a>         = aSystemTime.wHour;
00068         datetimeRec.<a class="code" href="../../d5/d7/structDateTimeRec.html#o4">minute</a>       = aSystemTime.wMinute; datetimeRec.<a class="code" href="../../d5/d7/structDateTimeRec.html#o5">second</a>       = aSystemTime.wSecond;
00069 <span class="preprocessor">#else</span>
00070 <span class="preprocessor"></span><span class="preprocessor">#if __IS_MAC</span>
00071 <span class="preprocessor"></span>        <a class="code" href="../../d7/d9/w98_2lh__open_2general_8h.html#a90">GetDateTime</a>(&amp;secs);
00072         <a class="code" href="../../d7/d9/w98_2lh__open_2general_8h.html#a91">SecondsToDate</a>(secs, &amp;datetimeRec);<span class="comment">/* Secs2Date  (link.*)=(.*); CMHelperICC2int32(\&amp;(\1),\2); */</span>
00073 <span class="preprocessor">#else</span>
00074 <span class="preprocessor"></span>    <span class="keyword">struct </span>tm* loctime;
00075     time_t long_time;
00076     time( &amp;long_time );                <span class="comment">/* Get time as long integer. */</span>
00077         loctime = localtime(&amp;long_time);
00078         datetimeRec.<a class="code" href="../../d5/d7/structDateTimeRec.html#o0">year</a>         = loctime-&gt;tm_year;    datetimeRec.<a class="code" href="../../d5/d7/structDateTimeRec.html#o1">month</a>       = loctime-&gt;tm_mon+1;
00079         datetimeRec.<a class="code" href="../../d5/d7/structDateTimeRec.html#o2">day</a>          = loctime-&gt;tm_mday;    datetimeRec.<a class="code" href="../../d5/d7/structDateTimeRec.html#o3">hour</a>        = loctime-&gt;tm_hour;
00080         datetimeRec.<a class="code" href="../../d5/d7/structDateTimeRec.html#o4">minute</a>       = loctime-&gt;tm_min;             datetimeRec.<a class="code" href="../../d5/d7/structDateTimeRec.html#o5">second</a>      = loctime-&gt;tm_sec;
00081 <span class="preprocessor">#endif</span>
00082 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
00083 <span class="preprocessor"></span>        
00084         <a class="code" href="../../d0/d6/lh__core_2memlink_8c.html#a1">CMHelperICC2int32Const</a>(&amp;(linkHeader-&gt;<a class="code" href="../../d1/d2/structicHeader.html#o0">size</a>                               ), theSize);            <span class="comment">/* This is the total size of the CMProfileRef */</span>
00085         <a class="code" href="../../d0/d6/lh__core_2memlink_8c.html#a1">CMHelperICC2int32Const</a>(&amp;(linkHeader-&gt;<a class="code" href="../../d1/d2/structicHeader.html#o1">cmmId</a>                              ), 'Win ');                                                     <span class="comment">/* CMM signature,  Registered with ICC consortium  */</span>
00086         <a class="code" href="../../d0/d6/lh__core_2memlink_8c.html#a1">CMHelperICC2int32Const</a>(&amp;(linkHeader-&gt;<a class="code" href="../../d1/d2/structicHeader.html#o2">version</a>                    ), icVersionNumber);                            <span class="comment">/* Version of CMProfile format */</span>
00087         <a class="code" href="../../d0/d6/lh__core_2memlink_8c.html#a1">CMHelperICC2int32Const</a>(&amp;(linkHeader-&gt;<a class="code" href="../../d1/d2/structicHeader.html#o3">deviceClass</a>                ), aClass);                                     <span class="comment">/* input, display, output, devicelink, abstract, or color conversion profile type */</span>
00088         
00089         <a class="code" href="../../d0/d6/lh__core_2memlink_8c.html#a1">CMHelperICC2int32Const</a>(&amp;(linkHeader-&gt;<a class="code" href="../../d1/d2/structicHeader.html#o4">colorSpace</a>                 ), aColorSpace);        <span class="comment">/* color space of data = dataColorSpace of first profile*/</span>
00090 
00091         <a class="code" href="../../d0/d6/lh__core_2memlink_8c.html#a1">CMHelperICC2int32Const</a>(&amp;(linkHeader-&gt;<a class="code" href="../../d1/d2/structicHeader.html#o5">pcs</a>                                ), aConnectionSpace);   <span class="comment">/* profile connection color space = dataColorSpace of last profile*/</span>
00092         
00093         <a class="code" href="../../d6/d9/lh__open_2general_8h.html#a6">CMHelperICC2int16</a>(&amp;(linkHeader-&gt;<a class="code" href="../../d1/d2/structicHeader.html#o6">date</a>.<a class="code" href="../../d8/d1/structicDateTimeNumber.html#o0">year</a>                               ), &amp;datetimeRec.<a class="code" href="../../d5/d7/structDateTimeRec.html#o0">year</a>);                                  <span class="comment">/* date and time of profile creation */</span>
00094         <a class="code" href="../../d6/d9/lh__open_2general_8h.html#a6">CMHelperICC2int16</a>(&amp;(linkHeader-&gt;<a class="code" href="../../d1/d2/structicHeader.html#o6">date</a>.<a class="code" href="../../d8/d1/structicDateTimeNumber.html#o1">month</a>                              ), &amp;datetimeRec.<a class="code" href="../../d5/d7/structDateTimeRec.html#o1">month</a>); 
00095         <a class="code" href="../../d6/d9/lh__open_2general_8h.html#a6">CMHelperICC2int16</a>(&amp;(linkHeader-&gt;<a class="code" href="../../d1/d2/structicHeader.html#o6">date</a>.<a class="code" href="../../d8/d1/structicDateTimeNumber.html#o2">day</a>                                ), &amp;datetimeRec.<a class="code" href="../../d5/d7/structDateTimeRec.html#o2">day</a>);   
00096         <a class="code" href="../../d6/d9/lh__open_2general_8h.html#a6">CMHelperICC2int16</a>(&amp;(linkHeader-&gt;<a class="code" href="../../d1/d2/structicHeader.html#o6">date</a>.<a class="code" href="../../d8/d1/structicDateTimeNumber.html#o3">hours</a>                              ), &amp;datetimeRec.<a class="code" href="../../d5/d7/structDateTimeRec.html#o3">hour</a>);  
00097         <a class="code" href="../../d6/d9/lh__open_2general_8h.html#a6">CMHelperICC2int16</a>(&amp;(linkHeader-&gt;<a class="code" href="../../d1/d2/structicHeader.html#o6">date</a>.<a class="code" href="../../d8/d1/structicDateTimeNumber.html#o4">minutes</a>                    ), &amp;datetimeRec.<a class="code" href="../../d5/d7/structDateTimeRec.html#o4">minute</a>);        
00098         <a class="code" href="../../d6/d9/lh__open_2general_8h.html#a6">CMHelperICC2int16</a>(&amp;(linkHeader-&gt;<a class="code" href="../../d1/d2/structicHeader.html#o6">date</a>.<a class="code" href="../../d8/d1/structicDateTimeNumber.html#o5">seconds</a>                    ), &amp;datetimeRec.<a class="code" href="../../d5/d7/structDateTimeRec.html#o5">second</a>);        
00099         <a class="code" href="../../d0/d6/lh__core_2memlink_8c.html#a1">CMHelperICC2int32Const</a>(&amp;(linkHeader-&gt;<a class="code" href="../../d1/d2/structicHeader.html#o7">magic</a>                              ), icMagicNumber);                                      <span class="comment">/* 'acsp' constant ICC file ID */</span>
00100         <a class="code" href="../../d0/d6/lh__core_2memlink_8c.html#a1">CMHelperICC2int32Const</a>(&amp;(linkHeader-&gt;<a class="code" href="../../d1/d2/structicHeader.html#o8">platform</a>                   ), icSigMicrosoft);                                     <span class="comment">/* primary profile platform, Registered with ICC consortium */</span>
00101         <a class="code" href="../../d0/d6/lh__core_2memlink_8c.html#a1">CMHelperICC2int32Const</a>(&amp;(linkHeader-&gt;<a class="code" href="../../d1/d2/structicHeader.html#o9">flags</a>                              ), 0);                                                          <span class="comment">/* profile flags */</span>
00102         <a class="code" href="../../d0/d6/lh__core_2memlink_8c.html#a1">CMHelperICC2int32Const</a>(&amp;(linkHeader-&gt;<a class="code" href="../../d1/d2/structicHeader.html#o10">manufacturer</a>               ), icSigMicrosoft);                                                     <span class="comment">/* Registered with ICC consortium */</span>
00103         <a class="code" href="../../d0/d6/lh__core_2memlink_8c.html#a1">CMHelperICC2int32Const</a>(&amp;(linkHeader-&gt;<a class="code" href="../../d1/d2/structicHeader.html#o11">model</a>                              ), 0);                                                          <span class="comment">/* Registered with ICC consortium */</span>
00104         <a class="code" href="../../d0/d6/lh__core_2memlink_8c.html#a1">CMHelperICC2int32Const</a>(&amp;(linkHeader-&gt;<a class="code" href="../../d1/d2/structicHeader.html#o12">attributes</a>[0]              ), 0);                                                          <span class="comment">/* Attributes like paper type */</span>
00105         <a class="code" href="../../d0/d6/lh__core_2memlink_8c.html#a1">CMHelperICC2int32Const</a>(&amp;(linkHeader-&gt;<a class="code" href="../../d1/d2/structicHeader.html#o12">attributes</a>[1]              ), 0);
00106         <a class="code" href="../../d0/d6/lh__core_2memlink_8c.html#a1">CMHelperICC2int32Const</a>(&amp;(linkHeader-&gt;<a class="code" href="../../d1/d2/structicHeader.html#o13">renderingIntent</a>    ), aIntent );                                                           <span class="comment">/* preferred rendering intent of tagged object */</span>
00107         <a class="code" href="../../d0/d6/lh__core_2memlink_8c.html#a1">CMHelperICC2int32Const</a>(&amp;(linkHeader-&gt;<a class="code" href="../../d1/d2/structicHeader.html#o14">illuminant</a>.<a class="code" href="../../d8/d6/structicXYZNumber.html#o0">X</a>               ), 0.9642 * 65536);                                     <span class="comment">/* profile illuminant */</span>
00108         <a class="code" href="../../d0/d6/lh__core_2memlink_8c.html#a1">CMHelperICC2int32Const</a>(&amp;(linkHeader-&gt;<a class="code" href="../../d1/d2/structicHeader.html#o14">illuminant</a>.<a class="code" href="../../d8/d6/structicXYZNumber.html#o1">Y</a>               ), 1.0000 * 65536);
00109         <a class="code" href="../../d0/d6/lh__core_2memlink_8c.html#a1">CMHelperICC2int32Const</a>(&amp;(linkHeader-&gt;<a class="code" href="../../d1/d2/structicHeader.html#o14">illuminant</a>.<a class="code" href="../../d8/d6/structicXYZNumber.html#o2">Z</a>               ), 0.8249 * 65536);
00110         <a class="code" href="../../d0/d6/lh__core_2memlink_8c.html#a1">CMHelperICC2int32Const</a>(&amp;(linkHeader-&gt;<a class="code" href="../../d1/d2/structicHeader.html#o16">creator</a>                    ), 'UJK ');
00111                 
00112         <span class="keywordflow">return</span> err;
00113 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a7" doxytag="w98/lh_core/memlink.c::MyAdd_NL_HeaderMS" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a11">CMError</a> MyAdd_NL_HeaderMS           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a8">UINT32</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>theSize</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d1/d2/structicHeader.html">icHeader</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>linkHeader</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>unsigned long&nbsp;</td>
          <td class="mdname" nowrap> <em>aIntent</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d5/d7/mscmm_8w98_2lh__core_2profile_8h.html#a186">icColorSpaceSignature</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>sCS</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d5/d7/mscmm_8w98_2lh__core_2profile_8h.html#a186">icColorSpaceSignature</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>dCS</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a21" doxytag="w98/lh_core/memlink.c::MyAdd_NL_SequenceDescTag" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a11">CMError</a> MyAdd_NL_SequenceDescTag           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d9/d3/structCMConcatProfileSet.html">CMConcatProfileSet</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>profileSet</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d8/d3/structicProfileSequenceDescType.html">icProfileSequenceDescType</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>pSeqPtr</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>long *&nbsp;</td>
          <td class="mdname" nowrap> <em>aSize</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d2/d5/w98_2lh__core_2memlink_8c-source.html#l00725">725</a> of file <a class="el" href="../../d2/d5/w98_2lh__core_2memlink_8c-source.html">w98/lh_core/memlink.c</a>.
<p>
References <a class="el" href="../../d6/d6/mscmm_8w98_2lh__core_2profile_8h-source.html#l00924">icHeader::attributes</a>, <a class="el" href="../../d6/d6/mscmm_8w98_2lh__core_2profile_8h-source.html#l00809">icProfileSequenceDescType::base</a>, <a class="el" href="../../d7/d8/lh__open_2general_8h-source.html#l00056">BlockMoveData</a>, <a class="el" href="../../d3/d5/lh__open_2pi__app_8h-source.html#l00023">CMError</a>, <a class="el" href="../../d8/d2/ntgdi_2icm_2mscmm_8w98_2mscmm_2access_8c-source.html#l00059">CMGetProfileElement()</a>, <a class="el" href="../../d8/d2/ntgdi_2icm_2mscmm_8w98_2mscmm_2access_8c-source.html#l00030">CMGetProfileHeader()</a>, <a class="el" href="../../d1/d5/lh__core_2memlink_8c-source.html#l00043">CMHelperICC2int32Const</a>, <a class="el" href="../../d6/d6/mscmm_8w98_2lh__core_2profile_8h-source.html#l00679">icProfileSequenceDesc::count</a>, <a class="el" href="../../d4/d5/w98_2lh__open_2pi__app_8h-source.html#l00171">CMConcatProfileSet::count</a>, <a class="el" href="../../d6/d6/mscmm_8w98_2lh__core_2profile_8h-source.html#l00810">icProfileSequenceDescType::desc</a>, <a class="el" href="../../d7/d6/lh__open_2pi__mem_8c-source.html#l00099">DisposeIfPtr()</a>, <a class="el" href="../../d8/d3/aug98_2dll32_2icc_8h-source.html#l00152">icSigDeviceMfgDescTag</a>, <a class="el" href="../../d8/d3/aug98_2dll32_2icc_8h-source.html#l00153">icSigDeviceModelDescTag</a>, <a class="el" href="../../d8/d3/aug98_2dll32_2icc_8h-source.html#l00224">icSigProfileSequenceDescType</a>, <a class="el" href="../../d8/d3/aug98_2dll32_2icc_8h-source.html#l00181">icSigTechnologyTag</a>, <a class="el" href="../../d8/d3/aug98_2dll32_2icc_8h-source.html#l00229">icSigTextDescriptionType</a>, <a class="el" href="../../d7/d8/lh__open_2general_8h-source.html#l00053">LH_END_PROC</a>, <a class="el" href="../../d7/d8/lh__open_2general_8h-source.html#l00052">LH_START_PROC</a>, <a class="el" href="../../d6/d6/mscmm_8w98_2lh__core_2profile_8h-source.html#l00922">icHeader::manufacturer</a>, <a class="el" href="../../d6/d6/mscmm_8w98_2lh__core_2profile_8h-source.html#l00923">icHeader::model</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00020">nil</a>, <a class="el" href="../../d4/d6/lh__open_2pi__basic_8h.html#a58a55">noErr</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00071">OSErr</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00070">OSType</a>, <a class="el" href="../../d4/d5/w98_2lh__open_2pi__app_8h-source.html#l00172">CMConcatProfileSet::profileSet</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00052">Ptr</a>, <a class="el" href="../../d6/d6/mscmm_8w98_2lh__core_2profile_8h-source.html#l00833">icSignatureType::signature</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00040">SINT32</a>, <a class="el" href="../../d7/d6/lh__open_2pi__mem_8c-source.html#l00047">SmartNewPtr()</a>, and <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00032">UINT32</a>.
<p>
Referenced by <a class="el" href="../../d9/d4/mscmm_2membaspr_8c-source.html#l00040">DeviceLinkFill()</a>, and <a class="el" href="../../d8/d5/mscmm_2memprof_8c-source.html#l00085">MyNewDeviceLinkFill()</a>.
<p>
<pre class="fragment"><div>00728 {
00729         <a class="code" href="../../d2/d6/lh__open_2pi__app_8h.html#a11">CMError</a>                                         err;
00730         <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a35">OSErr</a>                                           aOSerr;
00731         <span class="comment">/*icProfileSequenceDescType*    pSeqPtr         = nil;*/</span>
00732         <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a28">Ptr</a>                                                     thePtr          = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a2">nil</a>;
00733         <a class="code" href="../../d1/d2/structicHeader.html">icHeader</a>                                        profHeader;
00734         <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a14">SINT32</a>                                          loop;
00735         <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a34">OSType</a>                                          technology;
00736         <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a8">UINT32</a>                                          elementSize;
00737         <a class="code" href="../../d4/d4/structicSignatureType.html">icSignatureType</a>                         theSignature;
00738         <a class="code" href="../../d0/d5/structicTextDescriptionType.html">icTextDescriptionType</a>*          descPtr         = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a2">nil</a>;
00739         <span class="keywordtype">char</span>                                            descPtrNull[90]={0};
00740 
00741         <a class="code" href="../../d6/d9/lh__open_2general_8h.html#a1">LH_START_PROC</a>(<span class="stringliteral">"MyAdd_NL_SequenceDescTag"</span>)
00742         
00743         CMHelperICC2int32Const(&amp;(((<a class="code" href="../../d0/d5/structicTextDescriptionType.html">icTextDescriptionType</a>*)descPtrNull)-&gt;base ), icSigTextDescriptionType );
00744         CMHelperICC2int32Const(((OSType*)&amp;((<a class="code" href="../../d0/d5/structicTextDescriptionType.html">icTextDescriptionType</a>*)descPtrNull)-&gt;base )+1, 0);
00745         CMHelperICC2int32Const(&amp;(((<a class="code" href="../../d0/d5/structicTextDescriptionType.html">icTextDescriptionType</a>*)descPtrNull)-&gt;desc.count ), 1 );
00746         <span class="comment">/*pSeqPtr =  (icProfileSequenceDescType*)SmartNewPtrClear(5000, &amp;aOSerr);</span>
00747 <span class="comment">        err = aOSerr;</span>
00748 <span class="comment">        if (err)</span>
00749 <span class="comment">                goto CleanupAndExit;*/</span>
00750         CMHelperICC2int32Const(&amp;(pSeqPtr-&gt;base ), icSigProfileSequenceDescType);
00751         CMHelperICC2int32Const((OSType*)&amp;(pSeqPtr-&gt;base )+1, 0);
00752         CMHelperICC2int32Const(&amp;(pSeqPtr-&gt;desc.count ), profileSet-&gt;count );
00753         thePtr = (Ptr)( (SIZE_T)&amp;(pSeqPtr-&gt;desc.count) + sizeof(SINT32) ) ;             
00754         
00755         for (loop = 0; loop &lt; (SINT32)profileSet-&gt;count; loop++)
00756         {
00757                 err = <a class="code" href="../../d7/d3/ntgdi_2icm_2mscmm_8w98_2mscmm_2access_8c.html#a0">CMGetProfileHeader</a>(profileSet-&gt;<a class="code" href="../../d9/d3/structCMConcatProfileSet.html#o2">profileSet</a>[loop], (<a class="code" href="../../d1/d2/structicHeader.html">CMCoreProfileHeader</a> *)&amp;profHeader);
00758                 <span class="keywordflow">if</span> (err)
00759                         <span class="keywordflow">goto</span> CleanupAndExit;
00760                 <a class="code" href="../../d0/d6/lh__core_2memlink_8c.html#a1">CMHelperICC2int32Const</a>(thePtr, profHeader.<a class="code" href="../../d1/d2/structicHeader.html#o10">manufacturer</a>);
00761                 thePtr += <span class="keyword">sizeof</span>(<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a34">OSType</a>);
00762                 <a class="code" href="../../d0/d6/lh__core_2memlink_8c.html#a1">CMHelperICC2int32Const</a>(thePtr, profHeader.<a class="code" href="../../d1/d2/structicHeader.html#o11">model</a>);
00763                 thePtr += <span class="keyword">sizeof</span>(<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a34">OSType</a>);
00764                 <a class="code" href="../../d0/d6/lh__core_2memlink_8c.html#a1">CMHelperICC2int32Const</a>(thePtr, profHeader.<a class="code" href="../../d1/d2/structicHeader.html#o12">attributes</a>[0]);
00765                 thePtr += <span class="keyword">sizeof</span>(<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a8">UINT32</a>);
00766                 <a class="code" href="../../d0/d6/lh__core_2memlink_8c.html#a1">CMHelperICC2int32Const</a>(thePtr, profHeader.<a class="code" href="../../d1/d2/structicHeader.html#o12">attributes</a>[1]);
00767                 thePtr += <span class="keyword">sizeof</span>(<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a8">UINT32</a>);
00768                 
00769                 <span class="comment">/* ----------------------------------------------------------------- icSigTechnologyTag */</span>
00770                 technology = 0;
00771                 <span class="keywordflow">if</span> ( <a class="code" href="../../d7/d3/ntgdi_2icm_2mscmm_8w98_2mscmm_2access_8c.html#a1">CMGetProfileElement</a>(profileSet-&gt;<a class="code" href="../../d9/d3/structCMConcatProfileSet.html#o2">profileSet</a>[loop], icSigTechnologyTag, &amp;elementSize, nil) == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a58a55">noErr</a>)
00772                 {
00773                         <span class="keywordflow">if</span> (elementSize == <span class="keyword">sizeof</span>(<a class="code" href="../../d7/d4/aug98_2dll32_2icc_8h.html#a59">icSigTechnologyTag</a>))
00774                         {
00775                                 <span class="keywordflow">if</span> ( <a class="code" href="../../d7/d3/ntgdi_2icm_2mscmm_8w98_2mscmm_2access_8c.html#a1">CMGetProfileElement</a>(profileSet-&gt;<a class="code" href="../../d9/d3/structCMConcatProfileSet.html#o2">profileSet</a>[loop], icSigTechnologyTag, &amp;elementSize, &amp;theSignature) == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a58a55">noErr</a>)
00776                                         technology = theSignature.<a class="code" href="../../d4/d4/structicSignatureType.html#o1">signature</a>;
00777                         }
00778                 }
00779                 *((<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a34">OSType</a>*)thePtr) = technology;                                                                        <span class="comment">/* signature */</span>
00780                 thePtr += <span class="keyword">sizeof</span>(<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a34">OSType</a>);
00781                 
00782                 <span class="comment">/* ----------------------------------------------------------------- icSigDeviceMfgDescTag */</span>
00783                 <span class="keywordflow">if</span> ( <a class="code" href="../../d7/d3/ntgdi_2icm_2mscmm_8w98_2mscmm_2access_8c.html#a1">CMGetProfileElement</a>(profileSet-&gt;<a class="code" href="../../d9/d3/structCMConcatProfileSet.html#o2">profileSet</a>[loop], icSigDeviceMfgDescTag, &amp;elementSize, nil) == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a58a55">noErr</a>)
00784                 {
00785                         descPtr = (<a class="code" href="../../d0/d5/structicTextDescriptionType.html">icTextDescriptionType</a>*)<a class="code" href="../../d9/d7/w98_2lh__open_2pi__mem_8h.html#a5">SmartNewPtr</a>(elementSize,&amp;aOSerr);
00786                         err = aOSerr;
00787                         <span class="keywordflow">if</span> (err)
00788                                 <span class="keywordflow">goto</span> CleanupAndExit;
00789                         <span class="keywordflow">if</span> ( <a class="code" href="../../d7/d3/ntgdi_2icm_2mscmm_8w98_2mscmm_2access_8c.html#a1">CMGetProfileElement</a>(profileSet-&gt;<a class="code" href="../../d9/d3/structCMConcatProfileSet.html#o2">profileSet</a>[loop], icSigDeviceMfgDescTag, &amp;elementSize, descPtr) == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a58a55">noErr</a>)
00790                         {
00791                                 <a class="code" href="../../d6/d9/lh__open_2general_8h.html#a3">BlockMoveData</a>( descPtr, thePtr, elementSize);
00792                                 thePtr += elementSize;
00793                         }
00794                         descPtr = (<a class="code" href="../../d0/d5/structicTextDescriptionType.html">icTextDescriptionType</a>*)<a class="code" href="../../d9/d7/w98_2lh__open_2pi__mem_8h.html#a4">DisposeIfPtr</a>((Ptr)descPtr);
00795                 } <span class="keywordflow">else</span>
00796                 {
00797                         <a class="code" href="../../d6/d9/lh__open_2general_8h.html#a3">BlockMoveData</a>( descPtrNull, thePtr, <span class="keyword">sizeof</span>(descPtrNull));
00798                         thePtr += <span class="keyword">sizeof</span>(descPtrNull);
00799                 }
00800                 <span class="comment">/* ----------------------------------------------------------------- icSigDeviceModelDescTag */</span>
00801                 <span class="keywordflow">if</span> ( <a class="code" href="../../d7/d3/ntgdi_2icm_2mscmm_8w98_2mscmm_2access_8c.html#a1">CMGetProfileElement</a>(profileSet-&gt;<a class="code" href="../../d9/d3/structCMConcatProfileSet.html#o2">profileSet</a>[loop], icSigDeviceModelDescTag, &amp;elementSize, nil) == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a58a55">noErr</a>)
00802                 {
00803                         descPtr = (<a class="code" href="../../d0/d5/structicTextDescriptionType.html">icTextDescriptionType</a>*)<a class="code" href="../../d9/d7/w98_2lh__open_2pi__mem_8h.html#a5">SmartNewPtr</a>(elementSize,&amp;aOSerr);
00804                         err = aOSerr;
00805                         <span class="keywordflow">if</span> (err)
00806                                 <span class="keywordflow">goto</span> CleanupAndExit;
00807                         <span class="keywordflow">if</span> ( <a class="code" href="../../d7/d3/ntgdi_2icm_2mscmm_8w98_2mscmm_2access_8c.html#a1">CMGetProfileElement</a>(profileSet-&gt;<a class="code" href="../../d9/d3/structCMConcatProfileSet.html#o2">profileSet</a>[loop], icSigDeviceModelDescTag, &amp;elementSize, descPtr) == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a58a55">noErr</a>)
00808                         {
00809                                 <a class="code" href="../../d6/d9/lh__open_2general_8h.html#a3">BlockMoveData</a>( descPtr, thePtr, elementSize);
00810                                 thePtr += elementSize;
00811                         }
00812                         descPtr =  (<a class="code" href="../../d0/d5/structicTextDescriptionType.html">icTextDescriptionType</a>*)<a class="code" href="../../d9/d7/w98_2lh__open_2pi__mem_8h.html#a4">DisposeIfPtr</a>((Ptr)descPtr);
00813                 } <span class="keywordflow">else</span>
00814                 {
00815                         <a class="code" href="../../d6/d9/lh__open_2general_8h.html#a3">BlockMoveData</a>( descPtrNull, thePtr, <span class="keyword">sizeof</span>(descPtrNull));
00816                         thePtr += <span class="keyword">sizeof</span>(descPtrNull);
00817                 }
00818                 <span class="comment">/* ----------------------------------------------------------------- */</span>
00819         }
00820 
00821    <span class="comment">//Sundown safe truncation</span>
00822         *aSize = (LONG)((ULONG_PTR)thePtr - (ULONG_PTR)pSeqPtr);
00823         
00824 CleanupAndExit:
00825         descPtr = (<a class="code" href="../../d0/d5/structicTextDescriptionType.html">icTextDescriptionType</a>*)<a class="code" href="../../d9/d7/w98_2lh__open_2pi__mem_8h.html#a4">DisposeIfPtr</a>((Ptr)descPtr);
00826         <a class="code" href="../../d6/d9/lh__open_2general_8h.html#a2">LH_END_PROC</a>(<span class="stringliteral">"MyAdd_NL_SequenceDescTag"</span>)
00827         return err;
00828 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a20" doxytag="w98/lh_core/memlink.c::MyGetColorSpaces" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a11">CMError</a> MyGetColorSpaces           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d9/d3/structCMConcatProfileSet.html">CMConcatProfileSet</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>profileSet</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a8">UINT32</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>sCS</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a8">UINT32</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>dCS</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a27" doxytag="w98/lh_core/memlink.c::NormalizeColor" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void NormalizeColor           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d8/d6/structicXYZNumber.html">MyXYZNumber</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>r</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d8/d6/structicXYZNumber.html">MyXYZNumber</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>g</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d8/d6/structicXYZNumber.html">MyXYZNumber</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>b</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d5/d1/structMyDoubleXYZ.html">MyDoubleXYZ</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>Illuminant</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d8/d6/structicXYZNumber.html">MyXYZNumber</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>resR</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d8/d6/structicXYZNumber.html">MyXYZNumber</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>resG</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d8/d6/structicXYZNumber.html">MyXYZNumber</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>resB</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a28" doxytag="w98/lh_core/memlink.c::NormalizeWithWhiteAdaption" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void NormalizeWithWhiteAdaption           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d8/d6/structicXYZNumber.html">MyXYZNumber</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>r</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d8/d6/structicXYZNumber.html">MyXYZNumber</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>g</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d8/d6/structicXYZNumber.html">MyXYZNumber</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>b</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d5/d1/structMyDoubleXYZ.html">MyDoubleXYZ</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>Illuminant</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d8/d6/structicXYZNumber.html">MyXYZNumber</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>resR</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d8/d6/structicXYZNumber.html">MyXYZNumber</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>resG</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d8/d6/structicXYZNumber.html">MyXYZNumber</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>resB</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a25" doxytag="w98/lh_core/memlink.c::TransposeMatrix" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void TransposeMatrix           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">double&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>inpMat</em>[3][3]          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Referenced by <a class="el" href="../../d1/d5/lh__core_2memlink_8c-source.html#l00905">NormalizeWithWhiteAdaption()</a>.    </td>
  </tr>
</table>
<hr size="1"><address style="align: right;"><small>Generated on Sat May 15 19:44:37 2004 for test by
<a href="http://www.doxygen.org/index.html">
<img src="../../doxygen.png" alt="doxygen" align="middle" border=0 ></a> 1.3.7 </small></address>
</body>
</html>
